/*!
 * 
 * /* Smart UI v9.1.0 (2021-Feb) 
 * Copyright (c) 2011-2021 jQWidgets. 
 * License: https://htmlelements.com/license/ * /
 * 
 * 
 */!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=174)}({0:function(e,t){function r(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function a(e){return function(){var t,r=f(e);if(d()){var i=f(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return o(this,t)}}function o(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return c(e,arguments,f(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,e)})(e)}function c(e,t,r){return(c=d()?Reflect.construct:function(e,t,r){var i=[null];i.push.apply(i,t);var n=new(Function.bind.apply(e,i));return r&&h(n,r.prototype),n}).apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,r){return t&&m(e.prototype,t),r&&m(e,r),e}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==g(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=39)}({39:function(e,t){!function(){var e=[],t="Smart";if(window[t]&&window[t].Version){if("9.1.0"===window[t].Version)return;if("9.1.0"!==window[t].Version)t+="9.1.0";else for(var i=2;window[t];)t+=i.toString(),i++}var c=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);var d=function(){function e(){p(this,e)}return v(e,null,[{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isObject",value:function(e){return e&&("object"==g(e)||this.isFunction(e))||!1}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"getType",value:function(e){var t=this,r=["Boolean","Number","String","Function","Array","Date","Object"].find((function(r){if(t["is"+r](e))return r}));return r?r.toLowerCase():void 0}}]),e}(),h=function(){function e(){p(this,e)}return v(e,null,[{key:"animate",value:function(e,r,i,n){var a=e;if(a&&a instanceof HTMLElement!=0){if(0===a.getElementsByClassName("smart-ripple").length){var o=document.createElement("span");o.classList.add("smart-ripple"),o.setAttribute("role","presentation");var l=!0,s=null;if(window[t].EnableShadowDOM&&a.enableShadowDOM&&!0!==a.isInShadowDOM){for(var u=0;u<a.shadowRoot.host.shadowRoot.children.length;u++)"link"!==a.shadowRoot.host.shadowRoot.children[u].tagName.toLowerCase()&&(s=a.shadowRoot.host.shadowRoot.children[u]);a.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(l=!1)}else s=a.firstElementChild;l&&(s&&!s.noRipple&&s.offsetHeight>0?s.appendChild(o):a.appendChild(o))}var c=null;if(c=window[t].EnableShadowDOM&&a.shadowRoot?a.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):a.getElementsByClassName("smart-ripple")[0]){c.innerHTML="",c.classList.remove("smart-animate"),c.style.height=c.style.width=Math.max(a.offsetHeight,a.offsetWidth)+"px";var d=window.getComputedStyle(c.parentElement),h=parseInt(d.borderLeftWidth)||0,f=parseInt(d.borderTopWidth)||0,p=a.getBoundingClientRect(),m=r-(p.left+window.pageXOffset)-c.offsetWidth/2-h,v=i-(p.top+window.pageYOffset)-c.offsetHeight/2-f;c.style.left=m+"px",c.style.top=v+"px",c.classList.add("smart-animate"),c.addEventListener("animationend",(function e(){c.parentElement&&c.parentElement.removeChild(c),n&&n(),c.removeEventListener("animationend",e),c.removeEventListener("animationcancel",e)})),c.addEventListener("animationcancel",(function e(){c.parentElement&&c.parentElement.removeChild(c),n&&n(),c.removeEventListener("animationcancel",e),c.removeEventListener("animationend",e)}))}}}}]),e}(),m=function(){function e(){p(this,e)}return v(e,null,[{key:"easeInQuad",value:function(e,t,r,i){return r*(e/=i)*e+t}},{key:"easeOutQuad",value:function(e,t,r,i){return-r*(e/=i)*(e-2)+t}},{key:"easeInOutQuad",value:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t}},{key:"easeInCubic",value:function(e,t,r,i){return r*(e/=i)*e*e+t}},{key:"easeOutCubic",value:function(e,t,r,i){return r*((e=e/i-1)*e*e+1)+t}},{key:"easeInOutCubic",value:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}},{key:"easeInQuart",value:function(e,t,r,i){return r*(e/=i)*e*e*e+t}},{key:"easeOutQuart",value:function(e,t,r,i){return-r*((e=e/i-1)*e*e*e-1)+t}},{key:"easeInOutQuart",value:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e*e*e+t:-r/2*((e-=2)*e*e*e-2)+t}},{key:"easeInQuint",value:function(e,t,r,i){return r*(e/=i)*e*e*e*e+t}},{key:"easeOutQuint",value:function(e,t,r,i){return r*((e=e/i-1)*e*e*e*e+1)+t}},{key:"easeInOutQuint",value:function(e,t,r,i){return(e/=i/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t}},{key:"easeInSine",value:function(e,t,r,i){return-r*Math.cos(e/i*(Math.PI/2))+r+t}},{key:"easeOutSine",value:function(e,t,r,i){return r*Math.sin(e/i*(Math.PI/2))+t}},{key:"easeInOutSine",value:function(e,t,r,i){return-r/2*(Math.cos(Math.PI*e/i)-1)+t}},{key:"easeInExpo",value:function(e,t,r,i){return 0===e?t:r*Math.pow(2,10*(e/i-1))+t}},{key:"easeOutExpo",value:function(e,t,r,i){return e===i?t+r:r*(1-Math.pow(2,-10*e/i))+t}},{key:"easeInOutExpo",value:function(e,t,r,i){return 0===e?t:e===i?t+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+t:r/2*(2-Math.pow(2,-10*--e))+t}},{key:"easeInCirc",value:function(e,t,r,i){return-r*(Math.sqrt(1-(e/=i)*e)-1)+t}},{key:"easeOutCirc",value:function(e,t,r,i){return r*Math.sqrt(1-(e=e/i-1)*e)+t}},{key:"easeInOutCirc",value:function(e,t,r,i){return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+t:r/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},{key:"easeInElastic",value:function(e,t,r,i){var n=1.70158,a=0,o=r;return 0===e?t:1==(e/=i)?t+r:(a||(a=.3*i),o<Math.abs(r)?(o=r,n=a/4):n=a/(2*Math.PI)*Math.asin(r/o),-o*Math.pow(2,10*(e-=1))*Math.sin((e*i-n)*(2*Math.PI)/a)+t)}},{key:"easeOutElastic",value:function(e,t,r,i){var n=1.70158,a=0,o=r;return 0===e?t:1==(e/=i)?t+r:(a||(a=.3*i),o<Math.abs(r)?(o=r,n=a/4):n=a/(2*Math.PI)*Math.asin(r/o),o*Math.pow(2,-10*e)*Math.sin((e*i-n)*(2*Math.PI)/a)+r+t)}},{key:"easeInOutElastic",value:function(e,t,r,i){var n=1.70158,a=0,o=r;return 0===e?t:2==(e/=i/2)?t+r:(a||(a=i*(.3*1.5)),o<Math.abs(r)?(o=r,n=a/4):n=a/(2*Math.PI)*Math.asin(r/o),e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*i-n)*(2*Math.PI)/a)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-n)*(2*Math.PI)/a)*.5+r+t)}},{key:"easeInBack",value:function(e,t,r,i,n){return void 0===n&&(n=1.70158),r*(e/=i)*e*((n+1)*e-n)+t}},{key:"easeOutBack",value:function(e,t,r,i,n){return void 0===n&&(n=1.70158),r*((e=e/i-1)*e*((n+1)*e+n)+1)+t}},{key:"easeInOutBack",value:function(e,t,r,i,n){return void 0===n&&(n=1.70158),(e/=i/2)<1?r/2*(e*e*((1+(n*=1.525))*e-n))+t:r/2*((e-=2)*e*((1+(n*=1.525))*e+n)+2)+t}},{key:"easeInBounce",value:function(e,t,r,i){return r-this.easeOutBounce(i-e,0,r,i)+t}},{key:"easeOutBounce",value:function(e,t,r,i){return(e/=i)<1/2.75?r*(7.5625*e*e)+t:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+t:r*(7.5625*(e-=2.625/2.75)*e+.984375)+t}},{key:"easeInOutBounce",value:function(e,t,r,i){return e<i/2?.5*this.easeInBounce(2*e,0,r,i)+t:.5*this.easeOutBounce(2*e-i,0,r,i)+.5*r+t}}]),e}(),y=function(){function e(){p(this,e)}return v(e,null,[{key:"toCamelCase",value:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}},{key:"toDash",value:function(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"unescapeHTML",value:function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}},{key:"escapeHTML",value:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))}},{key:"createGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"getScriptLocation",value:function(){return"./"!==window[t].BaseUrl?window[t].BaseUrl:function(){if(document.currentScript){var e=document.currentScript.src,t=e.lastIndexOf("/");return e=e.substring(0,t)}var r=new Error,i="(",n=")";if(Smart.Utilities.Core.Browser.Safari&&(i="@",n="\n"),r.fileName)return r.fileName.replace("/smart.element.js","");var a=r.stack.split(i);return(a=(a=(a=a[1]).split(n)[0]).split(":")).splice(-2,2),(a=a.join(":")).replace("/smart.element.js","")}()}},{key:"CSSVariablesSupport",value:function(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}},{key:"assign",value:function(e,t){var r=this,i=function(e){return e&&"object"==g(e)&&!Array.isArray(e)&&null!==e},n=Object.assign({},e);return i(e)&&i(t)&&Object.keys(t).forEach((function(a){var o,l,s;i(t[a])&&a in e?n[a]=r.assign(e[a],t[a]):Object.assign(n,(o={},l=a,s=t[a],l in o?Object.defineProperty(o,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[l]=s,o))})),n}},{key:"html",value:function(e,t){var r="",i=e.childNodes;if(!t){for(var n,a=0,o=i.length;a<o&&(n=i[a]);a++){if(n instanceof HTMLElement||n.tagName&&["strong"].indexOf(n.tagName.toLowerCase())>=0){for(var l,s=n.tagName.toLowerCase(),u=n.attributes,c="<"+s,d=0;l=u[d];d++)c+=" "+l.name+'="'+l.value.replace(/[&\u00A0"]/g,T.Core.escapeHTML)+'"';c+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][s]&&(r+=c),r=r+c+this.html(n)+"</"+s+">"}else{if(8===n.nodeType)continue;r+=n.textContent.replace(/[&\u00A0<>]/g,T.Core.escapeHTML)}}return r}e.innerHTML=t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")}},{key:"isMobile",get:function(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}},{key:"Browser",get:function(){var e,t=function(t){var r=t.indexOf(e);if(-1!==r){var i=t.indexOf("rv:");return"Trident"===e&&-1!==i?parseFloat(t.substring(i+3)):parseFloat(t.substring(r+e.length+1))}},r={};return r[function(){for(var t=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}],r=0;r<t.length;r++){var i=t[r].string;if(e=t[r].subString,-1!==i.indexOf(t[r].subString))return t[r].identity}return"Other"}()]=!0,r.version=t(navigator.userAgent)||t(navigator.appVersion)||"Unknown",r}}]),e}(),b=[],_=function(){function e(){p(this,e)}return v(e,null,[{key:"watch",value:function(t){b.push(t),e.interval&&clearInterval(e.interval),e.interval=setInterval((function(){e.observe()}),100)}},{key:"observeElement",value:function(t){var r=t;if("test"!==window.Smart.Mode){var i=t._computedStyle||"resize"!==r.hasStyleObserver?document.defaultView.getComputedStyle(r,null):{},n=!0,a="resize"!==r.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(t.styleProperties&&(a=a.concat(t.styleProperties)),t.observableStyleProperties&&(a=t.observableStyleProperties),r._styleInfo){if(t.isHidden||"none"!==i.display&&(0!==t.offsetWidth&&0!==t.offsetHeight||(t.isHidden=!0)),t.isHidden){if(t.visibilityChangedHandler(),t.isHidden)return;n=!1}for(var o=[],l=0;l<a.length;l++){var s=a[l],u=s.startsWith("--")?i.getPropertyValue(s):i[s];r._styleInfo[s]!==u&&(o[s]={oldValue:r._styleInfo[s],value:u},o.length++),r._styleInfo[s]=u}o.length>0&&(r.$.fireEvent("styleChanged",{styleProperties:o},{bubbles:!1,cancelable:!0}),o.display&&n&&r.$.fireEvent("resize",r,{bubbles:!1,cancelable:!0}))}else{r._styleInfo=[];for(var c=0;c<a.length;c++){var d=a[c],h=d.startsWith("--")?i.getPropertyValue(d):i[d];r._styleInfo[d]=h}}}else e.interval&&clearInterval(e.interval)}},{key:"observe",value:function(){for(var e=0;e<b.length;e++){var t=b[e];this.observeElement(t)}}},{key:"unwatch",value:function(t){e.interval&&clearInterval(e.interval);var r=b.indexOf(t);-1!==r&&b.splice(r,1),b.length>0&&(e.interval=setInterval((function(){e.observe()}),100))}}]),e}(),w=[],S=[],k=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"],x=function(){function e(t){p(this,e);var r=this;r.target=t,r.$target=new M(t),r.$document=t.$document?t.$document:new M(document),r.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();var i={handlers:{},boundEventTypes:[],listen:r.listen.bind(r),unlisten:r.unlisten.bind(r)};return r.tapHoldDelay=750,r.swipeMin=10,r.swipeMax=5e3,r.swipeDelay=1e3,r.tapHoldDelay=750,r.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],k.forEach((function(e){i[e]=function(t){i.handlers[e]=t},r[e]=function(e){if(!i.handlers[e.type]){if(("mousemove"===e.type||"pointermove"===e.type||"touchmove"===e.type)&&i.handlers.move){var t=r.createEvent(e,"move");i.handlers.move(t)}return!0}return i.handlers[e.type](e)}})),r.listen(),r.handlers=i.handlers,i}return v(e,[{key:"listen",value:function(e){var r=this;if("resize"===e&&r.target!==document&&r.target!==window&&!1!==r.target.hasResizeObserver)if(Smart.Utilities.Core.Browser.Firefox){if(!r.target.resizeObserver){var i=!1,n=new ResizeObserver((function(){if(i){var e=new CustomEvent("resize",{bubbles:!1,cancelable:!0});r.resize(e)}else i=!0}));n.observe(r.target),r.target.resizeObserver=n}}else if(!r.target.resizeTrigger){var a=document.createElement("div");a.className="smart-resize-trigger-container",a.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',a.setAttribute("aria-hidden",!0),window[t].EnableShadowDOM&&r.target.shadowRoot?r.target.shadowRoot.appendChild(a):r.target.appendChild(a),r.target.resizeTrigger=a;var o,l,s,u,c=a.childNodes[0],d=c.childNodes[0],h=a.childNodes[1],f=function(){d.style.width="100000px",d.style.height="100000px",c.scrollLeft=1e5,c.scrollTop=1e5,h.scrollLeft=1e5,h.scrollTop=1e5},p=r.target.offsetWidth,m=r.target.offsetHeight;if(0===p||0===m){r.target.addEventListener("resize",(function e(){f(),r.target.removeEventListener("resize",e)})),f()}else f();r.target.resizeHandler=function(){l||(l=requestAnimationFrame((function(){if(l=0,s=r.target.offsetWidth,u=r.target.offsetHeight,o=s!==p||u!==m,r.target.requiresLayout&&(o=!0),o){p=s,m=u;var e=new CustomEvent("resize",{bubbles:!1,cancelable:!0});r.resize(e),r.target.requiresLayout=!1}}))),f()},c.addEventListener("scroll",r.target.resizeHandler),h.addEventListener("scroll",r.target.resizeHandler)}r.isListening||(r.isListening=!0,r.isPressed=!1,r.isReleased=!1,r.isInBounds=!1,window.PointerEvent?(r.$target.listen("pointerdown.inputEvents"+r.id,r.pointerDown.bind(r)),r.$target.listen("pointerup.inputEvents"+r.id,r.pointerUp.bind(r)),r.$target.listen("pointermove.inputEvents"+r.id,r.pointerMove.bind(r)),r.$target.listen("pointercancel.inputEvents"+r.id,r.pointerCancel.bind(r))):("ontouchstart"in window&&(r.$target.listen("touchmove.inputEvents"+r.id,r.touchMove.bind(r)),r.$target.listen("touchstart.inputEvents"+r.id,r.touchStart.bind(r)),r.$target.listen("touchend.inputEvents"+r.id,r.touchEnd.bind(r)),r.$target.listen("touchcancel.inputEvents"+r.id,r.touchCancel.bind(r))),r.$target.listen("mousedown.inputEvents"+r.id,r.mouseDown.bind(r)),r.$target.listen("mouseup.inputEvents"+r.id,r.mouseUp.bind(r)),r.$target.listen("mousemove.inputEvents"+r.id,r.mouseMove.bind(r)),r.$target.listen("mouseleave.inputEvents"+r.id,r.mouseLeave.bind(r))),r.target._handleDocumentUp||(r.target._handleDocumentUp=r.handleDocumentUp.bind(r),r.target._handleDocumentUpId=r.id,r.$document.listen("mouseup.inputEvents"+r.target._handleDocumentUpId,r.target._handleDocumentUp)))}},{key:"unlisten",value:function(e){var t=this;if(t.isListening=!1,window.PointerEvent?(t.$target.unlisten("pointerdown.inputEvents"+t.id),t.$target.unlisten("pointerup.inputEvents"+t.id),t.$target.unlisten("pointermove.inputEvents"+t.id),t.$target.unlisten("pointercancel.inputEvents"+t.id)):("ontouchstart"in window&&(t.$target.unlisten("touchstart.inputEvents"+t.id),t.$target.unlisten("touchmove.inputEvents"+t.id),t.$target.unlisten("touchend.inputEvents"+t.id),t.$target.unlisten("touchcancel.inputEvents"+t.id)),t.$target.unlisten("mousedown.inputEvents"+t.id),t.$target.unlisten("mouseup.inputEvents"+t.id),t.$target.unlisten("mousemove.inputEvents"+t.id),t.$target.unlisten("mouseleave.inputEvents"+t.id)),t.target._handleDocumentUp&&(t.$document.unlisten("mouseup.inputEvents"+t.target._handleDocumentUpId,t.target._handleDocumentUp),delete t.target._handleDocumentUp,delete t.target._handleDocumentUpId),"resize"===e)if(Smart.Utilities.Core.Browser.Firefox)t.target.resizeObserver&&(t.target.resizeObserver.unobserve(t.target),delete t.target.resizeObserver);else if(t.target.resizeTrigger){var r=t.target.resizeTrigger,i=r.childNodes[0],n=r.childNodes[1];i.removeEventListener("scroll",t.target.resizeHandler),n.removeEventListener("scroll",t.target.resizeHandler),t.target.resizeHandler=null,r.parentNode.removeChild(r),delete t.target.resizeTrigger}}},{key:"handleDocumentUp",value:function(e){this.isPressed=!1,this.isReleased=!1,this.resetSwipe(e)}},{key:"createEvent",value:function(e,t){var r=this,i=e.touches,n=e.changedTouches,a=i&&i.length?i[0]:n&&n.length?n[0]:void 0,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:void 0!==r.$target.element.getRootNode().host});if(o.originalEvent=e,a){for(var l=0;l<r.inputEventProperties.length;l++){var s=r.inputEventProperties[l];o[s]=a[s]}return o}for(var u in e)u in o||(o[u]=e[u]);return o}},{key:"fireTap",value:function(e){if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){var t=this.createEvent(e,"tap");this.tap(t)}}},{key:"initTap",value:function(e){var t=this;t.isInBounds=!0,t.tapHoldFired=!1,t.tapHoldTimeout=setTimeout((function(){if(t.isInBounds){t.tapHoldFired=!0;var r=t.createEvent(e,"taphold");t.taphold(r)}}),t.tapHoldDelay)}},{key:"pointerDown",value:function(e){return this.handleDown(e)}},{key:"mouseDown",value:function(e){if(!(this.isPressed||this.touchStartTime&&new Date-this.touchStartTime<500))return this.handleDown(e)}},{key:"touchStart",value:function(e){return this.touchStartTime=new Date,this.isTouchMoved=!0,this.handleDown(e)}},{key:"mouseUp",value:function(e){if(!(this.isReleased||this.touchEndTime&&new Date-this.touchEndTime<500))return this.handleUp(e)}},{key:"handleDown",value:function(e){var t=this;t.isReleased=!1,t.isPressed=!0;var r=t.createEvent(e,"down");return(t.handlers.tap||t.handlers.taphold)&&t.initTap(r),(t.handlers.swipeleft||t.handlers.swiperight||t.handlers.swipetop||t.handlers.swipebottom)&&t.initSwipe(r),t.down(r)}},{key:"handleUp",value:function(e){var t=this;t.isReleased=!0,t.isPressed=!1;var r=t.createEvent(e,"up"),i=t.up(r);return(t.handlers.tap||t.handlers.taphold)&&t.fireTap(r),t.resetSwipe(r),i}},{key:"handleMove",value:function(e){var t=this,r=t.move(e);return t.isPressed&&(t._maxSwipeVerticalDistance=Math.max(t._maxSwipeVerticalDistance,Math.abs(t._startY-e.pageY)),t._maxSwipeHorizontalDistance=Math.max(t._maxSwipeHorizontalDistance,Math.abs(t._startX-e.pageX)),r=t.handleSwipeEvents(e)),r}},{key:"touchEnd",value:function(e){return this.touchEndTime=new Date,this.handleUp(e)}},{key:"pointerUp",value:function(e){return this.handleUp(e)}},{key:"pointerCancel",value:function(e){this.pointerUp(e)}},{key:"touchCancel",value:function(e){this.touchEnd(e)}},{key:"mouseLeave",value:function(){this.isInBounds=!1}},{key:"mouseMove",value:function(e){if(!this.isTouchMoved)return this.handleMove(e)}},{key:"pointerMove",value:function(e){return this.handleMove(e)}},{key:"touchMove",value:function(e){for(var t=this,r=e.touches,i=e.changedTouches,n=r&&r.length?r[0]:i&&i.length?i[0]:void 0,a=0;a<t.inputEventProperties.length;a++){var o=t.inputEventProperties[a];void 0===e[o]&&(e[o]=n[o])}return t.isTouchMoved=!0,t.handleMove(e)}},{key:"handleSwipeEvents",value:function(e){var t=!0;return(this.handlers.swipetop||this.handlers.swipebottom)&&(t=this.handleVerticalSwipeEvents(e)),!1===t||(this.handlers.swipeleft||this.handlers.swiperight)&&(t=this.handleHorizontalSwipeEvents(e)),t}},{key:"handleVerticalSwipeEvents",value:function(e){var t;return t=e.pageY-this._startY,this.swiped(e,t,"vertical")}},{key:"handleHorizontalSwipeEvents",value:function(e){var t;return t=e.pageX-this._startX,this.swiped(e,t,"horizontal")}},{key:"swiped",value:function(e,t,r){var i=this;if(r=r||0,Math.abs(t)>=i.swipeMin&&!i._swipeEvent&&!i._swipeLocked){var n=t<0?"swipeleft":"swiperight";if("horizontal"===r?i._swipeEvent=i.createEvent(e,n):(n=t<0?"swipetop":"swipebottom",i._swipeEvent=i.createEvent(e,t<0?"swipetop":"swipebottom")),i[n]&&(i[n](this._swipeEvent),Math.abs(t)<=this.swipeMax))return e.stopImmediatePropagation(),!1}return!0}},{key:"resetSwipe",value:function(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}},{key:"initSwipe",value:function(e){var t=this;t._maxSwipeVerticalDistance=0,t._maxSwipeHorizontalDistance=0,t._startX=e.pageX,t._startY=e.pageY,t._swipeLocked=!1,t._swipeEvent=null,t._swipeTimeout=setTimeout((function(){t._swipeLocked=!0}),t.swipeDelay)}}]),e}(),C=function(){function e(t,r,i){p(this,e),this.container=t,this.horizontalScrollBar=r,this.verticalScrollBar=i,this.disableSwipeScroll=!1,this.listen()}return v(e,[{key:"scrollWidth",get:function(){return this.horizontalScrollBar?this.horizontalScrollBar.max:-1},set:function(e){e<0&&(e=0),this.horizontalScrollBar&&(this.horizontalScrollBar.max=e)}},{key:"scrollHeight",get:function(){return this.verticalScrollBar?this.verticalScrollBar.max:-1},set:function(e){e<0&&(e=0),this.verticalScrollBar&&(this.verticalScrollBar.max=e)}},{key:"scrollLeft",get:function(){return this.horizontalScrollBar?this.horizontalScrollBar.value:-1},set:function(e){e<0&&(e=0),this.horizontalScrollBar&&(this.horizontalScrollBar.value=e)}},{key:"scrollTop",get:function(){return this.verticalScrollBar?this.verticalScrollBar.value:-1},set:function(e){e<0&&(e=0),this.verticalScrollBar&&(this.verticalScrollBar.value=e)}},{key:"vScrollBar",get:function(){return this.verticalScrollBar}},{key:"hScrollBar",get:function(){return this.horizontalScrollBar}}]),v(e,[{key:"listen",value:function(){var e,t,r,i,n,a,o,l,s=this,u=y.isMobile,c=s.horizontalScrollBar,d=s.verticalScrollBar;s.inputEvents=new x(s.container);var h,f=function(e){return{amplitude:0,delta:0,initialValue:0,min:0,max:e.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:e,value:0,velocity:0}},p=f(c),m=f(d),v=function(){var e=s.container.touchVelocityCoefficient||50;a=Date.now(),o=a-i,i=a;var t=function(t){t.delta=t.value-t.previousValue,t.previousValue=t.value;var r=e*t.delta/(1+o);t.velocity=.8*r+.2*t.velocity};t(m),t(p)},g=function(e){return l.value=e>l.max?l.max:e<l.min?l.min:e,l.scrollBar.value=l.value,e>l.max?"max":e<l.min?"min":"value"};function b(){var e,r;l.amplitude&&(s.container.$.fireEvent("kineticScroll"),e=Date.now()-i,(r=-l.amplitude*Math.exp(-e/500))>5||r<-5?(g(l.targetValue+r),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(b)):g(l.targetValue))}s.inputEvents.down((function(t){if(u){var a=t.originalEvent.target,o=a&&a.closest?a.closest("smart-scroll-bar"):void 0;if(o!==s.horizontalScrollBar&&o!==s.verticalScrollBar){r=!0,e=!1;var l=function(e,t){e.amplitude=0,e.pointerPosition=t,e.previousValue=e.value,e.value=e.scrollBar.value,e.initialValue=e.value,e.max=e.scrollBar.max};l(m,t.clientY),l(p,t.clientX),i=Date.now(),clearInterval(n),n=setInterval(v,500)}}})),s.inputEvents.up((function(){if(!r)return!0;if(clearInterval(n),s.disableSwipeScroll)r=!1;else{var e=function(e){l=e,e.amplitude=.8*e.velocity,e.targetValue=Math.round(e.value+e.amplitude),i=Date.now(),cancelAnimationFrame(t),t=requestAnimationFrame(b),e.velocity=0};m.velocity>10||m.velocity<-10?e(m):(p.velocity>10||p.velocity<-10)&&e(p),r=!1}})),s.inputEvents.move((function(t){if(!r)return!0;if(!s.disableSwipeScroll&&(e&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()),p.visible=s.scrollWidth>0,m.visible=s.scrollHeight>0,r&&(p.visible||m.visible))){var i,n,a=s.container.touchScrollRatio,o=s.container;a&&("number"==typeof a?(i=-a,n=-a):"function"==typeof a&&(i=a(m.max,o.offsetHeight),n=a(p.max,o.offsetWidth))),m.ratio=i||-m.max/o.offsetHeight,m.delta=(t.clientY-m.pointerPosition)*m.ratio,p.ratio=n||-p.max/o.offsetWidth,p.delta=(t.clientX-p.pointerPosition)*p.ratio;var u="value",c=function(t,r,i){return t.delta>5||t.delta<-5?(l=t,"min"===(u=t.initialValue+t.delta>l.max?"max":t.initialValue+t.delta<l.min?"min":"value")&&0===t.initialValue||"max"===u&&t.initialValue===t.max||!t.visible||(s.container.$.fireEvent("kineticScroll"),g(t.initialValue+t.delta),v(),i.originalEvent.preventDefault(),i.originalEvent.stopPropagation(),e=!0,!1)):null},d=c(m,t.clientY,t);if(null!==d)return d;var h=c(p,t.clientX,t);return null!==h?h:void 0}})),s.scrollTo=function(e,r){var n=!1===r?p:m,a=!1;i||(i=Date.now()),h||(h=Date.now()),Math.abs(Date.now()-h)>375?i=Date.now():a=!0,h=Date.now(),n.value=n.scrollBar.value,n.delta=e-n.value,n.max=n.scrollBar.max,e<=n.min&&(e=n.min),e>=n.max&&(e=n.max),n.targetValue=e;var o=e,l=n.value;n.velocity=100*n.delta/(1+n.max),n.from=l;var u=function(e){return n.value=e>n.max?n.max:e<n.min?n.min:e,n.scrollBar.value=n.value,e>n.max?"max":e<n.min?"min":"value"};cancelAnimationFrame(t),t=requestAnimationFrame((function r(){var c,d=Date.now()-h,f=Math.min(1e3,Date.now()-i),p=n.velocity*Math.exp(f/175);if(a)(p<0&&n.value<=e||p>0&&n.value>=e)&&(p=0),(n.value+p<=n.min||n.value+p>=n.max)&&(p=0),p>.5||p<-.5?(u(n.value+p),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(r)):u(n.targetValue);else{if(d>=175)return cancelAnimationFrame(t),s.container.$.fireEvent("kineticScroll"),void(t=0);c=T.Animation.Easings.easeInSine(d,l,o-l,175),u(c),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(r)}}))},s.inputEvents.listen()}},{key:"unlisten",value:function(){var e=this;e.inputEvents&&e.inputEvents.unlisten(),delete e.inputEvents}}]),e}(),M=function(){function e(t){p(this,e),this.events={},this.handlers={},this.element=t}return v(e,[{key:"hasClass",value:function(e){for(var t=e.split(" "),r=0;r<t.length;r++)if(!this.element.classList.contains(t[r]))return!1;return!0}},{key:"addClass",value:function(e){var t=this;if(!t.hasClass(e)){for(var r=e.split(" "),i=0;i<r.length;i++)t.element.classList.add(r[i]);t.isNativeElement||_.observeElement(t.element)}}},{key:"removeClass",value:function(e){var t=this;if(0!==arguments.length){for(var r=e.split(" "),i=0;i<r.length;i++)t.element.classList.remove(r[i]);""===t.element.className&&t.element.removeAttribute("class"),t.isNativeElement||_.observeElement(t.element)}else t.element.removeAttribute("class")}},{key:"dispatch",value:function(e){var t=this.events[e.type],r=!1;if(t.length>1)for(var i=0;i<t.length;i++){var n=t[i];if(n.namespace&&n.namespace.indexOf("_")>=0){r=!0;break}}r&&t.sort((function(e,t){var r=e.namespace,i=t.namespace;return(r=-1===r.indexOf("_")?0:parseInt(r.substring(r.indexOf("_")+1)))<(i=-1===i.indexOf("_")?0:parseInt(i.substring(i.indexOf("_")+1)))?-1:r>i?1:0}));for(var a=0;a<t.length;a++){var o=t[a];if(e.namespace=o.namespace,e.context=o.context,e.defaultPrevented)break;var l=o.handler.apply(this.element,[e]);if(void 0!==l&&(e.result=l,!1===l)){e.preventDefault(),e.stopPropagation();break}}return e.result}},{key:"fireEvent",value:function(e,t,r){r||(r={bubbles:!0,cancelable:!0,composed:null!==this.element.getRootNode().host}),r.detail=t||{};var i=new CustomEvent(e,r);return i.originalStopPropagation=i.stopPropagation,i.stopPropagation=function(){return i.isPropagationStopped=!0,i.originalStopPropagation()},this.dispatchEvent(i),i}},{key:"dispatchEvent",value:function(e){var t=this,r=e.type,i=t.element.context,n=r.substring(0,1).toUpperCase()+r.substring(1);t.element.context=document,t.element["on"+n]?t.element["on"+n](e):t.element["on"+r.toLowerCase()]?t.element["on"+r.toLowerCase()](e):t.element.dispatchEvent(e),t.element.context=i}},{key:"listen",value:function(e,t){var r=this,i=e.split("."),n=i.slice(1).join("."),a=i[0];r.events[a]||(r.events[a]=[]);var o={type:a,handler:t,context:r.element,namespace:n};k.indexOf(a)>=0&&(r.inputEvents||(r.inputEvents=new x(r.element)),r.inputEvents[a]((function(e){r.dispatchEvent(e)})),r.inputEvents.boundEventTypes.push(a),r.inputEvents.listen(a)),0===r.events[a].length&&(r.handlers[a]=r.dispatch.bind(r),"wheel"===a?r.element.addEventListener("wheel",r.handlers[a],!!r.isPassiveSupported&&{passive:!1}):"touchmove"===a||"touchstart"===a||"touchend"===a?r.element.addEventListener(a,r.handlers[a],!!r.isPassiveSupported&&{passive:!1}):r.element.addEventListener(a,r.handlers[a],!1)),r.events[a].push(o)}},{key:"unlisten",value:function(e){var t=this,r=e.split("."),i=r.slice(1).join("."),n=r[0],a=t.events[n];if(t.inputEvents&&t.inputEvents.boundEventTypes.indexOf(n)>=0&&(t.inputEvents.boundEventTypes.splice(t.inputEvents.boundEventTypes.indexOf(n),1),0===t.inputEvents.boundEventTypes.length&&t.inputEvents.unlisten(n)),a){for(var o=0;o<a.length;o++){if(""!==i){var l=a.findIndex((function(e){return e.namespace===i}));a.splice(l,1);break}a=[]}0===a.length&&(t.element.removeEventListener(n,t.handlers[n]),t.events[n]=[],delete t.handlers[n])}}},{key:"getAttributeValue",value:function(e,t){var r=this,i=r.element.getAttribute(e);if(r.isNativeElement)return r.deserialize(i,t);var n=r.element.propertyByAttributeName[e];return void 0===n.deserialize?r.deserialize(i,t,n.nullable):r.element[n.deserialize](i)}},{key:"setAttributeValue",value:function(e,t,r){var i,n=this,a=!1;if(n.isNativeElement){if(i=n.serialize(t,r),"boolean"===r&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(e)>=0)return void(t?n.element.setAttribute(e,""):n.element.removeAttribute(e))}else{var o=n.element.propertyByAttributeName[e];a=!o||o.nullable,i=o&&o.serialize?n.element[o.serialize](t):n.serialize(t,r,a)}"array"!==r&&"object"!==r||"[]"!==i&&"{}"!==i?void 0===i?(n.element.removeAttribute(e),n.element.shadowRoot&&n.element.$.root&&n.element.$.root.removeAttribute(e)):(n.element.setAttribute(e,i),n.element.shadowRoot&&n.element.$.root&&n.element.$.root.setAttribute(e,i)):n.element.removeAttribute(e)}},{key:"serialize",value:function(e,t,r){if(void 0===t&&(t=T.Types.getType(e)),void 0!==e&&(r||null!==e)){if(r&&null===e)return"null";if("string"===t)return e;if("boolean"===t||"bool"===t){if(!0===e||"true"===e||1===e||"1"===e)return"";if(!1===e||"false"===e||0===e||"0"===e)return}return"array"===t?JSON.stringify(e):["string","number","int","integer","float","date","any","function"].indexOf(t)>=0?e.toString():"object"===t?JSON.stringify(e):void 0}}},{key:"deserialize",value:function(e,t,r){var i="null"===e;if(void 0!==e&&(!i||r)){if(i&&r)return null;if("boolean"===t||"bool"===t)return null!==e;if("number"===t||"float"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseFloat(e);if("int"===t||"integer"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseInt(e);if("string"===t)return e;if("any"===t)return e;if("date"===t)return new Date(e);if("function"===t){if("function"==typeof window[e])return window[e]}else if("array"===t||"object"===t)try{var n=JSON.parse(e);if(n)return n}catch(r){if(window[e]&&"object"==g(window[e]))return window[e];if("array"===t&&e.indexOf("[")>=0){if(e.indexOf("{")>=0){var a=e.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();a=a.split("},");for(var o=0;o<a.length;o++){for(var l={},s=a[o].trim().split(","),u=0;u<s.length;u++){var c=s[u].split(":")[0].trim(),d=s[u].split(":")[1].trim();l[c]=d}a[o]=l}return a}return e.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}},{key:"isCustomElement",get:function(){return!!this.element.tagName.startsWith(t)||this.element instanceof window[t].BaseElement==1||"DIV"!==this.element.tagName&&"SPAN"!==this.element.tagName&&"BUTTON"!==this.element.tagName&&"INPUT"!==this.element.tagName&&"UL"!==this.element.tagName&&"LI"!==this.element.tagName&&document.createElement(this.element.nodeName)instanceof window[t].BaseElement==1}},{key:"isNativeElement",get:function(){return!this.isCustomElement}},{key:"isPassiveSupported",get:function(){var e=this;if(void 0!==e.supportsPassive)return e.supportsPassive;e.supportsPassive=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e.supportsPassive}}]),e}(),N=function(){function e(){p(this,e)}return v(e,null,[{key:"Ripple",get:function(){return h}},{key:"Easings",get:function(){return m}}]),e}(),T=function(){function e(){p(this,e)}return v(e,null,[{key:"Extend",value:function(e){return new M(e)}},{key:"Assign",value:function(t,r){if(t.indexOf(".")>=0){var i=t.split(".");return e[i[0]]||(e[i[0]]={}),void(e[i[0]][i[1]]=r)}e[t]=r}},{key:"Types",get:function(){return d}},{key:"Core",get:function(){return y}},{key:"Animation",get:function(){return N}},{key:"Scroll",get:function(){return C}},{key:"InputEvents",get:function(){return x}}]),e}(),P=T.Extend(document),A=function e(){p(this,e)};A.cache={};var B=function(r){s(n,r);var i=a(n);function n(){return p(this,n),i.apply(this,arguments)}return v(n,[{key:"getBindings",value:function(e,t){var r=this,i=0,n={},a=function(e){if(e instanceof HTMLElement)return r.parseAttributes(e);var t=r.parseProperty(e.data?e.data.trim():null,"textContent",e);return t?(r&&e.parentNode===r.$.content&&(t.value=""!==r.$.html?r.$.html:void 0,r.innerHTML=""),{textContent:t}):void 0}(e);a&&(n.data=a),t||(n.mapping=[],t=n),e.getAttribute&&(n.nodeId=e.getAttribute("smart-id"),t&&a&&(t.mapping[n.nodeId]=a)),n.node=e,e.firstChild&&(n.children={});for(var o=e.firstChild;o;o=o.nextSibling)n.children[i++]=r.getBindings(o,t);return n}},{key:"_addRemovePropertyBinding",value:function(e,t,r,i,n){if(e&&t&&r){var a=this,o=a.bindings,l=r.getAttribute("smart-id"),s=e.indexOf("{{")>=0,u=!1;(e=e.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(e=e.replace("!",""),u=!0);var c=a._properties[e],d={name:e,reflectToAttribute:c.reflectToAttribute,twoWay:s,type:c.type,not:u};if(n&&!i){var h={},f={name:e,targetPropertyName:t,reflectToAttribute:c.reflectToAttribute,twoWay:s,type:c.type,not:u};h[e]=f,o.mapping[l]=h}(function e(n){for(var o in n){var s=n[o];if(s.nodeId===l){s.data||(s.data={}),i?(s.data[t]=null,delete s.data[t]):s.data[t]=d;break}if(s.children)e(s.children);else if(s.node&&s.node.children&&s.node===r.parentElement){var u=s.node;if(!u.firstChild)continue;s.children={};for(var c=0,h=u.firstChild;h;h=h.nextSibling)s.children[c++]=a.getBindings(h);e(s.children)}}})(o.children),i?delete a.boundProperties[e]:a.boundProperties[e]=!0,a.updateBoundNodes(e)}}},{key:"addPropertyBinding",value:function(e,t,r,i){this._addRemovePropertyBinding(e,t,r,!1,i)}},{key:"removePropertyBinding",value:function(e,t,r,i){this._addRemovePropertyBinding(e,t,r,!0,i)}},{key:"parseAttributes",value:function(e){for(var t=this,r=void 0,i=0;i<e.attributes.length;i++){var n=e.attributes[i],a=n.name,o=n.value;A.cache["toCamelCase"+a]||(A.cache["toCamelCase"+a]=T.Core.toCamelCase(a));var l=A.cache["toCamelCase"+a];if(a.indexOf("(")>=0){var s=a.substring(1,a.length-1);if(t&&!t.dataContext){t.templateListeners[e.getAttribute("smart-id")+"."+s]=o,e.removeAttribute(a);continue}r||(r={});var u=o.substring(0,o.indexOf("("));r[l]={isEvent:!0,name:s,value:u}}else{var c=t.parseProperty(o,a,e);c&&(r||(r={}),r[l]=c)}}return r}},{key:"parseProperty",value:function(e,t){if(e&&e.length){for(var r,i=this,n=e.length,a=0,o=0,l=0,s=!0;o<n;){a=e.indexOf("{{",o);var u=e.indexOf("[[",o),c="}}";if(u>=0&&(a<0||u<a)&&(a=u,s=!1,c="]]"),(l=a<0?-1:e.indexOf(c,a+2))<0)return;r=r||{};var d=e.slice(a+2,l).trim();r.name=d,o=l+2}var h=r.name,f=i?i._properties[h]:null;return r.twoWay=s,r.ready=!1,i&&(h.indexOf("::")>=0?i.boundProperties[h.substring(0,h.indexOf("::"))]=!0:i.boundProperties[h]=!0),f?(r.type=f.type,r.reflectToAttribute=f.reflectToAttribute):(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(t)>=0?r.type="boolean":r.type="string",r.reflectToAttribute=!0),r}}},{key:"updateTextNodes",value:function(){this.updateTextNode(this.shadowRoot||this,this.bindings,this)}},{key:"updateTextNode",value:function(e,t,r){if(t){for(var i=0,n=e.firstChild;n&&t.children;n=n.nextSibling)this.updateTextNode(n,t.children[i++],r);if(t&&t.data)for(var a in t.data){var o=t.data[a],l=o.name;"textContent"===a&&o.twoWay&&!o.updating&&void 0!==o.value&&(r[l]=o.value)}}}},{key:"updateBoundProperty",value:function(e,t){if(!t.updating){t.updating=!0,this[e]=t.value,t.updating=!1}}},{key:"updateBoundNodes",value:function(e){var t=this;if(t.updateBoundNode(t.shadowRoot||t,t.bindings,t,e),t.detachedChildren.length>0)for(var r=function(r){var i=t.detachedChildren[r],n=i.getAttribute("smart-id"),a=function e(t){if(t.nodeId===n)return t;for(var r in t.children){var i=t.children[r];if((i.getAttribute?i.getAttribute("smart-id"):"")===n)return t;if(i.children){var a=e(i);if(a)return a}}return null}(t.bindings);if(a)t.updateBoundNode(i,a,t,e,!0);else if(i.getAttribute&&t.bindings.mapping){var o=t,l=t.bindings;if(l)for(var s in l.mapping){var u=o.querySelector('[smart-id="'+s+'"]');if(u){var c=l.mapping[s];t.updateBoundData(u,c,o,e)}}}},i=0;i<t.detachedChildren.length;i++)r(i)}},{key:"updateBoundMappedNodes",value:function(){var e=this,t=e.bindings,r=e;if(t.mapping)for(var i in t.mapping){var n=r.querySelector('[smart-id="'+i+'"]');if(r.shadowRoot&&((n=r.querySelector('[id="'+i+'"]'))||(n=r.shadowRoot.querySelector('[id="'+i+'"]')||r.shadowRoot.querySelector('[smart-id="'+i+'"]'))),n){var a=t.mapping[i];e.updateBoundData(n,a,r)}else if(r.getAttribute("aria-controls")){var o=document.getElementById(r.getAttribute("aria-controls"));if(!o&&r.shadowRoot&&(o=r.shadowRoot.getElementById(r.getAttribute("aria-controls"))),n=o.querySelector('[smart-id="'+i+'"]')){var l=t.mapping[i];e.updateBoundData(n,l,r)}}}}},{key:"updateBoundNode",value:function(e,t,r,i,n){var a=this;if(t){var o=0;if(n){if(n&&!t.data)for(var l=e.firstChild;l&&t.children;l=l.nextSibling)l.getAttribute?function(){var e=l.getAttribute("smart-id"),n=function(){for(var r in t.children)if(t.children[r].nodeId===e)return t.children[r]}();a.updateBoundNode(l,n,r,i),o++}():a.updateBoundNode(l,t.children[o++],r,i,n)}else for(var s=e.firstChild;s&&t.children;s=s.nextSibling)s.getAttribute?function(){var e=s.getAttribute("smart-id"),n=function(){for(var r in t.children)if(t.children[r].nodeId===e)return t.children[r]}();a.updateBoundNode(s,n,r,i),o++}():a.updateBoundNode(s,t.children[o++],r,i);if(t&&t.data){var u=t.data;a.updateBoundData(e,u,r,i)}}}},{key:"updateBoundData",value:function(e,t,r,i){var n=this,a=function(a){var o=t[a],l=o.name;if(!o.updating&&(l.indexOf("::")>=0&&(l=l.substring(0,l.indexOf("::"))),void 0===i||i===l)){if(l.indexOf("(")>=0){var s=l.substring(l.indexOf("(")),u=l.substring(0,l.indexOf("("));if((s=(s=(s=s.substring(1,s.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==s[0]){for(var c=[],d=0;d<s.length;d++)c.push(r[s[d]]);o.value=r[u].apply(r,c)}else o.value=r[u]();o.type=g(o.value)}else o.value=r[l];if("innerHTML"===l?e[a].toString().trim()!==r[l].toString().trim()&&(o.ready||r._properties[l].defaultValue!==o.value)&&(e[a]=o.value.toString().trim()):o.not?(e[a]=!o.value,o.targetPropertyName&&(e[o.targetPropertyName]=!o.value)):(e[a]=o.value,o.targetPropertyName&&(e[o.targetPropertyName]=o.value)),e.$&&e.$.isNativeElement){A.cache["toDash"+a]||(A.cache["toDash"+a]=T.Core.toDash(a));var h=A.cache["toDash"+a],f=e.$.getAttributeValue(h,o.type);!o.reflectToAttribute||f===o.value&&o.ready||e.$.setAttributeValue(h,o.value,o.type),o.reflectToAttribute||e.$.setAttributeValue(h,null,o.type)}if(!o.ready){if(e.$&&e.$.isCustomElement){A.cache["toDash"+a]||(A.cache["toDash"+a]=T.Core.toDash(a));var p=A.cache["toDash"+a];e._properties||(e._beforeCreatedProperties=e._properties=e.propertyByAttributeName=[]),e._properties[a]||(e._properties[a]={attributeName:p},e._beforeCreatedProperties&&(e._beforeCreatedProperties[a]=e._properties[a]),e.propertyByAttributeName[p]=e._properties[a]);var m=e._properties[a];m.isUpdating=!0,o.reflectToAttribute&&(o.not?e.$.setAttributeValue(m.attributeName,!o.value,o.type):e.$.setAttributeValue(m.attributeName,o.value,o.type)),o.reflectToAttribute||e.$.setAttributeValue(m.attributeName,null,o.type),m.isUpdating=!1}if(o.twoWay){var v=function(t){if(o.value=t,e.$&&e.$.isNativeElement){A.cache["toDash"+a]||(A.cache["toDash"+a]=T.Core.toDash(a));var r=A.cache["toDash"+a],i=e.$.getAttributeValue(r,o.type);o.reflectToAttribute&&i!==o.value&&e.$.setAttributeValue(r,o.value,o.type),o.reflectToAttribute||e.$.setAttributeValue(r,null,o.type)}};if(o.name.indexOf("::")>=0){var y=o.name.indexOf("::"),b=o.name.substring(y+2);n["$"+e.getAttribute("smart-id")].listen(b,(function(){v(e[a]);var t=o.name.substring(0,o.name.indexOf("::"));n.updateBoundProperty(t,o)}))}if(e.$&&e.$.isCustomElement){e._properties[a]&&(e._properties[a].notify=!0),A.cache["toDash"+a]||(A.cache["toDash"+a]=T.Core.toDash(a));var _=A.cache["toDash"+a];n["$"+e.getAttribute("smart-id")].listen(_+"-changed",(function(e){var t=e.detail;v(t.value);var r=n.context;e.context!==document&&(n.context=n),n.updateBoundProperty(o.name,o),n.context=r}))}}}o.ready=!0}};for(var o in t)a(o)}},{key:"addMessages",value:function(e,t){Object.assign(this.messages[e],t)}},{key:"localize",value:function(e,t){var r=this;if(r.messages&&r.messages[r.locale]){var i=r.messages[r.locale][e];if(""===i)return"";if(i){var n=i;for(var a in t){var o=t[a];i=i.replace(new RegExp("{{"+a+"}}","g"),o)}return r.localizeFormatFunction&&r.localizeFormatFunction(n,i,t),i}}}},{key:"log",value:function(e){this._logger("log",e)}},{key:"warn",value:function(e){this._logger("warn",e)}},{key:"error",value:function(e){this._logger("error",e)}},{key:"_logger",value:function(e,t){if(this.debugMode){var r=t instanceof Error?t.message:t.toString();console[e](r)}if(this.rethrowError&&"error"===e)throw t}},{key:"template",value:function(){return"<div></div>"}},{key:"registered",value:function(){this.onRegistered&&this.onRegistered()}},{key:"created",value:function(){var e=this;e.isReady=!1,e._initElement(e),e._setModuleState("created"),e.onCreated&&e.onCreated()}},{key:"completed",value:function(){var e=this;e.isCompleted=!0,e._onCompleted&&e._onCompleted(),e.onCompleted&&e.onCompleted()}},{key:"whenReady",value:function(e){var t=this;t.isCompleted?e():(t.whenReadyCallbacks||(t.whenReadyCallbacks=[]),t.whenReadyCallbacks.push(e))}},{key:"whenRendered",value:function(e){var t=this;t.isRendered?e():(t.whenRenderedCallbacks||(t.whenRenderedCallbacks=[]),t.whenRenderedCallbacks.push(e))}},{key:"addThemeClass",value:function(){var e=this;""!==e.theme&&e.classList.add("smart-"+e.theme)}},{key:"addDefaultClass",value:function(){this.classList.add(t.toLowerCase()+"-element"),this.classList.add(this.nodeName.toLowerCase())}},{key:"_renderShadowRoot",value:function(){var e=this;if(e.shadowRoot){e.$.root.classList.add(e.nodeName.toLowerCase());for(var t=0;t<e.attributes.length;t++){var r=e.attributes[t];"class"===r.name||"id"===r.name||"style"===r.name||"tabindex"===r.name||r.name.indexOf("aria")>=0||e.$.root.setAttribute(r.name,r.value)}for(var i=0;i<e.classList.length;i++){var n=e.classList[i];"smart-element-init"!==n&&"smart-element"!==n&&"smart-hidden"!==n&&"smart-visibility-hidden"!==n&&e.$.root.classList.add(n)}}}},{key:"render",value:function(){var e=this;if(!e.isRendered&&(e.isRendered=!0,e.isRendering=!1,e.context=document,e._renderShadowRoot(),e.whenRenderedCallbacks)){for(var t=0;t<e.whenRenderedCallbacks.length;t++)e.whenRenderedCallbacks[t]();e.whenRenderedCallbacks=[]}e.onRender&&e.onRender(),e.disabled&&e.setAttribute("aria-disabled",!0),e.readonly&&-1!==["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(e.getAttribute("role"))&&e.setAttribute("aria-readonly",!0)}},{key:"ready",value:function(){var e=this;if(e._setId(),e.addThemeClass(),e.addDefaultClass(),"collapsed"===e.visibility?e.classList.add("smart-hidden"):"hidden"===e.visibility&&e.classList.add("smart-visibility-hidden"),e.dataContext&&e.applyDataContext(),e.onReady&&e.onReady(),e.shadowRoot&&Smart(e._selector)){if(Smart(e._selector).styleUrls)for(var t=Smart(e._selector).styleUrls,r=0;r<t.length;r++)e.importStyle(t[r]);if(Smart(e._selector).styles){var i=document.createElement("style");i.innerHTML=Smart(e._selector).styles,e.shadowRoot.insertBefore(i,e.shadowRoot.firstChild)}}Smart(e._selector)&&Smart(e._selector).ready&&Smart(e._selector).ready()}},{key:"_setId",value:function(){var e=this;if(!e.id){var t=e.elementName;e.id=t.slice(0,1).toLowerCase()+t.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}},{key:"checkLicense",value:function(){"Evaluation"===window[t].License&&-1===window.location.hostname.indexOf("htmlelements")&&(this.logWatermark(),this.logLicense(),window[t].License="")}},{key:"logWatermark",value:function(){var e=document.createElement("a");e.href="https://www.htmlelements.com/",e.innerHTML="https://www.htmlelements.com/",e.style.position="absolute",e.style.right="5px",e.style.bottom="5px",e.style.color="#fff",e.style.padding="20px",e.style.borderRadius="5px",e.style.background="#0C3D78",e.style.cursor="pointer",e.style.zIndex="999999",e.style.display="block",e.style.fontSize="24px",e.style.textDecoration="none",e.style.fontWeight="bold",e.style.opacity=0,e.style.transition="opacity .35s ease-in-out",e.id="watermark",document.getElementById("watermark")||setTimeout((function(){document.getElementById("watermark")||(document.body.appendChild(e),setTimeout((function(){e.style.opacity=1})),setTimeout((function(){e.style.opacity=0,setTimeout((function(){e.parentNode.removeChild(e)}),350)}),6e3))}),1e3)}},{key:"logLicense",value:function(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}},{key:"applyDataContext",value:function(e){var t=this,r="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext;if(e&&(r=e,t.dataContext=e),r){if(!r._uid){r._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),r._properties=[];var i=function(e){var i=r[e];"function"!=typeof i&&"_properties"!==e&&"_uid"!==e&&(r._properties[e]=i,Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:function(){return r._properties[e]},set:function(i){var n=r._properties[e];r._properties[e]=i;var a=[];a[e]={oldValue:n,value:i},a.length++,t.updatingDataContext=!0,P.fireEvent("dataContextPropertyChanged",{dataContext:r,properties:a},{bubbles:!1,cancelable:!0}),t.updatingDataContext=!1}}))};for(var n in r)i(n)}if(t.dataContextProperties=t.parseAttributes(t),t.dataContextPropertiesMap={},t.dataContextListeners={},t.dataContextProperties){for(var a in t.updatingDataContext=!0,t.dataContextProperties){var o=t.dataContextProperties[a],l=o.name;if(o.propertyName=a,t.dataContextPropertiesMap[l]=a,A.cache["toDash"+a]||(A.cache["toDash"+a]=T.Core.toDash(l)),o.isEvent&&function(){var e=o.value;t.dataContextListeners[l]&&t.removeEventListener(l,t.dataContextListeners[l]),t.dataContextListeners[l]=function(t){r[e](t)},t.addEventListener(l,t.dataContextListeners[l])}(),l.indexOf(".")>=0){for(var s=l.split("."),u=r[s[0]],c=1;c<s.length;c++)u=u[s[c]];void 0!==u&&(t[a]=u)}else t[a]=r[l]}t.dataContextPropertyChangedHandler=function(e){var r=e.detail.properties;if(e.detail.dataContext===("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext))for(var i in r){var n=t.dataContextPropertiesMap[i],a=t.context;n&&(t.context=document,t[n]=r[i].value,t.context=a)}},P.listen("dataContextPropertyChanged",t.dataContextPropertyChangedHandler),t.updatingDataContext=!1}else t.dataContextProperties=null}else{t.dataContextProperties=null;window.addEventListener("load",(function e(){("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext)&&(t.applyDataContext(),window.removeEventListener("load",e))}))}}},{key:"updateDataContextProperty",value:function(e){var t=this,r="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext,i=t.dataContextProperties[e];if(!t.updatingDataContext&&i.twoWay){var n=i.name;if(n.indexOf(".")>=0){for(var a=n.split("."),o=r[a[0]],l=1;l<a.length;l++)o=o[a[l]];void 0!==o&&(o=t[e],w[r._uid]&&(w[r._uid][e]=o))}else r[n]=t[e],w[r._uid]&&(w[r._uid][e]=r[n])}}},{key:"initProperties",value:function(){var e=this;if(Smart(e._selector)&&Smart(e._selector).properties&&(e._initProperties=Smart(e._selector).properties),e.hasAttribute("props")&&!e.props?e._initProperties=window[e.getAttribute("props")]:e.props&&(e._initProperties=e.props),e._initProperties)for(var t=Object.keys(e._initProperties),r=0;r<t.length;r++){var i=t[r],n=e._initProperties[i];if(n.constructor===Smart.ObservableArray||n instanceof Smart.ObservableArray)e[i]=n.toArray();else if(n.constructor===Smart.DataAdapter||"smartDataAdapter"===n.constructor.name||"object"==g(n)&&Smart.DataAdapter&&n instanceof Smart.DataAdapter||n instanceof Smart.Observable||n.constructor===Smart.Observable||"object"!=g(n)||T.Types.isArray(n)||n instanceof Date){if(void 0===e[i]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(i)){var a=e.localize("propertyUnknownName",{name:i});e.log(a)}e[i]=n}else"messages"!==i&&"dataSourceMap"!==i?"object"==g(n)&&function t(r,i){for(var n=Object.keys(r),a=0;a<n.length;a++){var o=n[a],l=r[o],s=e._properties[i+"_"+o];if(s&&null===s.value){if(void 0===e[i+"_"+o]){var u=e.localize("propertyUnknownName",{name:i+"_"+o});e.log(u)}e[i+"_"+o]=l}else if("object"==g(l)&&!T.Types.isArray(l)&&l&&l.constructor!==Date)t(l,i+"_"+o);else{if(void 0===e[i+"_"+o]){var c=e.localize("propertyUnknownName",{name:i+"_"+o});e.log(c)}e[i+"_"+o]=l}}}(n,i):e[i]=n}}},{key:"setup",value:function(){var e=this;if(e.context=this,!e.isReady||e.isCompleted){if(e.isReady)return e._setModuleState("attached"),e.isAttached=!0,e.attached(),e._handleListeners("listen"),void(e.context=document);e.ownerElement&&e.ownerElement.detachedChildren.indexOf(e)>=0&&e.ownerElement.detachedChildren.splice(e.ownerElement.detachedChildren.indexOf(e),1),e.isReady=!0,e.methods=e.getStaticMember("methods"),e.initProperties(),y.isMobile&&e.classList.add("smart-mobile");for(var r=0;r<e.attributes.length;r+=1){var i=e.propertyByAttributeName[e.attributes[r].name];if(i){var n=e.$.getAttributeValue(i.attributeName,i.type),a=n?n.toString():"";if(!(a.indexOf("{{")>=0||a.indexOf("[[")>=0||"object"!==i.type&&"array"!==i.type&&(e.attributes[r].value.indexOf("{{")>=0||e.attributes[r].value.indexOf("[[")>=0)||void 0===n||i.value===n)){var o=T.Types.getType(n),l=e.attributes[r].value;if(("any"===i.type||"object"===i.type)&&""+e[i.name]===n)continue;if("array"===i.type&&e[i.name]&&JSON.stringify(e[i.name])===n)continue;if("number"===o&&isNaN(n)&&"NaN"!==l&&"Infinity"!==l&&"-Infinity"!==l){var s=e.localize("propertyInvalidValueType",{name:i.name,actualType:"string",type:i.type});e.log(s)}i.isUpdatingFromAttribute=!0,e[i.name]=n,i.isUpdatingFromAttribute=!1}}}for(var u in e._properties){var c=e._properties[u];if("innerHTML"===u&&c.value===c.defaultValue&&(c.value=c.defaultValue=T.Core.html(e)),"boolean"!==c.type&&"bool"!==c.type||"false"===e.getAttribute(c.attributeName)&&(c.isUpdating=!0,e.setAttribute(c.attributeName,""),c.isUpdating=!1),c.defaultReflectToAttribute&&c.reflectToAttribute){if(c.defaultReflectToAttribute&&c.defaultReflectToAttributeConditions){for(var d=!0,h=0;h<c.defaultReflectToAttributeConditions.length;h++){var f=c.defaultReflectToAttributeConditions[h],p=void 0,m=void 0;for(var v in f)p=v,m=f[v];e._properties[p]&&e._properties[p].value!==m&&(d=!1)}if(!d)continue}c.isUpdating=!0,e.$.setAttributeValue(c.attributeName,c.value,c.type),c.isUpdating=!1}}var g=[];if(e.children.length>0)for(var b=0;b<e.children.length;b++){var _=e.children[b];T.Extend(_).isCustomElement&&g.push(_)}e.applyTemplate(),e.complete=function(){if(!e.templateBindingsReady){var t=function(e){e.templateBindingsReady||(e.templateBindingsReady=!0,e.updateTextNodes(),e.updateBoundNodes())};if(e.ownerElement){for(var r=e.ownerElement,i=[];r;)i.push(r),r=r.ownerElement;for(var n=i.length-1;n>=0;n--)t(i[n]);t(e)}else t(e)}var a=function(){if(e._setModuleState("ready"),e.ready(),"auto"!==e.renderMode||e.isRendered||e.render(),e.isAttached=!0,e._setModuleState("attached"),e.attached(),e._handleListeners("listen"),e.isHidden||0!==e.offsetWidth&&0!==e.offsetHeight||(e.isHidden=!0),e.completed(),e.isRendered&&(e.context=document),e.whenReadyCallbacks){for(var t=0;t<e.whenReadyCallbacks.length;t++)e.whenReadyCallbacks[t]();e.whenReadyCallbacks=[]}};if(e.wait)e.classList.add("smart-visibility-hidden");else if(e.classList.contains("smart-async"))requestAnimationFrame((function(){a()}));else{var o=e.shadowParent;e.shadowParent=null;var l=e.parents;if(e.shadowParent=o,0===l.length)return;var s=function(){for(var t=e.ownerElement,r=[];t;)r.push(t),t=t.ownerElement;for(var i=r.length-1;i>=0;i--)r[i].updateBoundMappedNodes()};e.ownerElement&&"HTML"!==l[l.length-1].nodeName?e.getRootNode().host?a():e.ownerElement&&"HTML"===e.ownerElement.parents[e.ownerElement.parents.length-1].nodeName?(s(),a()):e.checkIsInDomInterval=setInterval((function(){var t=e.parents;"HTML"===t[t.length-1].nodeName&&(clearInterval(e.checkIsInDomInterval),s(),a())}),100):a()}};var w=[].slice.call(e.querySelectorAll("[smart-id]")).concat(g);if(window[t].EnableShadowDOM&&!0!==e.isInShadowDOM&&(w=[].slice.call(e.shadowRoot.querySelectorAll("[smart-id]")).concat(g)),0===w.length)e.complete();else{e._completeListeners=0;for(var S=function(t){var r=w[t];if(T.Extend(r).isCustomElement){var i=function(){e._completeListeners--,0===e._completeListeners&&(e.complete(),delete e._completeListeners)}.bind(e);r.isCompleted||r.isUtilityElement||!0===r.wait||(e._completeListeners++,r._onCompleted||(r.completeHandlers=[],r._onCompleted=function(){for(var e=0;e<r.completeHandlers.length;e++)r.completeHandlers[e]()}),r.completeHandlers.push(i))}},k=0;k<w.length;k++)S(k);0===e._completeListeners&&e.complete()}}}},{key:"visibilityChangedHandler",value:function(){var e=this;e.isReady&&requestAnimationFrame((function(){0===e.offsetWidth||0===e.offsetHeight?e.isHidden=!0:(e.isHidden=!1,e.$.fireEvent("resize",e,{bubbles:!1,cancelable:!0}))}))}},{key:"attributeChangedCallback",value:function(e,t,r){var i=this,n=i.propertyByAttributeName[e];if("class"!==e&&"style"!==e||i.visibilityChangedHandler(),n||i.attributeChanged(e,t,r),i.onAttributeChanged&&i.onAttributeChanged(e,t,r),!(!n||n&&n.isUpdating)){var a=i.$.getAttributeValue(n.attributeName,n.type);void 0!==r&&i[n.name]!==a&&(n.isUpdatingFromAttribute=!0,i[n.name]=void 0!==a?a:i._properties[n.name].defaultValue,n.isUpdatingFromAttribute=!1)}}},{key:"attributeChanged",value:function(e,t,r){}},{key:"attached",value:function(){var e=this;e.hasStyleObserver&&_.watch(e),e.onAttached&&e.onAttached(),Smart(e._selector)&&Smart(e._selector).attached&&Smart(e._selector).attached()}},{key:"detached",value:function(){var e=this;e.hasStyleObserver&&_.unwatch(e),e._setModuleState("detached"),e.isAttached=!1,e.ownerElement&&-1===e.ownerElement.detachedChildren.indexOf(e)&&e.ownerElement.detachedChildren.push(e),e._handleListeners("unlisten"),e.onDetached&&e.onDetached(),Smart(e._selector)&&Smart(e._selector).detached&&Smart(e._selector).detached(),S&&S[e._selector]&&delete S[e._selector]}},{key:"propertyChangedHandler",value:function(e,t,r){var i=this;t!==r&&("theme"===e&&(""!==t&&i.classList.remove("smart-"+t),""!==r&&i.classList.add("smart-"+r)),"visibility"===e?("collapsed"===t?i.classList.remove("smart-hidden"):"hidden"===t&&i.classList.remove("smart-visibility-hidden"),"collapsed"===r?i.classList.add("smart-hidden"):"hidden"===r&&i.classList.add("smart-visibility-hidden")):("disabled"===e||"readonly"===e)&&i._ariaPropertyChangedHandler(e,r),i.propertyChanged&&i.propertyChanged(e,t,r))}},{key:"_ariaPropertyChangedHandler",value:function(e,t){var r=this;"readonly"===e&&-1===["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(r.getAttribute("role"))||(t?r.setAttribute("aria-"+e,!0):r.removeAttribute("aria-"+e))}},{key:"_handleListeners",value:function(e){var t=this,r=t.tagName.toLowerCase(),i=function(i){var n=function(n){var a=n.split("."),o=a[0],l=t.$;if(a[1])if(o=a[1],l=t["$"+a[0]],"document"===a[0]){var s=t.smartId;""===s&&(s=T.Core.toCamelCase(r)),o=o+"."+s}else t.smartId&&(o=o+"."+t.smartId+"_"+t.parents.length);else t.smartId&&(o=o+"."+t.smartId);var u=i[n];l&&l[e](o,(function(e){var r=t.context;t.context=t,t[u]&&t[u].apply(t,[e]),t.context=r}))};for(var a in i)n(a)};i(t.getStaticMember("listeners")),i(t.templateListeners),Smart(t._selector)&&Smart(t._selector).properties&&i(Smart(t._selector).listeners)}},{key:"parseTemplate",value:function(){var t=this,r=t.template(),i=document.createDocumentFragment();if(e[t.nodeName]&&!c)return e[t.nodeName].cloneNode(!0);if(""===r)return null;var n=document.createElement("div");i.appendChild(n),n.innerHTML=r;var a=n.childNodes;n.parentNode.removeChild(n);for(var o=0;o<a.length;o++)i.appendChild(a[o]);return e[t.nodeName]=i,c?i:i.cloneNode(!0)}},{key:"applyTemplate",value:function(){var e=this,t=e.parseTemplate();if(t&&t.hasChildNodes){var r=t.childNodes[0],i=function(t,r){e["$"+t]=r.$=T.Extend(r),e.$[t]=r,r.ownerElement=e},n=r;if(r.getElementsByTagName("content").length>0){var a=r.getElementsByTagName("content")[0];(n=a.parentNode).removeChild(a)}else{var o=t.querySelectorAll("[inner-h-t-m-l]");o&&o.length>0&&(n=o[0])}e.$.template="template"===r.nodeName.toLowerCase()?r:r.querySelector("template");var l=t.querySelectorAll("[id]");0===l.length&&(l=t.querySelectorAll("*")),i("root",r),i("content",n),e.$.html=e.innerHTML.toString().trim();for(var s=0;s<l.length;s+=1){var u=l[s];""===u.id&&(u.id="child"+s),i(u.id,u),u.setAttribute("smart-id",u.id),e.shadowRoot?u.shadowParent=e:u.removeAttribute("id")}for(!1!==e.hasTemplateBindings?e.bindings=e.getBindings(t):e.bindings=[],e.$root.addClass("smart-container");e.childNodes.length;)n.appendChild(e.firstChild);if(e.appendTemplate(t),e.$.template){var c=document.createElement("div");c.classList.add("smart-template-container"),e.$.templateContainer=c,e.$.template.parentNode.insertBefore(c,e.$.template),e.refreshTemplate()}}}},{key:"refreshTemplate",value:function(){var e=this;if(e.$.templateContainer){e.templateDetached(e.$.templateContainer);var t=e.$.template.content.cloneNode(!0);e.templateBindings=e.getBindings(t),e.templateProperties=[];var r=document.createDocumentFragment();(function t(r,i,n){for(var a in r){var o=r[a],l=o.node.cloneNode();i.appendChild(l);var s=[],u=!1;if(o.data)for(var c in o.data){var d=o.data[c],h=d.name;if(e.templateProperties[h]=!0,l.removeAttribute(T.Core.toDash(c)),"*items"===c)s=e[h],u=!0;else if(h.indexOf("item.")>=0&&void 0!==n)d.value=n[h.substring("item.".length)],l[c]=d.value;else if(h.indexOf("item")>=0&&void 0!==n)d.value=n,l[c]=d.value;else if("*if"===c)if(h.indexOf("(")>=0){var f=void 0,p=h.substring(h.indexOf("(")),m=h.substring(0,h.indexOf("("));if((p=(p=(p=p.substring(1,p.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==p[0]){for(var v=[],g=0;g<p.length;g++)v.push(e[p[g]]);f=e[m].apply(e,v)}else f=e[m]();!1===f&&i.removeChild(l)}else e[h]||i.removeChild(l);else e.updateBoundNode(l,o,e,h)}if(s.length>0||u){for(var y=0;y<s.length;y++)o.children&&t(o.children,l,s[y]);if("number"==typeof s)for(var b=0;b<s;b++)o.children&&t(o.children,l,b)}else o.children&&t(o.children,l,n)}})(e.templateBindings.children,r),e.$.templateContainer.innerHTML="",e.$.templateContainer.appendChild(r),e.templateAttached(e.$.templateContainer)}}},{key:"templateAttached",value:function(){}},{key:"templateDetached",value:function(){}},{key:"appendTemplate",value:function(e){this.appendChild(e)}},{key:"defineElementModules",value:function(){var e=this,t=e.constructor.prototype;if("BaseElement"===t.elementName){t.modules=e.constructor.modules;for(var r=t.modules,i=0;i<r.length;i+=1)e.addModule(r[i])}else{var n=t.modules;if(!n)return;for(var a=0;a<n.length;a+=1){var o=n[a],l=o.prototype;e.defineElementMethods(l.methodNames,l),e.defineElementProperties(o.properties)}}}},{key:"watch",value:function(e,t){this._watch=null!==e&&null!==t?{properties:e,propertyChangedCallback:t}:null}},{key:"unwatch",value:function(){this._watch=null}},{key:"set",value:function(e,t,r){var i=this,n=i.context;i.context=!0===r?document:i,i[e]=t,i.context=n}},{key:"get",value:function(e){return this[e]}},{key:"_setModuleState",value:function(e,t){for(var r="is"+e.substring(0,1).toUpperCase()+e.substring(1),i="on"+e.substring(0,1).toUpperCase()+e.substring(1),n=0;n<this.modulesList.length;n++){var a=this.modulesList[n];a[r]=!0,a[e]&&a[e](t),a[i]&&a[i](t)}}},{key:"addModule",value:function(e,t){var r=this;if(e){var i=r.modules.slice(0),n=e.prototype,a=Object.getPrototypeOf(e);if(a.name&&a.name!==e.name&&r.addModule(a),!e.moduleName&&e.name&&(e.moduleName=e.name),-1===i.findIndex((function(t){return e.moduleName===t.moduleName}))&&i.push(e),r.defineModule(e),r.defineElementMethods(n.methodNames,n),r.defineElementProperties(e.properties),r.constructor.prototype.modules=i,t)for(var o in Smart.Elements.tagNames){for(var l=Smart.Elements.tagNames[o],s=Object.getPrototypeOf(l),u=[];s!==HTMLElement;)u.push(s.prototype),s=Object.getPrototypeOf(s);u.indexOf(r)>=0&&l!==r&&l.prototype.addModule(e)}}}},{key:"defineModule",value:function(e){if(!e.isDefined){e.prototype._initModule=function(e){this.ownerElement=e};var t=e.properties||{},r=Object.keys(t),i=Object.getOwnPropertyNames(e.prototype);e.prototype.methodNames=i;for(var n=function(i){var n=r[i],a=t[n];Object.defineProperty(e.prototype,n,{configurable:!1,enumerable:!0,get:function(){return this.ownerElement?this.ownerElement[n]:a.value},set:function(e){this.ownerElement[n]=e}})},a=0;a<r.length;a+=1)n(a);e.isDefined=!0}}},{key:"getStaticMember",value:function(e,r){var i=window[t][this.elementName],n=i[e];r||(r="");for(var a="array"===r?[]:"string"===r?"":{},o=Object.getPrototypeOf(i),l=[];o[e];)l.push(o[e]),o=Object.getPrototypeOf(o);for(var s=l.length-1;s>=0;s--)if("array"===r)for(var u=0;u<l[s].length;u++)-1===a.indexOf(l[s][u])&&a.push(l[s][u]);else"string"===r?-1===a.indexOf(l[s])&&(a+=l[s]):a=T.Core.assign(a,l[s]);if("array"===r){for(var c=0;c<n.length;c++)-1===a.indexOf(n[c])&&a.push(n[c]);return a}return"string"===r?(-1===a.indexOf(n)&&(a+=n),a):T.Core.assign(a,n)}},{key:"defineElementHierarchicalProperties",value:function(e,t){var r=[];!function(e){for(var i=Object.keys(e),n=0;n<i.length;n++){var a=i[n];if("messages"!==a){var o=e[a],l=Object.keys(o),s=l.indexOf("value")>=0&&l.indexOf("type")>=0&&"object"==g(o.value);("propertyObject"===o.type||s)&&function e(i,n){if(i.value){var a=Object.keys(i.value),o=function(o){var l=a[o],s=i.value[l],u=n+"_"+l;if("object"!=g(s)||null===s)return"break";var c=Object.keys(s);if(!(c.indexOf("value")>=0&&c.indexOf("type")>=0))return"break";if("array"!==i.type&&(i.isHierarchicalProperty=!0),s.parentPropertyName=n,t){var d=t._properties[u];if(i.value.hasOwnProperty(l)){if(d.isDefined)return"continue";delete i.value[l]}d.isDefined=!0,Object.defineProperty(i.value,l,{configurable:!1,enumerable:!0,get:function(){return t._properties[u].value},set:function(e){t.updateProperty(t,t._properties[u],e)}})}r[u]||(r[u]=s,r.length++),("propertyObject"===s.type||"object"==g(s.value)&&"array"!==s.type)&&e(t?t._properties[u]:s,u)};e:for(var l=0;l<a.length;l++)switch(o(l)){case"break":break e;case"continue":continue}}}(o,a)}}}(e),r.length>0&&!t&&this.defineElementProperties(r)}},{key:"defineElement",value:function(){var e=this.constructor.prototype,t=this.getStaticMember("properties"),r=Object.getOwnPropertyNames(e);e.extendedProperties={},e.boundProperties={},e.templateListeners={},this.defineElementModules(),this.defineElementMethods(r,e),this.defineElementProperties(t),this.defineElementHierarchicalProperties(this.extendedProperties),e._initElement=function(){var t=this,r=e.extendedProperties,i=Object.keys(r),n=t.modules;t.$=T.Extend(t),t.$document=P,t.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),t.isCreated||(t.modulesList=[],t._properties=[],t._beforeCreatedProperties&&(t._properties=t._beforeCreatedProperties,delete t._beforeCreatedProperties),t.detachedChildren=[],t.propertyByAttributeName=[]);for(var a=0;a<n.length;a+=1){var o=new(0,n[a]);o._initModule(t),t.modulesList.push(o)}for(var l=function(e){var n=i[e],a=r[n],o=a.value;if(t._properties[n]){if(void 0!==t._properties[n].notify)return"continue";delete t._properties[n]}if(I&&"innerHTML"===n&&delete t[n],-1===window.navigator.userAgent.indexOf("PhantomJS")&&t.hasOwnProperty(n)&&(o=t[n],delete t[n]),"array"===a.type&&null!=o&&(o=o.slice(0)),"object"===a.type&&null!=o&&(o=Array.isArray(o)?o.slice(0):Object.assign({},o)),t._properties[n]={name:n,notify:a.notify,allowedValues:a.allowedValues,type:a.type,nullable:a.nullable,reflectToAttribute:a.reflectToAttribute,defaultReflectToAttribute:a.defaultReflectToAttribute,defaultReflectToAttributeConditions:a.defaultReflectToAttributeConditions,value:o,readOnly:a.readOnly,defaultValue:o,attributeName:a.attributeName,observer:a.observer,inherit:a.inherit,extend:a.extend,validator:a.validator},t.propertyByAttributeName[a.attributeName]=t._properties[n],!a.hasOwnProperty("type")){var l=t.localize("propertyUnknownType",{name:n});t.log(l)}if("any"===a.type||"propertyObject"===a.type)return"continue";var s=T.Types.getType(o);if(null!=o&&a.type!==s&&!a.validator){if("object"===a.type&&"array"===s)return"continue";if("number"===s&&["integer","int","float"].findIndex((function(e){return e===a.type}))>=0)return"continue";var u=t.localize("propertyInvalidValueType",{name:n,actualType:s,type:a.type});t.log(u)}},s=0;s<i.length;s+=1)l(s);t.defineElementHierarchicalProperties(t._properties,t),t.isCreated=!0},e.registered()}},{key:"defineElementMethods",value:function(e,t){var r=this.constructor.prototype,i=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"],n=function(n){var a=e[n];a.startsWith("_")||void 0!==i.find((function(e){return e===a}))||r.extendedProperties[a]||T.Types.isFunction(t[a])&&(r[a]=function(e,t){var r=Array.prototype.slice.call(arguments,2),i=function(){if(!this.isReady&&"localize"!==t&&"localize"!==t&&"cloneNode"!==t&&"importStyle"!==t&&"log"!==t&&"parseAttributes"!==t){var i=this.localize("elementNotInDOM");this.log(i)}for(var n=this,a=0;a<this.modulesList.length;a++){var o=this.modulesList[a];if(t in o){n=o;break}}var l=this.context,s=r.concat(Array.prototype.slice.call(arguments)),u=null,c=function(e,t){return e===t||"number"===e&&("int"===t||"integer"===t||"float"===t)||"bool"===e&&"boolean"===t||"boolean"===e&&"bool"===t||"object"===e&&"any"===t||void 0};if(this.methods){var d=this.methods[t];if(d){var h=d.split(":");u=h[h.length-1].trim();for(var f=[],p=d.substring(1+d.indexOf("("),d.lastIndexOf(")")).split(","),m="",v=0;v<p.length;v++){var g=p[v];m+=g,g.indexOf(":")>=0?(f.push(m),m=""):m+=","}for(var y=f.length,b=0;b<f.length;b++){var _=f[b].trim().split(":"),w=_[0].split("=")[0].trim().indexOf("?")>=0,S=_[1].indexOf("?")>=0,k=_[1].replace(/\?/gi,"").trim(),x=k.split("|"),C=_[0].split("=")[1],M=T.Types.getType(s[b]);if(void 0===s[b]&&C){switch(C=C.trim(),k[0]){case"date":var N=C.substring(C.indexOf("(")+1,C.lastIndexOf(")"));C=0===(N=N.length>0?N.split(",").map((function(e){return parseInt(e)})):[]).length?new Date:new Date(N[0],N[1],N[2]);break;case"bool":case"boolean":C="true"===C||"1"===C;break;case"int":case"integer":C=parseInt(C);break;case"float":case"number":C=parseFloat(C);break;case"any":case"object":C=C.indexOf("{")>=0?JSON.parse(C):C}s.push(C)}else w&&y--;if(k!==M&&M){for(var P=!0,A=0;A<x.length;A++)if(c(M,x[A])){P=!1;break}if(P&&(null!==s[b]||!S)){var B=this.localize("methodInvalidValueType",{name:t,actualType:M,type:k,argumentIndex:b});this.log(B)}}if(s.length<y){var O=this.localize("methodInvalidArgumentsCount",{name:t,actualArgumentsCount:s.length,argumentsCount:y});this.log(O)}}}}this.context=this;var L=e.apply(n,s);if(u){var E=void 0===T.Types.getType(L)?"void":T.Types.getType(L);if(!c(E,u)){var I=this.localize("methodInvalidReturnType",{name:t,actualType:E,type:u});this.log(I)}}return this.context=l,L};return i}(t[a],a))};for(var a in e)n(a)}},{key:"defineElementProperties",value:function(e){if(e){var t=this.constructor.prototype,r=Object.keys(e),i=this.getStaticMember("properties");Object.assign(t.extendedProperties,e),this.updateProperty=function(e,t,r){var i=e;if(t&&!t.readOnly){if(t.allowedValues){for(var n=!1,a=0;a<t.allowedValues.length;a++)if(t.allowedValues[a]===r){n=!0;break}if(!n){var o=JSON.stringify(t.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),l="'"+r+"'",s=i.localize("propertyInvalidValue",{name:t.name,actualValue:l,value:o});return void i.log(s)}}var u=t.name,c=i._properties[u].value;if(t.validator&&i[t.validator]){var d=i.context;i.context=i;var h=i[t.validator](c,r);void 0!==h&&(r=h),i.context=d}if(c!==r){if(i.propertyChanging){var f=i.propertyChanging(u,c,r);if(!1===f||null===f)return}if(!t.hasOwnProperty("type")){var p=i.localize("propertyUnknownType",{name:u});i.log(p)}if("array"!==t.type||JSON.stringify(c)!==JSON.stringify(r)){if(null!=r&&"any"!==t.type&&"propertyObject"!==t.type&&t.type!==T.Types.getType(r)&&!t.validator||null===r&&!t.nullable){var m=!0;if("object"===t.type&&"array"===T.Types.getType(r)&&(m=!1),"number"===T.Types.getType(r)&&["integer","int","float"].findIndex((function(e){return e===t.type}))>=0&&(m=!1),m){var v=i.localize("propertyInvalidValueType",{name:u,actualType:T.Types.getType(r),type:t.type});return void i.error(v)}}if(t.isUpdating=!0,t.isHierarchicalProperty){!function e(t,r){for(var n=Object.keys(t),a=0;a<n.length;a++){var o=n[a],l=t[o];"object"==g(l)&&!T.Types.isArray(l)&&l&&l.constructor!==Date?e(l,r+"_"+o):i[r+"_"+o]=l}}(r,u)}else i._properties[u].value=r;if(!t.isUpdatingFromAttribute&&t.reflectToAttribute&&i.$.setAttributeValue(t.attributeName,r,t.type),i.isReady&&(!i.ownerElement||i.ownerElement&&i.ownerElement.isReady)){if("wait"===u&&(r||!c||i.isCompleted||(i.classList.remove("smart-visibility-hidden"),i.ownerElement&&i.ownerElement.updateBoundMappedNodes(),i.updateBoundMappedNodes(),i.complete())),"renderMode"===u)return;if(i.context!==i&&!i.wait){var y=i.context;i.context=i,i.propertyChangedHandler(u,c,r),i.context=y,t.observer&&i[t.observer]&&(i.context=i,i[t.observer](c,r),i.context=document),i._watch&&i._watch.properties.indexOf(u)>=0&&i._watch.propertyChangedCallback(u,c,r)}var b=t.notify||i.boundProperties[u];b&&(i.$.fireEvent(t.attributeName+"-changed",{context:i.context,oldValue:c,value:i[u]}),i.boundProperties[u]&&i.updateBoundNodes(u)),b&&i.templateProperties&&i.templateProperties[u]&&i.refreshTemplate(),i.dataContextProperties&&("dataContext"===u?i.applyDataContext():i.dataContextProperties[u]&&i.updateDataContextProperty(u))}t.isUpdating=!1}}}};for(var n=function(n){var a=r[n],o=e[a],l=T.Core.toDash(a),s=o.type||"any",u=s.indexOf("?")>=0||"any"===s;u&&"any"!==s&&(o.type=s.substring(0,s.length-1)),o.nullable=u,o.attributeName=l.toLowerCase(),o.name=a,o.reflectToAttribute=void 0===o.reflectToAttribute||o.reflectToAttribute,o.inherit&&i[a]&&(o.value=i[a].value),o.extend&&i[a]&&T.Core.assign(o.value,i[a].value),t.hasOwnProperty(a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:function(){if(this._properties[a])return this._properties[a].value},set:function(e){this.updateProperty(this,this._properties[a],e)}})},a=0;a<r.length;a+=1)n(a)}}},{key:"classNamesMap",get:function(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}},{key:"hasAnimation",get:function(){return"none"!==this.animation}},{key:"hasRippleAnimation",get:function(){return"none"!==this.animation&&"advanced"===this.animation}},{key:"properties",get:function(){var e=this;return e._properties||(e._properties=[]),e._properties}},{key:"parents",get:function(){for(var e=this,r=[],i=e.parentNode;i&&9!==i.nodeType;)i instanceof HTMLElement==1&&r.push(i),i=i.parentNode;var n=e.getRootNode();if(n.host){r=r.concat(function(e){for(var t=[e],r=e.parentNode;r&&9!==r.nodeType;)r instanceof HTMLElement==1&&t.push(r),r=r.parentNode;return t}(n.host))}return window[t].EnableShadowDOM&&e.isInShadowDOM&&e.shadowParent&&(r=r.concat(e.shadowParent.parents)),r}},{key:"focused",get:function(){return this.contains(document.activeElement)}},{key:"_selector",get:function(){var e=this;return e.id?"#"+e.id:e.classList.length>0?"."+e.classList[0]:""}},{key:"hasStyleObserver",set:function(e){var t=this;void 0===t._hasStyleObserver&&(t._hasStyleObserver=e),e?_.watch(t):_.unwatch(t)},get:function(){return void 0===this._hasStyleObserver||this._hasStyleObserver}}],[{key:"clearCache",value:function(){this.cache={}}},{key:"properties",get:function(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:void 0,type:"function",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[t].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}},{key:"requires",get:function(){return{}}},{key:"listeners",get:function(){return{"theme-changed":function(e){this.theme=e.detail.newValue}}}},{key:"methods",get:function(){return{}}},{key:"modules",get:function(){return window[t].Modules}},{key:"version",get:function(){return window[t].Version}}]),n}(u(HTMLElement)),O=[],L=[],E=[],I=!1,D=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);D&&parseInt(D[2],10)<=50&&(I=!0);var V=function(){function e(){p(this,e)}return v(e,null,[{key:"register",value:function(e,r){var i=r.prototype,n=y.toCamelCase(e).replace(/[a-z]+/,""),a=r.version||window[t].Version;if(!window.customElements.get(e)||window.customElements.get(e).version!==a){var o=e;for(a=a.split(".");window.customElements.get(e);)e=o+"-"+a.join("."),a[2]=parseInt(a[2])+1;if(!O[e]){if(e.startsWith(t.toLowerCase()))O[e]=window[t][n]=window[t.toLowerCase()+n]=r;else{var l=e.split("-")[0];l=l.substring(0,1).toUpperCase()+l.substring(1),window[t][l]||(window[t][l]={}),O[e]=window[t][l][n]=window[l.toLowerCase()+n]=r,window[t][n]&&(n=y.toCamelCase(e)),window[t][n]=r}i.elementName=n,i.defineElement(),L[e]&&L[e](i),window.customElements.define(e,r)}}}},{key:"registerElements",value:function(){var e=this;if(e.toRegister){e.isRegistering=!0;for(var t=0;t<e.toRegister.length;t++){var r=e.toRegister[t];e.register(r.tagName,r.element)}e.isRegistering=!1}}},{key:"get",value:function(e){if(O[e])return O[e]}},{key:"whenRegistered",value:function(e,t){if(!e)throw new Error("Syntax Error: Invalid tag name");var r=L[e],i=this.get(e),n=i?i.modules.length:3;try{r||i?!r&&i?(t(i.prototype),L[e]=void 0):r&&!i?L[e]=function(e){r(e),t(e)}:r&&i&&(i.proto&&(r(i.proto),t(i.proto)),L[e]=void 0):L[e]=function(e){try{t(e)}catch(e){var r=e instanceof Error?e.message:e.toString();console.log(r)}}}catch(e){var a=e instanceof Error?e.message:e.toString();console.log(a)}if(i&&n!==i.prototype.modules.length)for(var o=document.querySelectorAll(e),l=0;l<o.length;l++){var s=o[l];s.isCreated&&s._initElement()}}}]),e}();V.lazyRegister=!1,V.tagNames=[];var H=function(){function e(){p(this,e);var t=this;t.name="observableArray",t.observables=arguments.length<3?null:arguments[2];var r=new Proxy(t,{deleteProperty:function(e,t){return delete e[t],!0},apply:function(e,t,r){return e.apply(t,r)},get:function(e,r){return e[r]||isNaN(parseInt(r))?e[r]:t.getItem(parseInt(r))},set:function(e,r,i){return e[r]||isNaN(parseInt(r))?(e[r]=i,!0):(t.setItem(parseInt(r),i),!0)}});if(t._addArgs={eventName:"change",object:r,action:"add",index:null,removed:new Array,addedCount:1},t._removeArgs={eventName:"change",object:r,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){t._array=[];for(var i=arguments[0],n=0,a=i.length;n<a;n++){var o=t._getItem(t._array.length,i[n]);t._array.push(o)}}else t._array=Array.apply(null,arguments);return 2===arguments.length&&(t.notifyFn=arguments[1]),r}return v(e,[{key:"_notify",value:function(e){var t=this;t.canNotify&&t.notifyFn&&t.notifyFn(e)}},{key:"notify",value:function(e){e&&(this.notifyFn=e)}},{key:"toArray",value:function(){return this._array}},{key:"_getItem",value:function(e,t){var r=this;return"string"==typeof t||"number"==typeof t||void 0===t?t:new Proxy(t,{deleteProperty:function(e,t){return delete e[t],!0},set:function(t,i,n){var a=t[i];return t[i]=n,!r._canNotify||!1===t.canNotify||(r.observables&&!r.observables[i]||r._notify({eventName:"change",object:r,target:t,action:"update",index:e,path:e+"."+i,oldValue:a,newValue:n,propertyName:i}),!0)}})}},{key:"getItem",value:function(e){return this._array[e]}},{key:"setItem",value:function(e,t){var r=this._array[e];this._array[e]=this._getItem(e,t),this._notify({eventName:"change",object:this._array,action:"update",index:e,removed:[r],addedCount:1})}},{key:"toString",value:function(){return this._array.toString()}},{key:"toLocaleString",value:function(){return this._array.toLocaleString()}},{key:"concat",value:function(){this._addArgs.index=this._array.length;var e=this._array.concat.apply(this._array,arguments);return new Smart.ObservableArray(e)}},{key:"join",value:function(e){return this._array.join(e)}},{key:"pop",value:function(){this._removeArgs.index=this._array.length-1,delete this[this._array.length-1];var e=this._array.pop();return this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}},{key:"push",value:function(){var e=this;if(e._addArgs.index=e._array.length,1===arguments.length&&Array.isArray(arguments[0]))for(var t=arguments[0],r=0,i=t.length;r<i;r++){var n=e._getItem(e._array.length,t[r]);e._array.push(n)}else{var a=e._getItem(e._addArgs.index,arguments[0]);e._array.push.apply(e._array,[a])}return e._addArgs.addedCount=e._array.length-e._addArgs.index,e._notify(e._addArgs),e._notifyLengthChange(),e._array.length}},{key:"_notifyLengthChange",value:function(){if(this.canNotify){var e=this._createPropertyChangeData("length",this._array.length);this._notify(e)}}},{key:"_createPropertyChangeData",value:function(e,t,r){return{eventName:"change",object:this,action:e,value:t,oldValue:r}}},{key:"reverse",value:function(){return this._array.reverse()}},{key:"shift",value:function(){var e=this._array.shift();return this._removeArgs.index=0,this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}},{key:"slice",value:function(e,t){return this._array.slice(e,t)}},{key:"sort",value:function(e){return this._array.sort(e)}},{key:"splice",value:function(e,t,r){var i,n=this,a=n._array.length;if(r&&r.length)for(var o=0;o<r.length;o++)i=n._array.splice(e+o,t,r[o]);else i=n._array.splice.apply(n._array,arguments);if(r){var l=n.canNotify;if(n.canNotify=!1,r.length)for(var s=0;s<r.length;s++)n.setItem(e+s,r[s]);else n.setItem(e,r);n.canNotify=l,n._notify({eventName:"change",object:this,action:"add",index:e,added:i,addedCount:n._array.length>a?n._array.length-a:0})}else n._notify({eventName:"change",object:this,action:"remove",index:e,removed:i,addedCount:n._array.length>a?n._array.length-a:0});return n._array.length!==a&&n._notifyLengthChange(),i}},{key:"unshift",value:function(){var e=this._array.length,t=this._array.unshift.apply(this._array,arguments);return this._addArgs.index=0,this._addArgs.addedCount=t-e,this._notify(this._addArgs),this._notifyLengthChange(),t}},{key:"indexOf",value:function(e,t){for(var r=t||0,i=this._array.length;r<i;r++)if(this._array[r]===e)return r;return-1}},{key:"lastIndexOf",value:function(e,t){for(var r=t||this._array.length-1;r>=0;r--)if(this._array[r]===e)return r;return-1}},{key:"find",value:function(e,t){return this._array.find(e,t)}},{key:"findIndex",value:function(e,t){return this._array.findIndex(e,t)}},{key:"every",value:function(e,t){return this._array.every(e,t)}},{key:"some",value:function(e,t){return this._array.some(e,t)}},{key:"forEach",value:function(e,t){this._array.forEach(e,t)}},{key:"map",value:function(e,t){return this._array.map(e,t)}},{key:"filter",value:function(e,t){return this._array.filter(e,t)}},{key:"reduce",value:function(e,t){return void 0!==t?this._array.reduce(e,t):this._array.reduce(e)}},{key:"reduceRight",value:function(e,t){return void 0!==t?this._array.reduceRight(e,t):this._array.reduceRight(e)}},{key:"move",value:function(e,t){this.splice(t,0,this.splice(e,1)[0])}},{key:"canNotify",get:function(){var e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify},set:function(e){this._canNotify=e}},{key:"length",get:function(){return this._array.length},set:function(e){var t=this;d.isNumber(e)&&t._array&&t._array.length!==e&&t.splice(e,t._array.length-e)}}]),e}(),U={};window[t]&&(U=window[t]),window[t]=function(e,r){var i=e;if(e){if(e.indexOf("#")>=0||e.indexOf(".")>=0)return S[e]?S[e]:r?(S[e]=new r,function(e,t){var r=t.properties;t._properties=[];(function r(i,n){for(var a=Object.keys(i),o=function(o){var l=a[o],s=i[l];t._properties[n+l]=s,Array.isArray(s)?t._properties[n+l]=new H(s,(function(t){var r=l+"."+t.path,i=t.newValue,n=document.querySelector(e);if(n){for(var a=r.split("."),o=n,s=0;s<a.length;s++)o=o[a[s]];o=i}})):(Object.defineProperty(i,l,{configurable:!1,enumerable:!0,get:function(){return t._properties[n+l]},set:function(e){t._properties[n+l]=e}}),s&&"DataAdapter"===s.constructor.name||s&&"object"==g(s)&&Smart.DataAdapter&&s instanceof Smart.DataAdapter||"object"==g(s)&&s&&Object.keys(s).length>0&&r(s,n+l+"."))},l=0;l<a.length;l++)o(l)})(r,""),Object.defineProperty(t,"properties",{configurable:!1,enumerable:!0,get:function(){return r}});var i=document.querySelector(e);if(i&&i.isReady)for(var n in r)i[n]=r[n];else if(i)for(var a in i.props={},r)i.props[a]=r[a]}(e,S[e]),S[e]):void 0;if(r){if(V.tagNames[e]=r,V.lazyRegister){V.toRegister||(V.toRegister=[]);var n=y.toCamelCase(i).replace(/[a-z]+/,"");return window[t][n]=r,void V.toRegister.push({tagName:i,element:r})}V.register(i,r)}}},window.addEventListener("load",(function(){var e=window[t].Elements.tagNames,r=[];for(var i in e){for(var n=e[i],a=document.querySelectorAll("["+i+"]"),o=0;o<a.length;o++){var l=a[o];l instanceof HTMLDivElement&&(l.__proto__=n.prototype,l.created(),l.connectedCallback()),l.classList.add("smart-element-ready")}var s=n.name;"Item"===s&&(s="ListItem"),a=document.querySelectorAll('[is="'+t.toLocaleLowerCase()+s+'"]');for(var u=0;u<a.length;u++)r.push(a[u])}if(r.length>0){var c=function(e){for(var t=[],r=e.parentNode;r&&9!==r.nodeType;)r instanceof HTMLElement==1&&t.push(r),r=r.parentNode;return t};r.sort((function(e,t){var r=c(e).length,i=c(t).length;return r<i?1:r>i?-1:0}));for(var d=0;d<r.length;d++){var h=r[d],f=h.getAttribute("is");("smartItem"===f?new window.smartListItem(h):new window[f](h)).removeAttribute("is")}}}));var R=function e(){if("complete"===document.readyState&&"manual"!==window[t].RenderMode){E.sort((function(e,t){var r=e.element.parents.length,i=t.element.parents.length;return r<i?-1:r>i?1:0}));for(var r=0;r<E.length;r++)window[t].RenderMode="",E[r].element.isLoading=!1,E[r].callback(),window[t].RenderMode="";E=[],document.removeEventListener("readystatechange",e)}};Object.assign(window[t],{Elements:V,Modules:[],BaseElement:function(e){s(u,e);var i=a(u);function u(e,t){var n;p(this,u);var a=l(n=i.call(this));if(e){t&&(a._initProperties=t);var s=function(e){if("string"==typeof e?document.querySelector(e):e){var i="string"==typeof e?document.querySelector(e):e;if(i instanceof HTMLDivElement){var n,o=document.createElement(a.tagName),l=r(i.attributes);try{for(l.s();!(n=l.n()).done;){var s=n.value;o.setAttribute(s.name,i.getAttribute(s.name))}}catch(e){l.e(e)}finally{l.f()}for(;i.childNodes.length;)o.appendChild(i.firstChild);return"string"==typeof e&&(o.id=e.substring(1)),o._initProperties=t,i.parentNode&&i.parentNode.replaceChild(o,i),o}if(t){var u=i.context;if(i._initProperties=t,i.isReady){i.context=i;var c={},d={};for(var h in t)c[h]=i[h],d[h]=t[h];Object.getOwnPropertyNames(t).length>0&&(i.initProperties(),i.propertyChangedHandler(t,c,d)),i.context=u}}return i}};if("string"==typeof e){var c=document.querySelectorAll(e),d=[];if(c.length>1){for(var h=0;h<c.length;h++){var f=s(c[h]);d.push(f)}return o(n,d)}}else if(e&&e.length>0){var m=e;if(m.length>1){for(var v=0;v<m.length;v++){var g=s(m[v]);O.push(g)}return o(n,O)}}return o(n,s(e))}return a._styleUrl="",a.isUtilityElement||a.created(),n}return v(u,[{key:"getShadowRootOrBody",value:function(){return this.isInShadowDOM?this.getRootNode().host.shadowRoot:document.body}},{key:"importStyle",value:function(e,t){this._importStyle(e,t)}},{key:"_importStyle",value:function(e,t){var r=this;if(r.shadowRoot&&e){var i=function(e){for(var i=r.shadowRoot.children,n=0;n<i.length;n++){var a=i[n];if(a instanceof HTMLLinkElement&&a.href===e)return t&&t(),null}var o=document.createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=e,o.onload=t,o},n=function(){for(var e=r.shadowRoot.children,t=null,i=0;i<e.length;i++){var n=e[i];n instanceof HTMLLinkElement&&(t=n)}return t}(),a=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)};if(Array.isArray(e)){for(var o=document.createDocumentFragment(),l=0;l<e.length;l++){var s=i(e[l]);s&&o.appendChild(s)}n?a(o,n):r.shadowRoot.insertBefore(o,r.shadowRoot.firstChild)}else{var u=i(e);if(!u)return;n?a(u,n):r.shadowRoot.insertBefore(u,r.shadowRoot.firstChild)}}}},{key:"attributeChanged",value:function(e,t,r){"style-url"===e&&(this.styleUrl=r)}},{key:"attributeChangedCallback",value:function(e,t,r){this.isReady&&n(f(u.prototype),"attributeChangedCallback",this).call(this,e,t,r)}},{key:"styleUrl",get:function(){return this._styleUrl},set:function(e){this._styleUrl=e}},{key:"isInShadowDOM",get:function(){var e=this.getRootNode();return e!==document&&e!==this}},{key:"enableShadowDOM",get:function(){return window[t].EnableShadowDOM}}],[{key:"observedAttributes",get:function(){var e=["external-style"];for(var t in this.prototype.extendedProperties){var r=this.prototype.extendedProperties[t];e.push(r.attributeName)}return e}},{key:"styleUrls",get:function(){return[]}},{key:"styles",get:function(){return""}}]),v(u,[{key:"_getRootShadowParent",value:function(){for(var e=this.shadowParent;e;){if(!e.shadowParent)return e;e=e.shadowParent}return e||this.shadowParent}},{key:"_getStyleUrl",value:function(e){var r=T.Core.getScriptLocation()+window[t].StyleBaseUrl+e;return this.shadowParent&&(r=r.replace("scoped/","")),r}},{key:"_getStyleUrls",value:function(){var e=this;e.nodeName.startsWith(t);for(var r=e.getStaticMember("styleUrls","array"),i=[],n=0;n<r.length;n++){var a=r[n],o=e._getStyleUrl(a);i.push(o)}return i}},{key:"_setupShadowRoot",value:function(){var e=this;e.classList.add("smart-element-init");var r=function(r){r.$.root&&(r.$.root.classList.add(t.toLowerCase()+"-element"),r.$.root.classList.add(e.nodeName.toLowerCase())),r.setup(),r.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[t].AdoptedStyleSheets)window[t].AdoptedStyleSheetsLoaded?(e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets,r(e)):(e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets,window[t].AdoptedStyleSheetsLoadedQueue||(window[t].AdoptedStyleSheetsLoadedQueue=[]),window[t].AdoptedStyleSheetsLoadedQueue.push(e));else{var i=new CSSStyleSheet,n=T.Core.getScriptLocation()+"/styles/smart.default.css";i.replace('@import url("'+n+'")').then((function(){if(r(e),window[t].AdoptedStyleSheetsLoaded=!0,window[t].AdoptedStyleSheetsLoadedQueue){for(var i=window[t].AdoptedStyleSheetsLoadedQueue,n=0;n<i.length;n++){var a=i[n];r(a)}delete window[t].AdoptedStyleSheetsLoadedQueue}})).catch((function(e){console.error("Failed to load:",e)})),window[t].AdoptedStyleSheets=[i],document.adoptedStyleSheets=[i],e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets}}},{key:"connect",value:function(){var e=this;window[t].EnableShadowDOM&&!e.shadowRoot&&!0!==e.isInShadowDOM&&(e.attachShadow({mode:"open"}),e.shadowRoot&&e.$.root&&(e.shadowRoot.appendChild(e.$.root),e.$.root.classList.add(e.nodeName.toLowerCase()))),e.shadowRoot||e.shadowParent?e.shadowRoot?e._setupShadowRoot():(e.shadowParent&&window[t].EnableShadowDOM,e.setup()):e.setup()}},{key:"connectedCallback",value:function(){var e=this;if(!e.isLoading&&!e.isUtilityElement){e.classList.add("smart-element-init");var r=function(){e.classList.remove("smart-element-init")};if("complete"===document.readyState&&(void 0===window[t].isAngular&&(window[t].isAngular=null!==document.body.querySelector("[ng-version]")),window[t].isAngular))for(var i=0;i<e.parents.length&&!e.parents[i].nodeName.toLowerCase().startsWith(t.toLowerCase()+"-");i++)if(e.parents[i].hasAttribute("ng-version")){window[t].RenderMode="manual";break}if("complete"===document.readyState&&"manual"!==window[t].RenderMode){var n=e.parents;n.length&&"HTML"===n[n.length-1].nodeName||e.getRootNode().host?(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),r(),e.connect()):(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),n.length>0&&(e.checkIsInDomTimer=setInterval((function(){var t=e.parents;0===t.length&&clearInterval(e.checkIsInDomTimer),t.length>0&&"HTML"===t[t.length-1].nodeName&&(clearInterval(e.checkIsInDomTimer),r(),e.connect())}),100)))}else e.isLoading=!0,E.push({element:this,callback:function(){this.isReady||(r(),this.connect())}.bind(e)})}}},{key:"disconnectedCallback",value:function(){var e=this;e.isAttached?(e.shadowParent=null,e.detached()):e._resetShadowParent()}},{key:"adoptedCallback",value:function(){this.setup()}},{key:"appendTemplate",value:function(e){var t=this;t.shadowRoot?t.shadowRoot.appendChild(e):t.appendChild(e)}},{key:"_resetShadowParent",value:function(){var e=this;if(window[t].EnableShadowDOM&&null!==e.shadowParent){for(var r=[],i=e.parentNode;i&&9!==i.nodeType;){if(i instanceof HTMLElement==1)r.push(i);else if(11===i.nodeType&&i.host){i=i.host;continue}i=i.parentNode}for(var n=0;n<r.length;n++)if(r[n]===e.shadowParent)return;r.length>0&&"HTML"===r[r.length-1].nodeName&&(e.shadowParent=null)}}}]),u}(B),Utilities:T,Import:function(e,t){var r=0,i=function(e,t){return new Promise((function(r){var i=document.createElement("script");i.src=e,i.onload=r;for(var n=0;n<document.head.children.length;n++){var a=document.head.children[n];if(a.src&&a.src.toString().indexOf(t)>=0)return void r()}document.head.appendChild(i)}))};return new Promise((function(n){var a=T.Core.getScriptLocation();if(t)for(var o=0;o<e.length;o++){var l=a+"/"+e[o];i(l,e[o]).then((function(){++r===e.length&&n()}))}else!function t(o){if(e[o]){var l=a+"/"+e[o];i(l,e[o]).then((function(){++r===e.length&&n(),t(o+1)}))}}(0)}))},ObservableArray:H,Observable:function(){function e(t,r){p(this,e);var i,n=this;return this.name="observable",t&&Object.assign(n,t),i=t,Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach((function(e){return"constructor"===e||!!e.startsWith("_")||void(n[e]=i[e])})),new Proxy(n,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){return e[t]},set:function(e,t,i){var a=e[t];return a===i||(e[t]=i,!("notifyFn"!==t&&!t.startsWith("_")&&"canNotify"!==t&&(!r||-1!==r.indexOf(t))&&n.canNotify&&(n._notify({target:e,propertyName:t,oldValue:a,newValue:i}),0)))}})}return v(e,[{key:"_notify",value:function(e){var t=this;if(t.canNotify&&t.notifyFn)for(var r=0;r<t.notifyFn.length;r++)t.notifyFn[r](e)}},{key:"notify",value:function(e){var t=this;e&&(t.notifyFn||(t.notifyFn=[]),t.notifyFn.push(e))}},{key:"canNotify",get:function(){var e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify},set:function(e){this._canNotify=e}}]),e}(),Component:function(){function e(t,r){p(this,e);var i=this.name,n=null;return t?n=new window[i](t,r):(n=new window[i])._initProperties=r,this._element=n,n}return v(e,[{key:"name",get:function(){return"Component"}},{key:"element",get:function(){return this._element}}]),e}(),Theme:U.Theme||"",EnableShadowDOM:U.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:"9.1.0",RenderMode:U.RenderMode||"auto",Render:function(){var e=function(){window[t].RenderMode="",R()};"complete"===document.readyState?e():(window.removeEventListener("load",e),window.addEventListener("load",e))},Data:S,Mode:U.Mode||"production",License:"Evaluation"});var j=window[t].Theme;"manual"!==window[t].RenderMode&&document.addEventListener("readystatechange",R),Object.defineProperty(window[t],"Theme",{configurable:!1,enumerable:!0,get:function(){return j},set:function(e){var t=j;j=e,P.fireEvent("theme-changed",{oldValue:t,newValue:e},{bubbles:!0,cancelable:!0})}}),window[t]("smart-base-element",window[t].BaseElement),window[t]("smart-content-element",function(e){s(r,e);var t=a(r);function r(){return p(this,r),t.apply(this,arguments)}return v(r,[{key:"template",value:function(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}},{key:"ready",value:function(){n(f(r.prototype),"ready",this).call(this),this.applyContent()}},{key:"refresh",value:function(){}},{key:"clearContent",value:function(){for(var e=this;e.$.content.firstChild;)e.$.content.removeChild(e.$.content.firstChild)}},{key:"applyContent",value:function(){var e=this;if(void 0!==e.content)if(""!==e.content&&null!==e.content){if(e.content instanceof HTMLElement)return e.clearContent(),void e.$.content.appendChild(e.content);var t=document.createDocumentFragment(),r=document.createElement("div");t.appendChild(r),e.content instanceof HTMLElement?r.appendChild(e.content):r.innerHTML=e.content;var i=Array.from(r.childNodes);r.parentNode.removeChild(r);for(var n=0;n<i.length;n++)t.appendChild(i[n]);e.clearContent(),e.$.content.appendChild(t)}else e.clearContent();else e.content=e.$.content}},{key:"propertyChangedHandler",value:function(e,t,i){n(f(r.prototype),"propertyChangedHandler",this).call(this,e,t,i);var a=this;t!==i&&("innerHTML"===e&&(a.content=i,a.applyContent(),a.innerHTML=a.content=T.Core.html(a.$.content)),"content"===e&&a.applyContent())}}],[{key:"properties",get:function(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}}]),r}(window[t].BaseElement)),window[t]("smart-scroll-viewer",function(e){s(r,e);var t=a(r);function r(){return p(this,r),t.apply(this,arguments)}return v(r,[{key:"template",value:function(){return'<div id="container" class="smart-container" role="presentation">\n                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">\n                            <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-scroll-viewer-content-container" role="presentation">\n                                <content></content>\n                            </div>\n                        </div>\n                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>\n                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>\n                    </div>'}},{key:"appendChild",value:function(e){var t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("smart-resize-trigger-container")){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.appendChild(e)}}},{key:"removeChild",value:function(e){var t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("smart-resize-trigger-container")){var r=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,r.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.removeChild(e)}}},{key:"removeAll",value:function(){this.isCompleted&&(this.$.scrollViewerContentContainer.innerHTML="")}},{key:"_horizontalScrollbarHandler",value:function(e){var t=this;t.$.scrollViewerContentContainer.style.left=(t.rightToLeft?1:-1)*t.scrollLeft+"px",e.stopPropagation(),t.onHorizontalChange&&t.onHorizontalChange(e)}},{key:"_verticalScrollbarHandler",value:function(e){var t=this;t.$.scrollViewerContentContainer.style.top=-t.scrollTop+"px",e.stopPropagation(),t.onVerticalChange&&t.onVerticalChange(e)}},{key:"_touchmoveHandler",value:function(e){var t=this;if(t._touchmoveInside&&e.cancelable)return e.preventDefault(),void e.stopPropagation();var r=t.scrollHeight>0,i=t.scrollWidth>0,n=t._touchCoords;if((r||i)&&n){var a,o,l,s,u=e.touches[0];t._touchCoords=[u.pageX,u.pageY],r?(a=t.scrollTop,o=t.scrollHeight,l=u.pageY,s=n[1]):(a=t.scrollLeft,o=t.scrollWidth,l=u.pageX,s=n[0]);var c=parseFloat(l.toFixed(5)),d=parseFloat(s.toFixed(5));0===a&&c>=d||a===o&&c<=d||(l!==s&&(t._touchmoveInside=!0),e.cancelable&&(e.preventDefault(),e.stopPropagation()))}}},{key:"_touchstartHandler",value:function(e){var t=e.touches[0];this._touchCoords=[t.pageX,t.pageY]}},{key:"_mouseWheelHandler",value:function(e){var t=this;if(!t.disabled&&(t.computedHorizontalScrollBarVisibility||t.computedVerticalScrollBarVisibility)){if(e.shiftKey&&t.computedHorizontalScrollBarVisibility){var r=t.scrollLeft;if(0===r&&e.deltaX<0||r===t.scrollHeight&&e.deltaX>0)return;return e.stopPropagation(),e.preventDefault(),void(t.scrollWidth>0&&t.scrollTo(void 0,t.scrollLeft+t._getScrollCoefficient(e,t.offsetWidth)))}if(t.computedVerticalScrollBarVisibility){var i=t.scrollTop;if(0===i&&e.deltaY<0||i===t.scrollHeight&&e.deltaY>0)return;e.stopPropagation(),e.preventDefault(),t.scrollHeight>0&&t.scrollTo(t.scrollTop+t._getScrollCoefficient(e,t.offsetHeight))}}}},{key:"_overriddenHandler",value:function(){}},{key:"_upHandler",value:function(){delete this._touchCoords,delete this._touchmoveInside}},{key:"_getScrollCoefficient",value:function(e,t){var r,i=e.deltaMode,n=Math.abs(e.deltaY);return 0===i?r=n<100/3?n:t:1===i?r=n<1?n*(100/3):t:2===i&&(r=t),e.deltaY<0?-r:r}},{key:"applyContent",value:function(){n(f(r.prototype),"applyContent",this).call(this),this.refresh()}},{key:"scrollTo",value:function(e,t){var r=this;r._scrollView&&(void 0!==e&&r._scrollView.scrollTo(e),void 0!==t&&r._scrollView.scrollTo(t,!1))}},{key:"refreshScrollBarsVisibility",value:function(){var e=this;e._scrollView&&(e._scrollView.hScrollBar.disabled=e.disabled,e._scrollView.vScrollBar.disabled=e.disabled,"disabled"===e.horizontalScrollBarVisibility&&(e._scrollView.hScrollBar.disabled=!0),"disabled"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.disabled=!0),e.scrollWidth>0?e._scrollView.hScrollBar.$.removeClass("smart-hidden"):"visible"!==e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("smart-hidden"),e.scrollHeight>0?e._scrollView.vScrollBar.$.removeClass("smart-hidden"):"visible"!==e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("smart-hidden"),"hidden"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("smart-hidden"),"hidden"===e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("smart-hidden"),"visible"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.removeClass("smart-hidden"),"visible"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.$.removeClass("smart-hidden"),e.disabled||(e._scrollView.vScrollBar.disabled=e.scrollHeight<=0)),e.computedHorizontalScrollBarVisibility&&e.computedVerticalScrollBarVisibility?(e._scrollView.hScrollBar.$.addClass("bottom-corner"),e._scrollView.vScrollBar.$.addClass("bottom-corner")):(e._scrollView.hScrollBar.$.removeClass("bottom-corner"),e._scrollView.vScrollBar.$.removeClass("bottom-corner")))}},{key:"ready",value:function(){n(f(r.prototype),"ready",this).call(this);var e=this;e.$.verticalScrollBar.setAttribute("aria-controls",e.id),e.$.horizontalScrollBar.setAttribute("aria-controls",e.id),e._customScrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.refresh()}},{key:"refresh",value:function(){var e=this;function t(){var t=e.$.scrollViewerContainer.classList.contains("vscroll");e.$.scrollViewerContainer.classList.remove("vscroll");var r=e.$.scrollViewerContentContainer.offsetWidth-e.$.scrollViewerContainer.offsetWidth;return r>0&&"hidden"!==e.horizontalScrollBarVisibility||"visible"===e.horizontalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("hscroll"):e.$.scrollViewerContainer.classList.remove("hscroll"),t&&e.$.scrollViewerContainer.classList.add("vscroll"),r}function r(){var t,r=e.$.scrollViewerContainer.classList.contains("hscroll");if(e.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){var i=e.$.scrollViewerContentContainer.getBoundingClientRect().height,n=e.$.scrollViewerContainer.getBoundingClientRect().height;t=i&&n?parseInt(i)-parseInt(n):e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight}else t=e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight;return t>0&&"hidden"!==e.verticalScrollBarVisibility||"visible"===e.verticalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("vscroll"):e.$.scrollViewerContainer.classList.remove("vscroll"),r&&e.$.scrollViewerContainer.classList.add("hscroll"),t}if(e.$.scrollViewerContentContainer){var i=e.scrollWidth,n=e.scrollHeight;e.scrollWidth=t(),e.scrollHeight=r(),e.scrollHeight&&n===e.scrollHeight||(e.scrollWidth=t()),e.scrollWidth&&i===e.scrollWidth||(e.scrollHeight=r()),e.computedVerticalScrollBarVisibility&&(e.scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.computedHorizontalScrollBarVisibility&&(e.scrollWidth+=e._scrollView.vScrollBar.offsetWidth),0===e.scrollHeight&&e.scrollWidth>0&&e.$.container.offsetHeight-e.$.content.offsetHeight<5&&(e.$.container.style.paddingBottom=e._scrollView.hScrollBar.offsetHeight+"px")}}},{key:"attached",value:function(){var e=this;n(f(r.prototype),"attached",this).call(this),e._scrollView||e._customScrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar))}},{key:"detached",value:function(){var e=this;n(f(r.prototype),"detached",this).call(this),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}},{key:"propertyChangedHandler",value:function(e,t,i){n(f(r.prototype),"propertyChangedHandler",this).call(this,e,t,i),"animation"!==e&&"theme"!==e&&this.refresh()}},{key:"computedHorizontalScrollBarVisibility",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?!e._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}},{key:"computedVerticalScrollBarVisibility",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?!e._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}},{key:"scrollWidth",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?1===e._scrollView.hScrollBar.max&&"visible"===e.horizontalScrollBarVisibility?0:e._scrollView.hScrollBar.max:-1},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(0===e&&"visible"===t.horizontalScrollBarVisibility?t._scrollView.hScrollBar.max=0:t._scrollView.hScrollBar.max=e,t.refreshScrollBarsVisibility())}},{key:"scrollHeight",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?1===e._scrollView.vScrollBar.max&&"visible"===e.verticalScrollBarVisibility?0:e._scrollView.vScrollBar.max:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(0===e&&"visible"===t.verticalScrollBarVisibility?t._scrollView.vScrollBar.max=1:t._scrollView.vScrollBar.max=e,t.refreshScrollBarsVisibility())}},{key:"scrollLeft",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?e._scrollView.hScrollBar.value:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(t._scrollView.hScrollBar.value=e)}},{key:"scrollTop",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?e._scrollView.vScrollBar.value:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(t._scrollView.vScrollBar.value=e)}}],[{key:"properties",get:function(){return{horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}},{key:"listeners",get:function(){return{"horizontalScrollBar.change":"_horizontalScrollbarHandler","verticalScrollBar.change":"_verticalScrollbarHandler",touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}},{key:"styleUrls",get:function(){return["smart.scrollviewer.css"]}}]),r}(window[t].ContentElement)),window[t].Utilities.Assign("PositionDetection",function(){function e(t,r,i,n){if(p(this,e),r){var a="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);r.id=a,t.setAttribute("aria-owns",a)}this.context=t,this.dropDown=r,this.defaultParent=i,this.closeMethod=n}return v(e,[{key:"handleAutoPositioning",value:function(){var e=this,t=e.context;if("auto"===t.dropDownPosition&&!t.disabled){var r,i=window.requestAnimationFrame,n=Date.now();return r=i((function a(){r=i(a),"auto"===t.dropDownPosition&&!t.disabled&&(t.isInShadowDOM?document.body.contains(t.shadowParent):document.body.contains(t))||cancelAnimationFrame(r),Date.now()-n>=200&&(e.scrollHandler(),n=Date.now())}))}}},{key:"checkBrowserBounds",value:function(e){var t=this.context;if("auto"===t.dropDownPosition&&!t.disabled)switch(e){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}},{key:"checkBrowserBoundsHorizontally",value:function(){var e,t=this.context,r=this.dropDown,i=0;y.isMobile||window.innerWidth===document.documentElement.clientWidth||(i=window.innerWidth-document.documentElement.clientWidth),null!==t._dropDownParent?e=!0:r.style.left="";var n=window.innerWidth-i,a=t.getBoundingClientRect().left;if(a<0&&(r.style.left=(e?0:Math.abs(a))+"px",a=parseFloat(r.style.left)),a+r.offsetWidth>n){var o=a-Math.abs(n-a-r.offsetWidth);e&&(o+=window.pageXOffset),r.style.left=(e?o:o-a)+"px",window.innerWidth===document.documentElement.clientWidth&&(r.style.left=parseFloat(r.style.left)+i+"px"),e&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}},{key:"checkBrowserBoundsVertically",value:function(e){var t=this.context,r=this.dropDown,i=t._dropDownListPosition;e||(e=t.getBoundingClientRect()),0!==e.height&&(document.documentElement.clientHeight-Math.abs(e.top+e.height+r.offsetHeight)>=0?t._dropDownListPosition="bottom":e.top-r.offsetHeight>=0?t._dropDownListPosition="top":t._dropDownListPosition="overlay-center",this.updatePositionAttribute(i,t._dropDownListPosition))}},{key:"scrollHandler",value:function(){var e=this.context;if(e.parentElement){var t=e.getBoundingClientRect();if(t.top!==e._positionTop){var r=e._dropDownListPosition;this.checkBrowserBoundsVertically(t),e._dropDownListPosition!==r&&this.positionDropDown(),e._positionTop=t.top}}}},{key:"getDropDownParent",value:function(e){var t=this.context,r=this.dropDown,i=t.dropDownAppendTo;t._positionedParent=null,null===i?t._dropDownParent=null:"body"===i||i===document.body?t.getRootNode().host?t._dropDownParent=t.getRootNode().host.shadowRoot:t._dropDownParent=document.body:i instanceof HTMLElement?t._dropDownParent=i:"string"==typeof i?(i=document.getElementById(i))instanceof HTMLElement?t._dropDownParent=i:(t.dropDownAppendTo=null,t._dropDownParent=null):(t.dropDownAppendTo=null,t._dropDownParent=null);var n=t._dropDownParent;if(null!==n){for(;n&&n instanceof HTMLElement&&"static"===window.getComputedStyle(n).position&&n!==t.getShadowRootOrBody();)n=n.parentElement;n===document.body?t._positionedParent=null:t._positionedParent=n,r&&(r.setAttribute("animation",t.animation),""!==t.theme&&r.$.addClass(t.theme),e&&(t._dropDownParent.appendChild(r),r.$.addClass("smart-drop-down-repositioned")),-1===t.detachedChildren.indexOf(r)&&t.detachedChildren.push(r))}}},{key:"dropDownAppendToChangedHandler",value:function(){var e=this.context,t=this.dropDown,r=e._dropDownParent;this.getDropDownParent(),e._dropDownParent!==r&&(e[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach((function(e){return t.style[e]=null})),null===e._dropDownParent?(this.defaultParent.appendChild(t),t.$.removeClass("smart-drop-down-repositioned")):(e._dropDownParent.appendChild(t),t.$.addClass("smart-drop-down-repositioned")))}},{key:"dropDownPositionChangedHandler",value:function(){this.dropDown.style.transition="none",this.context[this.closeMethod](),this.setDropDownPosition(),this.handleAutoPositioning()}},{key:"dropDownAttached",value:function(e){var t=this.context;null!==t._dropDownParent&&(t._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),e&&t[e]())}},{key:"dropDownDetached",value:function(){var e=this.context;null!==e._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(e._dropDownParent)&&e._dropDownParent.removeChild(this.dropDown)}},{key:"setDropDownPosition",value:function(){var e=this.context,t=e.dropDownPosition,r=e._dropDownListPosition;"auto"===t?this.checkBrowserBounds():e._dropDownListPosition=t,this.updatePositionAttribute(r,e._dropDownListPosition)}},{key:"updatePositionAttribute",value:function(e,t){var r=this.context,i=this.dropDown;r.$.dropDownButton&&!r.$.dropDownButton.hasAttribute(t)&&(r.$.dropDownButton.removeAttribute(e),r.$.dropDownButton.setAttribute(t,"")),i.hasAttribute(t)||(i.style.transition="none",i.removeAttribute(e),i.setAttribute(t,""),requestAnimationFrame((function(){i.style.transition=null})))}},{key:"positionDropDown",value:function(e){var t=this.context,r=this.dropDown;if(t.opened&&null!==t._dropDownParent){var i,n,a=t.getBoundingClientRect();if(this.customPositionDropDown){var o=this.customPositionDropDown(a);i=o.left,n=o.top}else switch(i=a.left,n=a.top,t._dropDownListPosition){case"bottom":n+=t.$.container.offsetHeight-1;break;case"center-bottom":n+=t.$.container.offsetHeight-1,i+=t.offsetWidth-r.offsetWidth/2;break;case"center-top":n-=r.offsetHeight-1,i+=t.offsetWidth-r.offsetWidth/2;break;case"top":n-=r.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":n-=r.offsetHeight/2-t.offsetHeight/2;break;case"overlay-top":n-=r.offsetHeight-t.offsetHeight}var l=this.getDropDownOffset();r.style.top=n+l.y+"px",e||(r.style.left=i+l.x+"px")}}},{key:"getDropDownOffset",value:function(){var e,t,r=this.context._positionedParent;if(r){var i=r.getBoundingClientRect();e=-i.left,t=-i.top}else e=window.pageXOffset,t=window.pageYOffset;return{x:e,y:t}}},{key:"placeOverlay",value:function(){var e=this.context;if(e.dropDownOverlay&&!e._overlay){var t=document.createElement("div");t.classList.add("smart-drop-down-overlay"),t.style.width=document.documentElement.scrollWidth+"px",t.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(t),e._overlay=t}}},{key:"removeOverlay",value:function(e){var t=this,r=t.context;r._overlay&&(r.hasAnimation&&e?requestAnimationFrame((function e(){t.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(e):(document.body.removeChild(r._overlay),delete r._overlay)})):(document.body.removeChild(r._overlay),delete r._overlay))}}]),e}())}()}})},1:function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function a(e,t,r){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function o(e){return function(){var t,r=u(e);if(s()){var i=u(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return l(this,t)}}function l(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==h(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}({5:function(e,t){Smart("smart-button",function(e){c(i,Smart.ContentElement);var t=o(i);function i(){return r(this,i),t.apply(this,arguments)}return n(i,[{key:"template",value:function(){return"<button class=\"smart-button smart-unselectable\" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role=\"presentation\"></button>"}},{key:"refresh",value:function(){}},{key:"focus",value:function(){var e=this;e.$.button?e.$.button.focus():HTMLElement.prototype.focus.call(e)}},{key:"blur",value:function(){var e=this;e.$.button?e.$.button.blur():HTMLElement.prototype.blur.call(e)}},{key:"_upHandler",value:function(e){e.stopPropagation(),this.$.setAttributeValue("active",!1)}},{key:"_focusHandler",value:function(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}},{key:"_blurHandler",value:function(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}},{key:"_clickHandler",value:function(e){("release"!==this.clickMode&&"pressAndRelease"!==this.clickMode||this.readonly)&&(e.preventDefault(),e.stopPropagation())}},{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t.$.setAttributeValue("active",!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly))){var r="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:r,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_mouseEnterHandler",value:function(e){var t=this;if(!t.readonly&&(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0),"hover"===t.clickMode)){var r="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:r,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_touchEndHandler",value:function(){var e=this;setTimeout((function(){e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)}),300)}},{key:"_mouseLeaveHandler",value:function(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}},{key:"propertyChangedHandler",value:function(e,t,r){a(u(i.prototype),"propertyChangedHandler",this).call(this,e,t,r);var n=this;"disabled"===e?(n._setFocusable(),n.$button&&n.$button.setAttributeValue("hover",!1),n.$.setAttributeValue("hover",!1),n instanceof Smart.RepeatButton&&n._stopRepeat()):"unfocusable"===e&&n._setFocusable()}},{key:"_setFocusable",value:function(){var e=this.$.button?this.$.button:this;if(this.disabled||this.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);e.tabIndex=this.tabIndex>0?this.tabIndex:0}},{key:"ready",value:function(){var e=this;a(u(i.prototype),"ready",this).call(this),e.setAttribute("role","button"),e._setFocusable(),e.enableShadowDOM&&e.$.hiddenInput&&e.appendChild(e.$.hiddenInput)}}],[{key:"properties",get:function(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}},{key:"styleUrls",get:function(){return["smart.button.css"]}},{key:"listeners",get:function(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}}]),i}()),Smart("smart-repeat-button",function(e){c(i,Smart.Button);var t=o(i);function i(){return r(this,i),t.apply(this,arguments)}return n(i,[{key:"_clickHandler",value:function(e){var t=this;("release"!==t.clickMode||t.preventDefaultClick||t.readonly||t.disabled)&&(e.preventDefault(),e.stopPropagation(),t.preventDefaultClick=!1)}},{key:"_updateInBoundsFlag",value:function(e){var t=this;-1!==e.type.indexOf("leave")?(t._isPointerInBounds=!1,t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)):(t._isPointerInBounds=!0,t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0)),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}},{key:"_startRepeat",value:function(e){var t=this;t.setAttribute("active",""),t._initialTimer||t.readonly||(t._initialTimer=setTimeout((function(){t._repeatTimer=setInterval((function(){if(t._isPointerInBounds){var r="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:r,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),t.preventDefaultClick=!0}}),t.delay)}),t.initialDelay))}},{key:"_stopRepeat",value:function(e){var t=this;t.readonly||e&&("pointercancel"===e.type||e.originalEvent&&"pointercancel"===e.originalEvent.type)||(t.$.setAttributeValue("active",!1),t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null))}},{key:"_touchmoveHandler",value:function(e){this.preventDefaultClick&&e.cancelable&&(e.preventDefault(),e.stopPropagation())}},{key:"_overriddenHandler",value:function(){}}],[{key:"properties",get:function(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}},{key:"listeners",get:function(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}}]),i}()),Smart("smart-toggle-button",function(e){c(i,Smart.Button);var t=o(i);function i(){return r(this,i),t.apply(this,arguments)}return n(i,[{key:"ready",value:function(){a(u(i.prototype),"ready",this).call(this),this._setAriaState()}},{key:"_setAriaState",value:function(){var e=this,t=e.checked;null!==t?e.setAttribute("aria-pressed",t):e.setAttribute("aria-pressed","mixed")}},{key:"_buttonClickHandler",value:function(){}},{key:"_buttonMouseLeaveHandler",value:function(){this.removeAttribute("hover")}},{key:"_buttonMouseEnterHandler",value:function(){this.setAttribute("hover",""),this.disabled||this.readonly||"hover"!==this.clickMode||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue())}},{key:"_documentUpHandler",value:function(e){this._pressed&&(this._pressed=!1,this.disabled||this.readonly||"press"===this.clickMode||"pointercancel"===e.originalEvent.type||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue()))}},{key:"_downHandler",value:function(e){var t=this;t.disabled||t.readonly||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t._updateHidenInputNameAndValue()),"press"===t.clickMode&&(e.preventDefault(),e.stopPropagation()))}},{key:"_dragStartHandler",value:function(e){e.preventDefault()}},{key:"_keyHandler",value:function(e){var t=this;if(!0!==t.disabled&&!t.readonly&&32===e.keyCode){if("keydown"===e.type)return void e.preventDefault();if("none"===t.switchMode)return;t._changeCheckState("keyboard"),t._updateHidenInputNameAndValue()}}},{key:"_changeCheckState",value:function(e){var t=this,r=null;null===t.checked?t.checked=!0:(r=t.checked,t.checked=!t.checked),t._handleTextSelection(),t.$.fireEvent("change",{value:t.checked,oldValue:r,changeType:e}),t.checked?t.$.fireEvent("checkValue",{changeType:e}):t.$.fireEvent("uncheckValue",{changeType:e}),t._setAriaState()}},{key:"_handleTextSelection",value:function(){var e=this;e.$.addClass("smart-unselectable"),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){return e.$.removeClass("smart-unselectable")}),500)}},{key:"propertyChangedHandler",value:function(e,t,r){a(u(i.prototype),"propertyChangedHandler",this).call(this,e,t,r);var n=this;if("checked"===e)return n.$.fireEvent("change",{value:r,oldValue:t,changeType:"api"}),void n._setAriaState();switch(e){case"trueTemplate":n._handleTemplate(!0);break;case"falseTemplate":n._handleTemplate(!1);break;case"indeterminateTemplate":n._handleTemplate()}}},{key:"_htmlBindOnInitialization",value:function(){this._bindContentProperty("trueContent","smart-true-content"),this._bindContentProperty("falseContent","smart-false-content"),this._bindContentProperty("indeterminateContent","smart-indeterminate-content")}},{key:"_bindContentProperty",value:function(e,t){var r=this;if(r.$[e+"Container"]){var i=document.createElement("div");i.innerHTML=r.innerHTML;var n,a=i.getElementsByClassName(t);if(a.length>0)for(var o=0;o<a.length;o++)n=a[o];""===r[e]&&(r[e]=void 0===n?"":n.outerHTML),r.$[e+"Container"].innerHTML=r[e]}}},{key:"_updateContentProperties",value:function(){var e=this;function t(t){e.$[t+"Container"]&&(e[t]=e.$[t+"Container"].innerHTML)}t("trueContent"),t("falseContent"),t("indeterminateContent")}},{key:"_updateHidenInputValue",value:function(){var e,t=this;t.$.hiddenInput&&(e=null===t.checked?"null":!1===t.checked?"off":t.value||"on",t.$.hiddenInput.setAttribute("value",e))}},{key:"_updateHidenInputName",value:function(){if(this.$.hiddenInput){var e=!1===this.checked?"":this.name||"";this.$.hiddenInput.setAttribute("name",e)}}},{key:"_updateHidenInputNameAndValue",value:function(){this._updateHidenInputName(),this._updateHidenInputValue()}},{key:"_handleTemplate",value:function(e,t){var r,i,n,a=this;if(!0===e?(r=a.trueTemplate,i=a.$.trueContentContainer,n=a.trueContent):!1===e?(r=a.falseTemplate,i=a.$.falseContentContainer,n=a.falseContent):(r=a.indeterminateTemplate,i=a.$.indeterminateContentContainer,n=a.indeterminateContent),t&&(i.innerHTML=n||""),null!==r&&r)if("function"!=typeof r)if("content"in document.createElement("template"))if(null!==(r=document.getElementById(r))&&"content"in r){for(var o,l=r.content,s=l.childNodes.length,u=/{{\w+}}/g,c=[],d=0;d<s;d++)for(o=u.exec(l.childNodes[d].innerHTML);o;)c.push({childNodeIndex:d,bindingString:o[0]}),o=u.exec(l.childNodes[d].innerHTML);for(var h,f,p=c.length,m=document.importNode(r.content,!0),v=0;v<p;v++){h=m.childNodes[c[v].childNodeIndex],f=c.length;for(var g=0;g<f;g++)h.innerHTML=h.innerHTML.replace(c[v].bindingString,n)}i.innerHTML="";for(var y=0;y<m.childNodes.length;y++)m.childNodes[y].outerHTML&&(i.innerHTML+=m.childNodes[y].outerHTML)}else a.error(a.localize("invalidTemplate",{elementType:a.nodeName.toLowerCase(),property:"template"}));else a.error(a.localize("htmlTemplateNotSuported",{elementType:a.nodeName.toLowerCase()}));else r(i,{value:n})}}],[{key:"properties",get:function(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}},{key:"listeners",get:function(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}}]),i}())}})},12:function(e,t){function r(e,t,i){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}})(e,t,i||e)}function i(e){return function(){var t,r=l(e);if(o()){var i=l(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return n(this,t)}}function n(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,r){return t&&d(e.prototype,t),r&&d(e,r),e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==f(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=34)}({34:function(e,t){Smart.Utilities.Assign("Draw",function(){function e(t,r){c(this,e);var i=this;i.host=t,i.renderEngine=r||"",i.refresh();var n=["clear","removeElement","attr","getAttr","line","circle","rect","path","pieslice","pieSlicePath","text","measureText"];for(var a in n)i._addFn(Smart.Utilities.Draw.prototype,n[a])}return h(e,[{key:"_addFn",value:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})}},{key:"_initRenderer",value:function(e){return this.createRenderer(this,e)}},{key:"_internalRefresh",value:function(){var e=this;if(e.renderer||(e.host.innerHTML="",e._initRenderer(e.host)),"none"!==window.getComputedStyle(e.host).display){var t=e.renderer;if(t){var r=t.getRect();e._render({x:1,y:1,width:r.width,height:r.height})}}}},{key:"_render",value:function(e){this._plotRect=e}},{key:"refresh",value:function(){this._internalRefresh()}},{key:"getSize",value:function(){var e=this._plotRect;return{width:e.width,height:e.height}}},{key:"toGreyScale",value:function(e){if(-1===e.indexOf("#"))return e;var t=this.cssToRgb(e);t[0]=t[1]=t[2]=Math.round(.3*t[0]+.59*t[1]+.11*t[2]);var r=this.rgbToHex(t[0],t[1],t[2]);return"#"+r[0]+r[1]+r[2]}},{key:"decToHex",value:function(e){return e.toString(16)}},{key:"hexToDec",value:function(e){return parseInt(e,16)}},{key:"rgbToHex",value:function(e,t,r){return[this.decToHex(e),this.decToHex(t),this.decToHex(r)]}},{key:"hexToRgb",value:function(e,t,r){return[this.hexToDec(e),this.hexToDec(t),this.hexToDec(r)]}},{key:"cssToRgb",value:function(e){return e.indexOf("rgb")<=-1?this.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")}},{key:"hslToRgb",value:function(e){var t,r,i,n=parseFloat(e[0]),a=parseFloat(e[1]),o=parseFloat(e[2]);if(0===a)t=r=i=o;else{var l=o<.5?o*(1+a):o+a-o*a,s=2*o-l;t=this.hueToRgb(s,l,n+1/3),r=this.hueToRgb(s,l,n),i=this.hueToRgb(s,l,n-1/3)}return[255*t,255*r,255*i]}},{key:"hueToRgb",value:function(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}},{key:"rgbToHsl",value:function(e){var t,r,i=parseFloat(e[0])/255,n=parseFloat(e[1])/255,a=parseFloat(e[2])/255,o=Math.max(i,n,a),l=Math.min(i,n,a),s=(o+l)/2;if(o===l)t=r=0;else{var u=o-l;switch(r=s>.5?u/(2-o-l):u/(o+l),o){case i:t=(n-a)/u+(n<a?6:0);break;case n:t=(a-i)/u+2;break;case a:t=(i-n)/u+4}t/=6}return[t,r,s]}},{key:"swap",value:function(e,t){var r=e;e=t,t=r}},{key:"getNum",value:function(e){if(e.constructor!==Array){if(isNaN(e))return 0}else for(var t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t];return 0}},{key:"_ptRotate",value:function(e,t,r,i,n){var a=Math.sqrt(Math.pow(Math.abs(e-r),2)+Math.pow(Math.abs(t-i),2)),o=Math.asin((e-r)/a)+n;return{x:e=r+Math.cos(o)*a,y:t=i+Math.sin(o)*a}}},{key:"log",value:function(e,t){return Math.log(e)/(t?Math.log(t):1)}},{key:"_mod",value:function(e,t){var r=Math.abs(e>t?t:e),i=1;if(0!==r)for(;r*i<100;)i*=10;return(e*=i)%(t*=i)/i}},{key:"createRenderer",value:function(e,t){var r=e,i=r.renderer=null;return document.createElementNS&&"HTML5"!==r.renderEngine&&(i=new Smart.Utilities.SvgRenderer(this)),null!==i||"HTML5"!==r.renderEngine&&void 0!==r.renderEngine||(i=new Smart.Utilities.HTML5Renderer(this)),i.init(t),r.renderer=i,i}},{key:"getByPriority",value:function(e){for(var t=void 0,r=0;r<e.length;r++){var i=e[r];if(null!=i&&""!==i){t=i;break}}return t}},{key:"get",value:function(e,t,r){return void 0!==r?e[t][r]:e[t]}},{key:"min",value:function(e,t){for(var r=NaN,i=0;i<e.length;i++){var n=this.get(e,i,t);(isNaN(r)||n<r)&&(r=n)}return r}},{key:"max",value:function(e,t){for(var r=NaN,i=0;i<e.length;i++){var n=this.get(e,i,t);(isNaN(r)||n>r)&&(r=n)}return r}},{key:"sum",value:function(e,t){for(var r=0,i=0;i<e.length;i++){var n=this.get(e,i,t);isNaN(n)||(r+=n)}return r}},{key:"count",value:function(e,t){for(var r=0,i=0;i<e.length;i++){var n=this.get(e,i,t);isNaN(n)||r++}return r}},{key:"avg",value:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}},{key:"filter",value:function(e,t){if(!t)return e;for(var r=[],i=0;i<e.length;i++)t(e[i])&&r.push(e[i]);return r}},{key:"scale",value:function(e,t,r,i){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!i||!0!==i.ignore_range))return NaN;var n=NaN,a=1;if(void 0===t.type||"logarithmic"!==t.type){var o=Math.abs(t.max-t.min);o||(o=1),a=Math.abs(e-Math.min(t.min,t.max))/o}else if("logarithmic"===t.type){var l=t.base;isNaN(l)&&(l=10);var s=Math.min(t.min,t.max);s<=0&&(s=1);var u=Math.max(t.min,t.max);u<=0&&(u=1);var c=this.log(u,l);u=Math.pow(l,c);var d=this.log(s,l);s=Math.pow(l,d);var h=this.log(e,l);a=Math.abs(h-d)/(c-d)}if("logarithmic"===r.type){var f=r.base;isNaN(f)&&(f=10);var p=this.log(r.max,f),m=this.log(r.min,f);r.flip&&(a=1-a);var v=Math.min(m,p)+a*Math.abs(p-m);n=Math.pow(f,v)}else n=Math.min(r.min,r.max)+a*Math.abs(r.max-r.min),r.flip&&(n=Math.max(r.min,r.max)-n+r.min);return n}},{key:"axis",value:function(e,t,r){if(r<=1)return[t,e];(isNaN(r)||r<2)&&(r=2);for(var i=0;Math.round(e)!==e&&Math.round(t)!==t&&i<10;)e*=10,t*=10,i++;for(var n=(t-e)/r;i<10&&Math.round(n)!==n;)e*=10,t*=10,n*=10,i++;for(var a,o=[1,2,5],l=0;;){var s=l%o.length,u=Math.floor(l/o.length),c=Math.pow(10,u)*o[s];if(s=(l+1)%o.length,u=Math.floor((l+1)/o.length),a=Math.pow(10,u)*o[s],n>=c&&n<a)break;l++}for(var d=a,h=[],f=this.renderer._rnd(e,d,!1),p=i<=0?1:Math.pow(10,i);f<t+d;)h.push(f/p),f+=d;return h}},{key:"_widgetToImage",value:function(e,t,r,i,n){var a=e;if(!a)return!1;void 0!==r&&""!==r||(r="image."+t);var o=a.renderEngine,l=a.animation;if(a.animation="none",a.renderEngine="HTML5",a.renderEngine!==o)try{a.refresh()}catch(e){return a.renderEngine=o,a.refresh(),a.animation=l,!1}var s=a.renderer.getContainer().firstElementChild,u=!0;"function"==typeof i&&(u=i(e,s));var c=!0;return u&&(c=this.exportImage(e,s,t,r,n)),a.renderEngine!==o&&(a.renderEngine=o,a.refresh(),a.animation=l),c}},{key:"_saveAsImage",value:function(e,t){return this._widgetToImage(this,e,t)}},{key:"saveAsPNG",value:function(e){return this._saveAsImage("png",e)}},{key:"saveAsJPEG",value:function(e){return this._saveAsImage("jpeg",e)}},{key:"exportImage",value:function(e,t,r,i,n){if(!t)return!1;var a="pdf"===r.toLowerCase();a&&(r="jpeg"),void 0!==i&&""!==i||(i="image."+r);var o=!0;if("print"!==r){try{if(t)if(a){n=n||"portrait";var l={content:{image:t.toDataURL("image/"+r),width:Math.min(t.width/1.35,"portrait"===n?515:762)},pageOrientation:n};try{pdfMake.createPdf(l).download(i)}catch(t){e.error(e.localize("missingReference",{files:"pdfmake.min.js"}))}}else{Smart.Utilities.DataExporter||e.error(e.localize("missingReference",{files:"smart.export.js"}));var s=new Smart.Utilities.DataExporter;t.toBlob((function(e){s.downloadFile(e,r,i)}))}}catch(e){o=!1}return o}var u=window.open("","","width=800,height=500"),c=u.document.open(),d='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>jQWidgets Chart</title></head><body><img src="'+t.toDataURL()+'" /></html>';try{c.write(d),c.close(),setTimeout((function(){u.print(),u.close()}),100)}catch(e){}}}]),e}()),Smart.Utilities.Assign("Renderer",function(){function e(t){c(this,e),this.draw=t,this._gradients={},this._toRadiansCoefficient=2*Math.PI/360}return h(e,[{key:"pieSlicePath",value:function(e,t,r,i,n,a,o){i||(i=1);var l=Math.abs(n-a),s=l>180?1:0;l>=360&&(a=n+359.99);var u=n*this._toRadiansCoefficient,c=a*this._toRadiansCoefficient,d=e,h=e,f=t,p=t,m=!isNaN(r)&&r>0;m&&(o=0);var v=Math.cos(u),g=Math.sin(u),y=Math.cos(c),b=Math.sin(c);if(o+r>0){if(o>0){var _=(l/2+n)*this._toRadiansCoefficient;e+=o*Math.cos(_),t-=o*Math.sin(_)}m&&(d=e+r*v,f=t-r*g,h=e+r*y,p=t-r*b)}var w=e+i*v,S=e+i*y,k=t-i*g,x=t-i*b,C="",M=Math.abs(Math.abs(a-n)-360)>.02;return m?(C="M "+h+","+p,C+=" a"+r+","+r,C+=" 0 "+s+",1 "+(d-h)+","+(f-p),C+=M?" L"+w+","+k:" M"+w+","+k,C+=" a"+i+","+i,C+=" 0 "+s+",0 "+(S-w)+","+(x-k),M&&(C+=" Z")):(C="M "+S+","+x,C+=" a"+i+","+i,C+=" 0 "+s+",1 "+(w-S)+","+(k-x),M&&(C+=" L"+e+","+t,C+=" Z")),C}},{key:"measureText",value:function(e,t,r,i){var n=this._getTextParts(e,t,r),a=n.width,o=n.height;!1===i&&(o/=.6);var l={};if(isNaN(t)&&(t=0),0===t)l={width:this._rup(a),height:this._rup(o)};else{var s=t*Math.PI*2/360,u=Math.abs(Math.sin(s)),c=Math.abs(Math.cos(s)),d=Math.abs(a*u+o*c),h=Math.abs(a*c+o*u);l={width:this._rup(h),height:this._rup(d)}}return i&&(l.textPartsInfo=n),l}},{key:"alignTextInRect",value:function(e,t,r,i,n,a,o,l,s,u){var c=s*Math.PI*2/360,d=Math.sin(c),h=Math.cos(c),f=n*d,p=n*h;"center"===o||""===o||"undefined"===o?e+=r/2:"right"===o&&(e+=r),"center"===l||"middle"===l||""===l||"undefined"===l?t+=i/2:"bottom"===l?t+=i-a/2:"top"===l&&(t+=a/2);var m="middle";-1!==(u=u||"").indexOf("top")?m="top":-1!==u.indexOf("bottom")&&(m="bottom");var v="center";return-1!==u.indexOf("left")?v="left":-1!==u.indexOf("right")&&(v="right"),"center"===v?(e-=p/2,t-=f/2):"right"===v&&(e-=p,t-=f),"top"===m?(e-=a*d,t+=a*h):"middle"===m&&(e-=a*d/2,t+=a*h/2),{x:e=this._rup(e),y:t=this._rup(t)}}},{key:"adjustColor",value:function(e,t){if("string"!=typeof e)return"#000000";if(-1===e.indexOf("#"))return e;var r=this.draw,i=r.cssToRgb(e),n=r.rgbToHsl(i);n[2]=Math.min(1,n[2]*t),n[1]=Math.min(1,n[1]*t*1.1),i=r.hslToRgb(n),e="#";for(var a=0;a<3;a++){var o=Math.round(i[a]);1===(o=r.decToHex(o)).toString().length&&(e+="0"),e+=o}return e.toUpperCase()}},{key:"_rup",value:function(e){var t=Math.round(e);return e>t&&t++,t}},{key:"_ptdist",value:function(e,t,r,i){return Math.sqrt((r-e)*(r-e)+(i-t)*(i-t))}},{key:"_rnd",value:function(e,t,r,i){if(isNaN(e))return e;void 0===i&&(i=!0);var n=e-(!0===i?e%t:this._mod(e,t));return e===n?n:(r?e>n&&(n+=t):n>e&&(n-=t),1===t?Math.round(n):n)}},{key:"_ptrnd",value:function(e){if(!document.createElementNS)return Math.round(e)===e?e:this._rnd(e,1,!1,!0);var t=this._rnd(e,.5,!1,!0);return.5!==Math.abs(t-Math.round(t))?t>e?t-.5:t+.5:t}},{key:"_getContrastColor",value:function(e){if(void 0!==e){var t=this.draw.hexToRgb(e.slice(1,3),e.slice(3,5),e.slice(5,7));return(.299*t[0]+.61*t[1]+.114*t[2])/255>.6?"#000000":"#FFFFFF"}}}]),e}()),Smart.Utilities.Assign("SvgRenderer",function(e){s(n,Smart.Utilities.Renderer);var t=i(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._svgns="http://www.w3.org/2000/svg",r._openGroups=[],r._clipId=0,r}return h(n,[{key:"init",value:function(e){var t=document.createElement("div");t.className="drawContainer",t.onselectstart=function(){return!1},e.appendChild(t),this.host=e,this.container=t;try{var r=document.createElementNS(this._svgns,"svg");r.setAttribute("version","1.1"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("overflow","hidden"),t.appendChild(r),this.canvas=r}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),!0}},{key:"getType",value:function(){return"SVG"}},{key:"refresh",value:function(){}},{key:"getRect",value:function(){return{x:0,y:0,width:Math.max(this._rup(this.host.offsetWidth)-1,0),height:Math.max(this._rup(this.host.offsetHeight)-1,0)}}},{key:"getContainer",value:function(){return this.container}},{key:"clear",value:function(){for(;this.canvas.childNodes.length>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)}},{key:"removeElement",value:function(e){if(void 0!==e)try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},{key:"beginGroup",value:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t}},{key:"endGroup",value:function(){0!==this._openGroups.length&&this._openGroups.pop()}},{key:"_activeParent",value:function(){return 0===this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]}},{key:"createClipRect",value:function(e){var t=document.createElementNS(this._svgns,"clipPath"),r=document.createElementNS(this._svgns,"rect");return this.attr(r,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(r),this._defs.appendChild(t),t}},{key:"getWindowHref",value:function(){var e=window.location.href;return e?e=(e=e.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):e}},{key:"setClip",value:function(e,t){var r="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":r})}},{key:"addHandler",value:function(e,t,r){e.addEventListener(t,r)}},{key:"removeHandler",value:function(){}},{key:"on",value:function(e,t,r){this.addHandler(e,t,r)}},{key:"off",value:function(e,t,r){this.removeHandler(e,t,r)}},{key:"shape",value:function(e,t){var r=document.createElementNS(this._svgns,e);if(r){for(var i in t)r.setAttribute(i,t[i]);return this._activeParent().appendChild(r),r}}},{key:"_getTextParts",value:function(e,t,r){var i={width:0,height:0,parts:[]};if(void 0===e)return i;var n=e.toString().split("<br>"),a=this._activeParent(),o=document.createElementNS(this._svgns,"text");this.attr(o,r);for(var l=0;l<n.length;l++){var s=n[l],u=o.ownerDocument.createTextNode(s),c=void 0;o.appendChild(u),a.appendChild(o);try{c=o.getBBox()}catch(e){}var d=this._rup(c.width),h=this._rup(.6*c.height);o.removeChild(u),i.width=Math.max(i.width,d),i.height+=h+(l>0?4:0),i.parts.push({width:d,height:h,text:s})}return a.removeChild(o),i}},{key:"_measureText",value:function(e,t,i,a){return r(l(n.prototype),"measureText",this).call(this,e,t,i,a)}},{key:"measureText",value:function(e,t,r){return this._measureText(e,t,r,!1)}},{key:"text",value:function(e,t,r,i,n,a,o,l,s,u,c){var d,h=this._measureText(e,a,o,!0,this).textPartsInfo,f=h.parts,p=this._getContrastColor(arguments[11]);if(s||(s="center"),u||(u="center"),(f.length>1||l)&&(d=this.beginGroup()),l){var m=this.createClipRect({x:this._rup(t)-1,y:this._rup(r)-1,width:this._rup(i)+2,height:this._rup(n)+2});this.setClip(d,m)}var v=this._activeParent(),g=0,y=0;g=h.width,y=h.height,(isNaN(i)||i<=0)&&(i=g),(isNaN(n)||n<=0)&&(n=y);var b=i||0,_=n||0,w=0;if(!a||0===a){var S;r+=y,"center"===u||"middle"===u?r+=(_-y)/2:"bottom"===u&&(r+=_-y),i||(i=g),n||(n=y),v=this._activeParent();for(var k=f.length-1;k>=0;k--){S=document.createElementNS(this._svgns,"text"),this.attr(S,o),this.attr(S,{cursor:"default"});var x=S.ownerDocument.createTextNode(f[k].text);S.appendChild(x);var C=t,M=f[k].width,N=f[k].height;"center"===s?C+=(b-M)/2:"right"===s&&(C+=b-M),this.attr(S,{x:this._rup(C),y:this._rup(r+w),width:this._rup(M),height:this._rup(N)}),void 0!==p&&(S.style.fill=p),v.appendChild(S),w-=f[k].height+4}return d?(this.endGroup(),d):S}var T=this.alignTextInRect(t,r,i,n,g,y,s,u,a,c);t=T.x,r=T.y;var P=this.shape("g",{transform:"translate("+t+","+r+")"}),A=this.shape("g",{transform:"rotate("+a+")"});P.appendChild(A),w=0;for(var B=f.length-1;B>=0;B--){var O=document.createElementNS(this._svgns,"text");this.attr(O,o),this.attr(O,{cursor:"default"});var L=O.ownerDocument.createTextNode(f[B].text);O.appendChild(L);var E=0,I=f[B].width,D=f[B].height;"center"===s?E+=(h.width-I)/2:"right"===s&&(E+=h.width-I),this.attr(O,{x:this._rup(E),y:this._rup(w),width:this._rup(I),height:this._rup(D)}),A.appendChild(O),w-=D+4}return v.appendChild(P),d&&this.endGroup(),P}},{key:"line",value:function(e,t,r,i,n){var a=this.shape("line",{x1:e,y1:t,x2:r,y2:i});return this.attr(a,n),a}},{key:"path",value:function(e,t){var r=this.shape("path");return r.setAttribute("d",e),t&&this.attr(r,t),r}},{key:"rect",value:function(e,t,r,i,n){e=this._ptrnd(e),t=this._ptrnd(t),r=Math.max(1,this._rnd(r,1,!1)),i=Math.max(1,this._rnd(i,1,!1));var a=this.shape("rect",{x:e,y:t,width:r,height:i});return n&&this.attr(a,n),a}},{key:"circle",value:function(e,t,r,i){var n=this.shape("circle",{cx:e,cy:t,r:r});return i&&this.attr(n,i),n}},{key:"pieslice",value:function(e,t,r,i,n,a,o,l){var s=this.pieSlicePath(e,t,r,i,n,a,o),u=this.shape("path");return u.setAttribute("d",s),l&&this.attr(u,l),u}},{key:"attr",value:function(e,t){if(e&&t)for(var r in t)"textContent"===r?e.textContent=t[r]:"width"===r||"height"===r?e.setAttribute(r,Math.max(0,t[r])):e.setAttribute(r,t[r])}},{key:"removeAttr",value:function(e,t){if(e&&t)for(var r in t)"textContent"===r?e.textContent="":e.removeAttribute(t[r])}},{key:"getAttr",value:function(e,t){return e.getAttribute(t)}},{key:"_toLinearGradient",value:function(e,t,r){var i="grd"+this._id+e.replace("#","")+(t?"v":"h"),n="url("+this.getWindowHref()+"#"+i+")";if(this._gradients[n])return n;var a=document.createElementNS(this._svgns,"linearGradient");this.attr(a,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:i});for(var o=0;o<r.length;o++){var l=r[o],s=document.createElementNS(this._svgns,"stop"),u="stop-color:"+this.adjustColor(e,l[1]);this.attr(s,{offset:l[0]+"%",style:u}),a.appendChild(s)}return this._defs.appendChild(a),this._gradients[n]=!0,n}},{key:"_toRadialGradient",value:function(e,t,r){var i="grd"+this._id+e.replace("#","")+"r"+(void 0!==r?r.key:""),n="url("+this.getWindowHref()+"#"+i+")";if(this._gradients[n])return n;var a=document.createElementNS(this._svgns,"radialGradient");void 0===r?this.attr(a,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:i}):this.attr(a,{cx:r.x,cy:r.y,r:r.outerRadius,id:i,gradientUnits:"userSpaceOnUse"});for(var o=0;o<t.length;o++){var l=t[o],s=document.createElementNS(this._svgns,"stop"),u="stop-color:"+this.adjustColor(e,l[1]);this.attr(s,{offset:l[0]+"%",style:u}),a.appendChild(s)}return this._defs.appendChild(a),this._gradients[n]=!0,n}}]),n}()),Smart.Utilities.Assign("HTML5Renderer",function(e){s(n,Smart.Utilities.Renderer);var t=i(n);function n(e){var r;return c(this,n),(r=t.call(this,e))._renderers=new Smart.Utilities.HTML5RenderHelpers(a(r)),r}return h(n,[{key:"init",value:function(e){try{this.host=e;var t=document.createElement("div"),r=document.createElement("canvas");t.className="chartContainer",t.style.position="relative",t.onselectstart=function(){return!1},r.id="__smartCanvasWrap",r.style.width="100%",r.style.height="100%",t.appendChild(r),e.appendChild(t),this.canvas=r,r.width=e.offsetWidth,r.height=e.offsetHeight,this.ctx=r.getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0}},{key:"getType",value:function(){return"HTML5"}},{key:"getContainer",value:function(){return this.host.getElementsByClassName("chartContainer")[0]}},{key:"getRect",value:function(){return{x:0,y:0,width:this.canvas.width-1,height:this.canvas.height-1}}},{key:"beginGroup",value:function(){}},{key:"endGroup",value:function(){}},{key:"setClip",value:function(){}},{key:"createClipRect",value:function(){}},{key:"addHandler",value:function(){}},{key:"removeHandler",value:function(){}},{key:"on",value:function(e,t,r){this.addHandler(e,t,r)}},{key:"off",value:function(e,t,r){this.removeHandler(e,t,r)}},{key:"clear",value:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0}},{key:"removeElement",value:function(e){void 0!==e&&this._elements[e.id]&&delete this._elements[e.id]}},{key:"shape",value:function(e,t){var r={type:e,id:this._maxId++};for(var i in t)r[i]=t[i];return this._elements[r.id]=r,r}},{key:"attr",value:function(e,t){for(var r in t)e[r]=t[r]}},{key:"removeAttr",value:function(e,t){for(var r in t)delete e[t[r]]}},{key:"rect",value:function(e,t,r,i,n){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(r))throw'Invalid value for "width"';if(isNaN(i))throw'Invalid value for "height"';var a=this.shape("rect",{x:e,y:t,width:r,height:i});return n&&this.attr(a,n),a}},{key:"path",value:function(e,t){var r=this.shape("path",t);return this.attr(r,{d:e}),r}},{key:"line",value:function(e,t,r,i,n){return this.path("M "+e+","+t+" L "+r+","+i,n)}},{key:"circle",value:function(e,t,r,i){var n=this.shape("circle",{x:e,y:t,r:r});return i&&this.attr(n,i),n}},{key:"pieslice",value:function(e,t,r,i,n,a,o,l){var s=this.path(this.pieSlicePath(e,t,r,i,n,a,o),l);return this.attr(s,{x:e,y:t,innerRadius:r,outerRadius:i,angleFrom:n,angleTo:a}),s}},{key:"_getCSSStyle",value:function(e){var t=document.createElement("div");t.className=e,t.style.position="absolute",t.style.visibility="hidden",this.host.appendChild(t);var r=window.getComputedStyle(t);return r={color:r.color,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight},this.host.removeChild(t),r}},{key:"_getTextParts",value:function(e,t,r){var i="Arial",n="10pt",a="";if(r&&r.class){var o=this._getCSSStyle(r.class);o.fontSize&&(n=o.fontSize),o.fontFamily&&(i=o.fontFamily),o.fontWeight&&(a=o.fontWeight)}this.ctx.font=a+" "+n+" "+i;for(var l={width:0,height:0,parts:[]},s=e.toString().split("<br>"),u=0;u<s.length;u++){var c=s[u],d=this.ctx.measureText(c).width,h=document.createElement("span");h.className="chart",h.font=this.ctx.font,h.textContent=c,this.host.appendChild(h);var f=.6*h.offsetHeight;this.host.removeChild(h),l.width=Math.max(l.width,this._rup(d)),l.height+=f+(u>0?4:0),l.parts.push({width:d,height:f,text:c})}return l}},{key:"_measureText",value:function(e,t,i,a){return r(l(n.prototype),"measureText",this).call(this,e,t,i,a)}},{key:"measureText",value:function(e,t,r){return this._measureText(e,t,r,!1)}},{key:"text",value:function(e,t,r,i,n,a,o,l,s,u,c){var d=this.shape("text",{text:e,x:t,y:r,width:i,height:n,angle:a,clip:l,halign:s,valign:u,rotateAround:c});if(o&&this.attr(d,o),d.fontFamily="Arial",d.fontSize="10pt",d.fontWeight="",d.color=this._getContrastColor(arguments[11]),o&&o.class){var h=this._getCSSStyle(o.class);d.fontFamily=h.fontFamily||d.fontFamily,d.fontSize=h.fontSize||d.fontSize,d.fontWeight=h.fontWeight||d.fontWeight,d.color=d.color||h.color}d.color=d.color||"#000000";var f=this._measureText(e,0,o,!0);return this.attr(d,{textPartsInfo:f.textPartsInfo,textWidth:f.width,textHeight:f.height}),(i<=0||isNaN(i))&&this.attr(d,{width:f.width}),(n<=0||isNaN(n))&&this.attr(d,{height:f.height}),d}},{key:"_toLinearGradient",value:function(e,t,r){if(this._renderers._gradients[e])return e;for(var i=[],n=0;n<r.length;n++)i.push({percent:r[n][0]/100,color:this.adjustColor(e,r[n][1])});var a="gr"+this._gradientId++;return this.createGradient(a,t?"vertical":"horizontal",i),a}},{key:"_toRadialGradient",value:function(e,t){if(this._renderers._gradients[e])return e;for(var r=[],i=0;i<t.length;i++)r.push({percent:t[i][0]/100,color:this.adjustColor(e,t[i][1])});var n="gr"+this._gradientId++;return this.createGradient(n,"radial",r),n}},{key:"createGradient",value:function(e,t,r){this._renderers.createGradient(this,e,t,r)}},{key:"refresh",value:function(){for(var e in this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}}]),n}()),Smart.Utilities.Assign("HTML5RenderHelpers",function(){function e(t){c(this,e),this.HTML5Renderer=t,this._cmds="mlcazq"}return h(e,[{key:"ptrnd",value:function(e){if(.5===Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return t<e&&(t-=1),t+.5}},{key:"createGradient",value:function(e,t,r,i){e._gradients[t]={orientation:r,colorStops:i}}},{key:"setStroke",value:function(e,t){var r=e.ctx,i=t["stroke-width"];r.strokeStyle=t.stroke||"transparent",r.lineWidth=0===i?.01:void 0!==i?i:1,void 0!==t["fill-opacity"]?r.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?r.globalAlpha=t.opacity:r.globalAlpha=1,r.setLineDash&&(t["stroke-dasharray"]?r.setLineDash(t["stroke-dasharray"].split(",")):r.setLineDash([]))}},{key:"setFillStyle",value:function(e,t){var r=e.ctx;if(r.fillStyle="transparent",void 0!==t["fill-opacity"]?r.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?r.globalAlpha=t.opacity:r.globalAlpha=1,t.fill&&-1===t.fill.indexOf("#")&&e._gradients[t.fill]){var i,n="horizontal"!==e._gradients[t.fill].orientation,a="radial"===e._gradients[t.fill].orientation,o=this.ptrnd(t.x),l=this.ptrnd(t.y),s=this.ptrnd(t.x+(n?0:t.width)),u=this.ptrnd(t.y+(n?t.height:0));if(("circle"===t.type||"path"===t.type||"rect"===t.type)&&a){var c=this.ptrnd(t.x),d=this.ptrnd(t.y),h=t.innerRadius||0,f=t.outerRadius||t.r||0;"rect"===t.type&&(c+=t.width/2,d+=t.height/2),i=r.createRadialGradient(c,d,h,c,d,f)}a||((isNaN(o)||isNaN(s)||isNaN(l)||isNaN(u))&&(o=0,l=0,s=n?0:r.canvas.width,u=n?r.canvas.height:0),i=r.createLinearGradient(o,l,s,u));for(var p=e._gradients[t.fill].colorStops,m=0;m<p.length;m++)i.addColorStop(p[m].percent,p[m].color);r.fillStyle=i}else t.fill&&(r.fillStyle=t.fill)}},{key:"rect",value:function(e,t){0!==t.width&&0!==t.height&&(e.fillRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height),e.strokeRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height))}},{key:"circle",value:function(e,t){0!==t.r&&(e.beginPath(),e.arc(this.ptrnd(t.x),this.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())}},{key:"_parsePoint",value:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}}},{key:"_parseNumber",value:function(e){var t,r=!1;for(t=this._pos;t<e.length;t++)if(e[t]>="0"&&e[t]<="9"||"."===e[t]||"e"===e[t]||"-"===e[t]&&!r||"-"===e[t]&&t>=1&&"e"===e[t-1])r=!0;else{if(r||" "!==e[t]&&","!==e[t])break;this._pos++}var i=parseFloat(e.substring(this._pos,t));if(!isNaN(i))return this._pos=t,i}},{key:"_isRelativeCmd",value:function(e){return-1!==this._cmds.indexOf(e)}},{key:"_parseCmd",value:function(e){for(var t=this._pos;t<e.length;t++){if(-1!==this._cmds.toLowerCase().indexOf(e[t].toLowerCase()))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd;if(" "!==e[t]){if(e[t]>="0"&&e[t]<="9"){if(this._pos=t,""===this._lastCmd)break;return this._lastCmd}}else this._pos++}}},{key:"_toAbsolutePoint",value:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}}},{key:"path",value:function(e,t){var r=this,i=t.d;this._pos=0,this._lastCmd="";var n=void 0;for(this._currentPoint={x:0,y:0},e.beginPath();this._pos<i.length;){var a=this._parseCmd(i);if(void 0===a)break;if("M"!==a&&"m"!==a)if("L"!==a&&"l"!==a){if("A"!==a&&"a"!==a)if("Z"!==a&&"z"!==a||void 0===n)if("C"!==a&&"c"!==a)if("Q"!==a&&"q"!==a);else{var o=this._parsePoint(i),l=this._parsePoint(i);e.quadraticCurveTo(o.x,o.y,l.x,l.y),this._currentPoint=l}else{var s=this._parsePoint(i),u=this._parsePoint(i),c=this._parsePoint(i);e.bezierCurveTo(s.x,s.y,u.x,u.y,c.x,c.y),this._currentPoint=c}else e.lineTo(n.x,n.y),this._currentPoint=n;else if("continue"===function(){var t=r._parseNumber(i),n=r._parseNumber(i),o=r._parseNumber(i)*(Math.PI/180),l=r._parseNumber(i),s=r._parseNumber(i),u=r._parsePoint(i);if(r._isRelativeCmd(a)&&(u=r._toAbsolutePoint(u)),0===t||0===n)return"continue";var c=r._currentPoint,d={x:Math.cos(o)*(c.x-u.x)/2+Math.sin(o)*(c.y-u.y)/2,y:-Math.sin(o)*(c.x-u.x)/2+Math.cos(o)*(c.y-u.y)/2},h=Math.pow(d.x,2)/Math.pow(t,2)+Math.pow(d.y,2)/Math.pow(n,2);h>1&&(t*=Math.sqrt(h),n*=Math.sqrt(h));var f=(l===s?-1:1)*Math.sqrt((Math.pow(t,2)*Math.pow(n,2)-Math.pow(t,2)*Math.pow(d.y,2)-Math.pow(n,2)*Math.pow(d.x,2))/(Math.pow(t,2)*Math.pow(d.y,2)+Math.pow(n,2)*Math.pow(d.x,2)));isNaN(f)&&(f=0);var p=f*t*d.y/n,m=f*-n*d.x/t,v={x:(c.x+u.x)/2+Math.cos(o)*p-Math.sin(o)*m,y:(c.y+u.y)/2+Math.sin(o)*p+Math.cos(o)*m},g=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(g(e)*g(t))},b=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},_=b([1,0],[(d.x-p)/t,(d.y-m)/n]),w=[(d.x-p)/t,(d.y-m)/n],S=[(-d.x-p)/t,(-d.y-m)/n],k=b(w,S);y(w,S)<=-1&&(k=Math.PI),y(w,S)>=1&&(k=0),0===s&&k>0&&(k-=2*Math.PI),1===s&&k<0&&(k+=2*Math.PI);var x=t>n?t:n,C=t>n?1:t/n,M=t>n?n/t:1;e.translate(v.x,v.y),e.rotate(o),e.scale(C,M),e.arc(0,0,x,_,_+k,1-s),e.scale(1/C,1/M),e.rotate(-o),e.translate(-v.x,-v.y)}())continue}else{var d=this._parsePoint(i);if(void 0===d)break;e.lineTo(d.x,d.y),this._currentPoint=d}else{var h=this._parsePoint(i);if(void 0===h)break;e.moveTo(h.x,h.y),this._currentPoint=h,void 0===n&&(n=h)}}e.fill(),e.stroke(),e.closePath()}},{key:"text",value:function(e,t){var r=this.ptrnd(t.x),i=this.ptrnd(t.y),n=this.ptrnd(t.width),a=this.ptrnd(t.height),o=t.halign,l=t.valign,s=t.angle,u=t.rotateAround,c=t.textPartsInfo,d=c.parts,h=t.clip;void 0===h&&(h=!0),e.save(),o||(o="center"),l||(l="center"),h&&(e.rect(r,i,n,a),e.clip());var f=t.textWidth,p=t.textHeight,m=n||0,v=a||0;if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,s&&0!==s){var g=this.HTML5Renderer.alignTextInRect(r,i,n,a,f,p,o,l,s,u);r=g.x,i=g.y;var y=s*Math.PI*2/360;e.translate(r,i),e.rotate(y);for(var b=0,_=c.width,w=d.length-1;w>=0;w--){var S=0;"center"===o?S+=(_-d[w].width)/2:"right"===o&&(S+=_-d[w].width),e.fillText(d[w].text,S,b),b-=d[w].height+4}e.restore()}else{i+=p,"center"===l||"middle"===l?i+=(v-p)/2:"bottom"===l&&(i+=v-p),n||(n=f),a||(a=p);for(var k=0,x=d.length-1;x>=0;x--){var C=d[x],M=r,N=d[x].width;"center"===o?M+=(m-N)/2:"right"===o&&(M+=m-N),e.fillText(C.text,M,i+k),k-=C.height+(x>0?4:0)}e.restore()}}}]),e}()),Smart.Utilities.Assign("Plot",function(){function e(t){c(this,e),this.renderer=t}return h(e,[{key:"get",value:function(e,t,r){return void 0!==r?e[t][r]:e[t]}},{key:"min",value:function(e,t){for(var r=NaN,i=0;i<e.length;i++){var n=this.get(e,i,t);(isNaN(r)||n<r)&&(r=n)}return r}},{key:"max",value:function(e,t){for(var r=NaN,i=0;i<e.length;i++){var n=this.get(e,i,t);(isNaN(r)||n>r)&&(r=n)}return r}},{key:"sum",value:function(e,t){for(var r=0,i=0;i<e.length;i++){var n=this.get(e,i,t);isNaN(n)||(r+=n)}return r}},{key:"count",value:function(e,t){for(var r=0,i=0;i<e.length;i++){var n=this.get(e,i,t);isNaN(n)||r++}return r}},{key:"avg",value:function(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}},{key:"filter",value:function(e,t){if(!t)return e;for(var r=[],i=0;i<e.length;i++)t(e[i])&&r.push(e[i]);return r}},{key:"scale",value:function(e,t,r,i){if(isNaN(e))return NaN;if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!i||!0!==i.ignore_range))return NaN;var n=NaN,a=1;if(void 0===t.type||"logarithmic"!==t.type){var o=Math.abs(t.max-t.min);o||(o=1),a=Math.abs(e-Math.min(t.min,t.max))/o}else if("logarithmic"===t.type){var l=t.base;isNaN(l)&&(l=10);var s=Math.min(t.min,t.max);s<=0&&(s=1);var u=Math.max(t.min,t.max);u<=0&&(u=1);var c=Math.log(u)/Math.log(l);u=Math.pow(l,c);var d=Math.log(s)/Math.log(l);s=Math.pow(l,d);var h=Math.log(e)/Math.log(l);a=Math.abs(h-d)/(c-d)}if("logarithmic"===r.type){var f=r.base;isNaN(f)&&(f=10);var p=Math.log(r.max)/Math.log(f),m=Math.log(r.min)/Math.log(f);r.flip&&(a=1-a);var v=Math.min(m,p)+a*Math.abs(p-m);n=Math.pow(f,v)}else n=Math.min(r.min,r.max)+a*Math.abs(r.max-r.min),r.flip&&(n=Math.max(r.min,r.max)-n+r.min);return n}},{key:"axis",value:function(e,t,r){if(r<=1)return[t,e];(isNaN(r)||r<2)&&(r=2);for(var i=0;Math.round(e)!==e&&Math.round(t)!==t&&i<10;)e*=10,t*=10,i++;for(var n=(t-e)/r;i<10&&Math.round(n)!==n;)e*=10,t*=10,n*=10,i++;for(var a,o=[1,2,5],l=0;;){var s=l%o.length,u=Math.floor(l/o.length),c=Math.pow(10,u)*o[s];if(s=(l+1)%o.length,u=Math.floor((l+1)/o.length),a=Math.pow(10,u)*o[s],n>=c&&n<a)break;l++}for(var d=a,h=[],f=this.renderer._rnd(e,d,!1),p=i<=0?1:Math.pow(10,i);f<t+d;)h.push(f/p),f+=d;return h}}]),e}())}})},174:function(e,t,r){"use strict";r.r(t),r.d(t,"smartTimePicker",(function(){return c}));r(0),r(1),r(12),r(8),r(6),r(41),r(18);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(h,Smart.Component);var t,r,i,c,d=(t=h,function(){var e,r=s(t);if(l()){var i=s(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return o(this,e)});function h(){return n(this,h),d.apply(this,arguments)}return r=h,(i=[{key:"name",get:function(){return"smartTimePicker"}}])&&a(r.prototype,i),c&&a(r,c),h}()},18:function(e,t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,r){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}})(e,t,r||e)}function a(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==u(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}({109:function(e,t){Smart("smart-time-picker",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,Smart.BaseElement);var t,u,c,d,h=(t=f,function(){var e,r=l(t);if(o()){var i=l(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return a(this,e)});function f(){return r(this,f),h.apply(this,arguments)}return u=f,d=[{key:"properties",get:function(){return{autoSwitchToMinutes:{value:!1,type:"boolean"},footer:{value:!1,type:"boolean"},footerTemplate:{value:null,type:"any?"},format:{value:"12-hour",allowedValues:["12-hour","24-hour"],type:"string"},minuteInterval:{value:1,type:"number"},name:{value:"",type:"string"},selection:{value:"hour",allowedValues:["hour","minute"],type:"string"},value:{value:new Date,type:"any",reflectToAttribute:!1},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"}}}},{key:"listeners",get:function(){return{keydown:"_keydownHandler",resize:"_resizeHandler","header.click":"_headerClickHandler","picker.down":"_pickerDownHandler","picker.move":"_pickerMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}},{key:"requires",get:function(){return{"Smart.Utilities.NumericProcessor":"smart.numeric.js","Smart.Utilities.BigNumber":"smart.math.js","Smart.Utilities.Draw":"smart.draw.js"}}},{key:"styleUrls",get:function(){return["smart.timepicker.css"]}}],(c=[{key:"template",value:function(){return'<div id="container" role="presentation">\n                <div id="header" class="smart-header smart-unselectable" role="heading" aria-level="1">\n                    <div id="hourMinuteContainer" class="smart-hour-minute-container">\n                        <div id="hourContainer" class="smart-hour-container" role="button"></div>\n                        <div role="presentation">:</div>\n                        <div id="minuteContainer" class="smart-minute-container" role="button"></div>\n                    </div>\n                    <div id="ampmContainer" class="smart-am-pm-container" role="presentation">\n                        <div id="amContainer" class="smart-am-container" role="button">AM</div>\n                        <div id="pmContainer" class="smart-pm-container" role="button">PM</div>\n                    </div>\n                </div>\n                <div id="main" class="smart-main-container">\n                    <div id="svgContainer" class="smart-svg-container">\n                        <div id="picker" class="smart-svg-picker" role="slider"></div>\n                    </div>\n                    <div id="footer" class="smart-footer"></div>\n                </div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}},{key:"ready",value:function(){n(l(f.prototype),"ready",this).call(this)}},{key:"render",value:function(){this._createElement(),n(l(f.prototype),"render",this).call(this)}},{key:"setHours",value:function(e){var t=this;(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||e>12),t._drawArrow(!0,e,arguments[2]),t.hasAnimation||(t._inInnerCircle=!1))}},{key:"setMinutes",value:function(e){var t=this;e=60===e?0:Math.max(0,Math.min(e,59)),t._updateMinutes(e),"minute"===t.selection&&t._drawArrow(!0,e,arguments[1])}},{key:"propertyChangedHandler",value:function(e,t,r){n(l(f.prototype),"propertyChangedHandler",this).call(this,e,t,r);var i=this;switch(e){case"disabled":case"unfocusable":i._setFocusable();break;case"footer":case"view":i._resizeHandler();break;case"footerTemplate":i._validateFooterTemplate();break;case"format":var a=i.value.getHours();"12-hour"===r?(i.$ampmContainer.removeClass("smart-hidden"),i.value.getHours()<12?i._selectAmPm("am"):i._selectAmPm("pm"),0===a?a=12:a>12&&(a-=12)):i.$ampmContainer.addClass("smart-hidden"),i.$.hourContainer.innerHTML=a,"hour"===i.selection&&(i.$.picker.setAttribute("aria-valuenow",a),i._draw.clear(),i._renderSVG());break;case"minuteInterval":var o=Math.max(1,Math.min(r,60));o!==r&&(i.minuteInterval=o),"minute"===i.selection&&(i.interval=o);break;case"selection":"hour"===r?i._changeToHourSelection():i._changeToMinuteSelection();break;case"value":i._oldValue=t,i._validateValue();var s=i.value.getHours()===t.getHours(),u=i.value.getMinutes()===t.getMinutes();s&&u||(u?i.setHours(i.value.getHours()):(s||i.setHours(i.value.getHours(),!0),i.setMinutes(i.value.getMinutes()))),delete i._oldValue}}},{key:"_applyInitialSettings",value:function(){var e,t,r=this,i=r.value;e=i.getHours(),t=i.getMinutes(),"12-hour"===r.format?e<12?(r._ampm="am",r.$amContainer.addClass("smart-selected"),0===e&&(e=12)):(r._ampm="pm",r.$pmContainer.addClass("smart-selected"),e>12&&(e-=12)):r.$ampmContainer.addClass("smart-hidden"),1===(t=t.toString()).length&&(t="0"+t),r.$.hourContainer.innerHTML=e,r.$.minuteContainer.innerHTML=t,"hour"===r.selection?(r.$hourContainer.addClass("smart-selected"),r.$.picker.setAttribute("aria-valuenow",e)):(r.$minuteContainer.addClass("smart-selected"),r.$.picker.setAttribute("aria-valuenow",t))}},{key:"_changeSelection",value:function(e,t){var r=this,i=e.pageX,n=e.pageY,a=r._getCenterCoordinates(),o=Math.sqrt(Math.pow(a.x-i,2)+Math.pow(a.y-n,2));if(r._measurements.center=a,"down"===e.type){if(o>r._measurements.radius)return void e.stopPropagation();r._dragging=!0}"24-hour"===r.format&&"hour"===r.selection&&o<r._measurements.radius-50?r._inInnerCircle=!0:r._inInnerCircle=!1;var l=-1*Math.atan2(n-a.y,i-a.x)*180/Math.PI;l<0&&(l+=360),r._angle=l;var s=r._numericProcessor.getValueByAngle(r._angle);"hour"===r.selection?("24-hour"===r.format&&r._inInnerCircle?0!==s&&12!==s?s+=12:s=0:0===s&&(s=12),r._updateHours(s)):(60===s&&(s=0),r._updateMinutes(s)),void 0!==r._oldTimePart&&(cancelAnimationFrame(r._animationFrameId),delete r._animationFrameId,r._drawArrow(!0,s,t))}},{key:"_changeToHourSelection",value:function(){var e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode,r=e.value.getHours();cancelAnimationFrame(e._animationFrameId),delete e._animationFrameId,e.interval=1,e.$hourContainer.addClass("smart-selected"),e.$minuteContainer.removeClass("smart-selected"),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===r||r>12)?e._inInnerCircle=!0:"12-hour"===e.format&&0==(r%=12)&&(r=12),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1,e.$.picker.firstElementChild.setAttribute("aria-hidden",!0),e.$.picker.setAttribute("aria-valuenow",r)}},{key:"_changeToMinuteSelection",value:function(){var e=this._centralCircle.parentElement||this._centralCircle.parentNode;this._inInnerCircle=!1,cancelAnimationFrame(this._animationFrameId),delete this._animationFrameId,this.interval=this.minuteInterval,this.$hourContainer.removeClass("smart-selected"),this.$minuteContainer.addClass("smart-selected"),e.removeChild(this._centralCircle),e.removeChild(this._arrow),e.removeChild(this._head),this._getMeasurements(),this._numericProcessor.getAngleRangeCoefficient(),this._draw.clear(),e.appendChild(this._centralCircle),e.appendChild(this._arrow),e.appendChild(this._head),this._renderMinutes(),this._drawArrow(!0,void 0,!0),this.$.picker.firstElementChild.setAttribute("aria-hidden",!0),this.$.picker.setAttribute("aria-valuenow",this.value.getMinutes())}},{key:"_computeArrowBodyPoints",value:function(e,t,r,i){var n=Math.sin(t),a=Math.cos(t),o=e-r*a+i*n,l=e+r*n+i*a,s=e+r*a+i*n,u=e-r*n+i*a,c="M "+(e+r*a)+","+(e-r*n)+" L "+(e-r*a)+","+(e+r*n)+" L "+o+","+l+" "+s+","+u;return this._headCenter={x:(o+s)/2,y:(l+u)/2},c}},{key:"_createElement",value:function(){var e=this;e.setAttribute("role","dialog"),e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},e._validateInitialPropertyValues(),e._applyInitialSettings(),e._numericProcessor=new Smart.Utilities.DecimalNumericProcessor(e),e._draw=new Smart.Utilities.Draw(e.$.picker),e._isVisible()?(e._setPickerSize(),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable(),e.$.hiddenInput.value=e.value,e.enableShadowDOM&&e.appendChild(e.$.hiddenInput)):e._renderingSuspended=!0}},{key:"_documentMoveHandler",value:function(e){this._dragging&&this._changeSelection(e,!0)}},{key:"_documentUpHandler",value:function(){var e=this;e._dragging?(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.hasAnimation?function t(){e._animationFrameId?requestAnimationFrame(t):(e.$picker.addClass("animate"),setTimeout((function(){e.selection="minute",e._changeToMinuteSelection()}),250),setTimeout((function(){e.$picker.removeClass("animate")}),550))}():(e.selection="minute",e._changeToMinuteSelection()))):e.hasAttribute("focus")&&(e.$.fireEvent("blur"),e.removeAttribute("focus"))}},{key:"_drawArrow",value:function(e,t,r){var i,n,a=this,o="hour"===a.selection,l="12-hour"===a.format,s=a._oldTimePart;if(delete a._oldTimePart,void 0===t&&(o?(t=a.value.getHours(),l&&t>12&&(t-=12)):t=a.value.getMinutes()),void 0!==s&&!r&&a.hasAnimation)if(!o||l){o?(i=.2,t%=n=12,s%=n):(i=1,n=60);var u=t-s,c=s-t;u<0&&(u+=n),c<0&&(c+=n),c<u&&(i*=-1),function r(){s+=i,(s=parseFloat((s%n).toFixed(1)))<0&&(s+=n),a._drawArrowSVG(e,s),e=!0,s!==t%n?a._animationFrameId=requestAnimationFrame(r):delete a._animationFrameId}()}else a._animate24HourView(s,t);else a._drawArrowSVG(e,t)}},{key:"_animate24HourView",value:function(e,t){var r=this,i=.2;r._inInnerCircle=!1;var n=0===e||e>12,a=0===t||t>12;if(n!==a){if(e=n?Math.abs(e-12):(e+12)%24,r._inInnerCircle=a,r._drawArrowSVG(!0,e),e===t)return}else r._inInnerCircle=a;var o=e,l=t;r._inInnerCircle&&(0===l&&o<18?l=12:0===o&&l<18&&(o=12));var s=l-o,u=o-l;s<0&&(s+=12),u<0&&(u+=12),u<s&&(i*=-1),function n(a){r._inInnerCircle=a,a?((e=parseFloat((e+i).toFixed(1)))<0?e+=24:e<1&&(e+=12),12!==e&&24!==e||(e=0)):(12!==(e+=i)&&(e=parseFloat((e%12).toFixed(1))),e<=0&&(e+=12)),r._drawArrowSVG(!0,e),e!==t?r._animationFrameId=requestAnimationFrame((function(){n(a)})):(delete r._animationFrameId,r._inInnerCircle=!1)}(r._inInnerCircle)}},{key:"_drawArrowSVG",value:function(e,t){var r,i=this,n=i._measurements,a=i._numericProcessor.getAngleByValue(t);r=i._inInnerCircle?i._computeArrowBodyPoints(n.radius,a,1,n.innerRadius-i._largestLabelSize/2-45):i._computeArrowBodyPoints(n.radius,a,1,n.innerRadius-i._largestLabelSize/2),e?(i._arrow.setAttribute("d",r),i._head.setAttribute("cx",i._headCenter.x),i._head.setAttribute("cy",i._headCenter.y),i._head.setAttribute("r",i._largestLabelSize),i._headRect=i._head.getBoundingClientRect(),t%1==0&&i._highlightLabel(t)):(i._arrow=i._draw.path(r,{class:"smart-needle"}),i._head=i._draw.circle(i._headCenter.x,i._headCenter.y,i._largestLabelSize,{class:"smart-needle-central-circle"}),i._headRect=i._head.getBoundingClientRect())}},{key:"_drawLabel",value:function(e,t,r){var i=this,n=i._measurements,a=n.radius,o={class:"smart-label smart-unselectable","font-size":n.fontSize,"font-family":n.fontFamily,"font-weight":n.fontWeight,"font-style":n.fontStyle};"hour"===i.selection?i._plotInnerCircle?t>0?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t);var l=i._draw.measureText(t,0,o),s=a-r-i._largestLabelSize/2,u=a+s*Math.sin(e),c=a+s*Math.cos(e);i._draw.text(t,Math.round(u)-l.width/2,Math.round(c)-l.height/2,l.width,l.height,0,o).setAttribute("value",parseFloat(t))}},{key:"_getCenterCoordinates",value:function(){var e=this.$.picker.getBoundingClientRect(),t=this._measurements.radius,r=document.body.scrollLeft||document.documentElement.scrollLeft,i=document.body.scrollTop||document.documentElement.scrollTop;return{x:e.left+r+t,y:e.top+i+t}}},{key:"_getMeasurements",value:function(){var e,t,r,i,n,a,o=this,l=o._measurements,s=document.createElement("div");s.className="smart-label",s.style.position="absolute",s.style.visibility="hidden",o.$.svgContainer.appendChild(s),"hour"===o.selection?(e="1",t="23",o.max=12,o._drawMax="12",o._range=12):(e="00",t="55",o.max=60,o._drawMax="60",o._range=60),s.innerHTML=e,r=s.offsetWidth,n=s.offsetHeight,s.innerHTML=t,i=s.offsetWidth,a=s.offsetHeight,o._largestLabelSize=Math.max(r,n,i,a),o._tickIntervalHandler.labelsSize.minLabelSize=n,o._tickIntervalHandler.labelsSize.maxLabelSize=a;var u=window.getComputedStyle(s);l.fontSize=u.fontSize,l.fontFamily=u.fontFamily,l.fontWeight=u.fontWeight,l.fontStyle=u.fontStyle,o.$.svgContainer.removeChild(s)}},{key:"_headerClickHandler",value:function(e){var t=this;if(!t.disabled&&!t.readonly)switch(e.target){case t.$.hourContainer:"hour"!==t.selection&&(t.selection="hour",t._changeToHourSelection());break;case t.$.minuteContainer:"minute"!==t.selection&&(t.selection="minute",t._changeToMinuteSelection());break;case t.$.amContainer:if(!t.$amContainer.hasClass("smart-selected")){t._selectAmPm("am");var r=new Date(t.value.getTime());t.value.setHours(t.value.getHours()-12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:r})}break;case t.$.pmContainer:if(!t.$pmContainer.hasClass("smart-selected")){t._selectAmPm("pm");var i=new Date(t.value.getTime());t.value.setHours(t.value.getHours()+12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:i})}}}},{key:"_highlightLabel",value:function(e){var t,r=this;if(r._highlightedLabel){if(parseFloat(r._highlightedLabel.getAttribute("value"))===e)return;r._highlightedLabel.classList.remove("smart-selected"),r._highlightedLabel=void 0}"hour"===r.selection?(void 0===e&&(e=r.value.getHours()),"12-hour"===r.format&&(0===e?e=12:e>12&&(e-=12)),t=e):(void 0===e&&(e=r.value.getMinutes()),60==(t=5*Math.round(e/5))&&(t=0));var i=r.$.picker.querySelector('.smart-label[value="'+t+'"]');i&&(t===e||r._overlapsLabel(i))&&(r._highlightedLabel=i,i.classList.add("smart-selected"))}},{key:"_isVisible",value:function(){return!!(this.offsetWidth||this.offsetHeight||this.getClientRects().length)}},{key:"_keydownHandler",value:function(e){var t=this;if(!t._dragging){var r,i=(t.shadowRoot||t.getRootNode()).activeElement,n=e.key;if(!t.$.header.contains(i)||"Enter"!==n&&" "!==n){if(i===t.$.picker&&!e.altKey&&("ArrowRight"===n||"ArrowUp"===n?r=1:"ArrowLeft"!==n&&"ArrowDown"!==n||(r=-1),r))if(e.preventDefault(),"hour"===t.selection){var a=t.value.getHours();0===a&&-1===r?a=23:23===a&&1===r?a=0:a+=r,"12-hour"===t.format&&(a>=12&&t.$amContainer.hasClass("smart-selected")?a-=12:a<12&&t.$pmContainer.hasClass("smart-selected")&&(a+=12)),t.setHours(a,void 0,!0)}else{var o=t.value.getMinutes();o+(r*=t.minuteInterval)>=60?o=0:o<-1*r?o=60%r==0?60+r:60-60%r:o+=r,t.setMinutes(o,!0)}}else e.preventDefault(),t._headerClickHandler({target:i})}}},{key:"_overlapsLabel",value:function(e){var t=this,r=e.getBoundingClientRect(),i=t._headRect;return 0===i.height&&(i=t._headRect=t._head.getBoundingClientRect()),!(r.right-10<i.left||r.left+10>i.right||r.bottom-10<i.top||r.top+10>i.bottom)}},{key:"_parseDateString",value:function(e,t){var r=e.indexOf("Date("),i=e.indexOf(")"),n=e;if(-1!==r&&-1!==i){if(""===(n=(n=e.slice(r+5,i)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date;if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(n))return(n=(n=n.replace(/\s/g,"")).split(",")).map((function(e,t){n[t]=parseInt(e)})),n.unshift(null),n=new(Function.prototype.bind.apply(Date,n))}if(""===n.trim())return t;if(!isNaN(n))return new Date(parseInt(n,10));try{n=new Date(n)}catch(e){n=t}return isNaN(n.getTime())?t:n}},{key:"_pickerDownHandler",value:function(e){this.disabled||this.readonly||!Smart.Utilities.Core.isMobile&&1!==e.which||(this._changeSelection(e),this.$.fireEvent("focus"),this.setAttribute("focus",""))}},{key:"_pickerMoveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_renderHours",value:function(){var e=this;e._highlightedLabel=void 0,e._majorTicksInterval=1,e._numericProcessor.addGaugeTicksAndLabels(),"24-hour"===e.format?(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._numericProcessor.addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10,e.$.picker.setAttribute("aria-valuemin",0),e.$.picker.setAttribute("aria-valuemax",23)):(e.$.picker.setAttribute("aria-valuemin",1),e.$.picker.setAttribute("aria-valuemax",12))}},{key:"_renderMinutes",value:function(){this._highlightedLabel=void 0,this._majorTicksInterval=5,this._numericProcessor.addGaugeTicksAndLabels(),this.$.picker.setAttribute("aria-valuemin",0),this.$.picker.setAttribute("aria-valuemax",59)}},{key:"_renderSVG",value:function(){var e=this;if(e._isVisible()&&!e._renderingSuspended){if(e._centralCircle=e._draw.circle(e._measurements.radius,e._measurements.radius,4,{class:"smart-needle-central-circle"}),"hour"===e.selection&&"24-hour"===e.format&&(0===e.value.getHours()||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!1),e._inInnerCircle=!1,"hour"===e.selection){e.interval=1,e._renderHours();var t=e.value.getHours();"12-hour"===e.format&&t>12&&(t-=12),e._highlightLabel(t)}else e.interval=e.minuteInterval,e._renderMinutes(),e._highlightLabel(e.value.getMinutes());e.$.picker.firstElementChild.setAttribute("aria-hidden",!0)}else e._renderingSuspended=!0}},{key:"refresh",value:function(){var e=this,t=!1;e.isRendered&&(e._isVisible()?(e._renderingSuspended=!1,t=!0,e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0)}},{key:"_resizeHandler",value:function(){this.refresh()}},{key:"_selectAmPm",value:function(e){var t=this;"am"===e?(t._ampm="am",t.$pmContainer.removeClass("smart-selected"),t.$amContainer.addClass("smart-selected")):(t._ampm="pm",t.$amContainer.removeClass("smart-selected"),t.$pmContainer.addClass("smart-selected"))}},{key:"_setFocusable",value:function(){var e=this;if(e.disabled||e.unfocusable)return e.$.hourContainer.removeAttribute("tabindex"),e.$.minuteContainer.removeAttribute("tabindex"),e.$.amContainer.removeAttribute("tabindex"),e.$.pmContainer.removeAttribute("tabindex"),void e.$.picker.removeAttribute("tabindex");var t=e.tabIndex>0?e.tabIndex:0;e.$.hourContainer.tabIndex=t,e.$.minuteContainer.tabIndex=t,e.$.amContainer.tabIndex=t,e.$.pmContainer.tabIndex=t,e.$.picker.tabIndex=t}},{key:"_setPickerSize",value:function(){var e=this,t=e.$.svgContainer.offsetWidth,r=e.$.svgContainer.offsetHeight,i=.9*Math.min(t,r);void 0!==e._pickerSize&&e._pickerSize!==i?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=i,e._measurements.radius=i/2,e._measurements.innerRadius=e._measurements.radius-10,i+="px",e.$.picker.style.width=i,e.$.picker.style.height=i}},{key:"_updateHours",value:function(e,t){var r=this,i=e;"12-hour"===r.format?"am"===r._ampm?12===i&&(i=0):i<12&&(i+=12):i=e;var n=void 0!==r._oldValue?r._oldValue:new Date(r.value.getTime()),a=n.getHours();i!==a?(r._oldTimePart=a,void 0===r._oldValue&&r.value.setHours(i),r.$.hourContainer.innerHTML=e,!0!==t&&(r.$.hiddenInput.value=r.value,r.$.fireEvent("change",{value:r.value,oldValue:n})),"hour"===r.selection&&r.$.picker.setAttribute("aria-valuenow",e)):delete r._oldTimePart}},{key:"_updateMinutes",value:function(e){var t=this,r=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),i=r.getMinutes();e!==i?(t._oldTimePart=i,void 0===t._oldValue&&t.value.setMinutes(e),"minute"===t.selection&&t.$.picker.setAttribute("aria-valuenow",e),1===(e=e.toString()).length&&(e="0"+e),t.$.minuteContainer.innerHTML=e,t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:r})):delete t._oldTimePart}},{key:"_validateFooterTemplate",value:function(){var e=this,t=e.footerTemplate;if(null!==t){var r;if(t instanceof HTMLTemplateElement?r=t:"string"==typeof t&&((r=document.getElementById(t))instanceof HTMLTemplateElement||(r=void 0)),void 0===r)return e.footerTemplate=null,void(e.$.footer.innerHTML="");var i=document.importNode(r.content,!0);if(e.enableShadowDOM)return e.$.footer.innerHTML="<slot></slot>",void e.appendChild(i);e.$.footer.appendChild(i)}else e.$.footer.innerHTML=""}},{key:"_validateInitialPropertyValues",value:function(){this._validateFooterTemplate(),this.minuteInterval=Math.max(1,Math.min(this.minuteInterval,60)),this._validateValue()}},{key:"_validateValue",value:function(){var e=this,t=e.value,r=void 0!==e._oldValue?this._oldValue:new Date;if(!(t instanceof Date))if("string"==typeof t){if(/^\d{1,2}:\d{1,2}$/.test(t)){var i=t.split(":");return void(e.value=new Date(r.getFullYear(),r.getMonth(),r.getDate(),parseFloat(i[0]),parseFloat(i[1])))}e.value=e._parseDateString(t,r)}else e.value=r}}])&&i(u.prototype,c),d&&i(u,d),f}())}})},41:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==i(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=107)}({107:function(e,t){Smart.Utilities.Assign("TickIntervalHandler",function(){function e(t,r,i,n,a,o,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=this;s.context=t,s.minLabel=r,s.maxLabel=i,s.labelClass=n,s.dimension=a,s.logarithmic=l,t.customInterval?t.customTicks.length>0?s.labelsSize=s.getCustomTicksLabelSize():s.labelsSize={minLabelSize:0,minLabelOtherSize:0,maxLabelSize:0,maxLabelOtherSize:0}:s.labelsSize=s.getMinAndMaxLabelSize(),o?(s.getNiceInterval=s.getNiceIntervalInteger,s.getPossibleBiggerLabel=s.getPossibleBiggerLabelInteger):(s.getNiceInterval=s.getNiceIntervalFloatingPoint,s.getPossibleBiggerLabel=s.getPossibleBiggerLabelFloatingPoint)}var t,i,n;return t=e,(i=[{key:"getInterval",value:function(e,t,r,i){var n,a,o=this.context,l=o._measurements.innerRadius,s=1;"radial"===e?(n=Math.max(this.labelsSize.minLabelSize,this.labelsSize.minLabelOtherSize,this.labelsSize.maxLabelSize,this.labelsSize.maxLabelOtherSize),s=1.35):(n=Math.max(this.labelsSize.minLabelSize,this.labelsSize.maxLabelSize),s=1.45),n*=s,a="radial"===e?function(){var e=2*Math.PI*l*(Math.abs(o.startAngle-o.endAngle)/360);return Math.round(e)}():o[this.dimension]-this.labelsSize.minLabelSize/2-this.labelsSize.maxLabelSize/2,a=Math.max(10,a);var u=Math.ceil(a/n),c="radial"===e?4*u:3*u,d=this.getNiceInterval(t,r,u,!0),h=this.getNiceInterval(t,r,c);if(o._cachedLabelsSize=this.labelsSize,u>2&&!o.customInterval){var f=this.getPossibleBiggerLabel(u,d);if(f.length>Math.max(this.minLabel.length,this.maxLabel.length)){var p=this.minLabel;this.minLabel=f,this.labelsSize=this.getMinAndMaxLabelSize(),o._cachedLabelsSize=this.labelsSize;var m=this.getInterval(e,t,r,i);return this.minLabel=p,this.labelsSize=this.getMinAndMaxLabelSize(),m}}return{major:d,minor:h}}},{key:"getNiceIntervalFloatingPoint",value:function(e,t,r,i){var n,a=t-e,o=Math.floor(Math.log10(a)-Math.log10(r)),l=Math.pow(10,o),s=r*l,u=(n=a<2*s?1:a<3*s?2:a<7*s?5:10)*l;if(i&&this.context._range/u>r){switch(n){case 5:n=10;break;case 2:n=5;break;case 1:n=2}u=n*l}return this.nearestPowerOfTen=l,this.logarithmic&&i?Math.max(1,u):u}},{key:"getPossibleBiggerLabelFloatingPoint",value:function(e,t){var r,i,n=this.context,a=parseFloat(n.min-n._numericProcessor.getPreciseModulo(parseFloat(n.min),t)+parseFloat(t)),o=a;this.logarithmic&&(a=Math.pow(10,a)),r=n._formatLabel(a);for(var l=1;l<e&&!((o+=t)>=n._drawMax);l++)i=this.logarithmic?Math.pow(10,o):o,(i=n._formatLabel(i)).length>r.length&&(r=i);return r}},{key:"getNiceIntervalInteger",value:function(e,t,r,i){var n,a=new Smart.Utilities.BigNumber(t).subtract(new Smart.Utilities.BigNumber(e)),o=Math.floor(Math.log10(a.toString())-Math.log10(r)),l=new Smart.Utilities.BigNumber(10).pow(new Smart.Utilities.BigNumber(o)),s=new Smart.Utilities.BigNumber(r).multiply(l);n=-1===a.compare(new Smart.Utilities.BigNumber(2*s))?1:-1===a.compare(new Smart.Utilities.BigNumber(3*s))?2:-1===a.compare(new Smart.Utilities.BigNumber(7*s))?5:10;var u=new Smart.Utilities.BigNumber(n).multiply(l);if(i&&1===new Smart.Utilities.BigNumber(this.context._range).divide(u).compare(r)){switch(n){case 5:n=10;break;case 2:n=5;break;case 1:n=2}u=new Smart.Utilities.BigNumber(n).multiply(l)}return-1===u.compare(1)&&(u=new Smart.Utilities.BigNumber(1)),this.nearestPowerOfTen=l,u}},{key:"getPossibleBiggerLabelInteger",value:function(e,t){var r,i,n=this.context,a=new Smart.Utilities.BigNumber(10),o=new Smart.Utilities.BigNumber(n.min).subtract(new Smart.Utilities.BigNumber(n.min).mod(t)).add(t),l=o;this.logarithmic&&(o=a.pow(o)),r=n._formatLabel(o);for(var s=1;s<e&&-1===(l=l.add(t)).compare(n._drawMax);s++)i=this.logarithmic?a.pow(l):l,(i=n._formatLabel(i)).length>r.length&&(r=i);return r}},{key:"getMinAndMaxLabelSize",value:function(){var e=this.context,t=e.$.container,r=document.createElement("span");r.className=this.labelClass,r.style.position="absolute",r.style.visibility="hidden",t.appendChild(r),r.innerHTML=this.minLabel;var i=r[this.dimension],n=r[e._settings.otherSize];r.innerHTML=this.maxLabel;var a=r[this.dimension],o=r[e._settings.otherSize];return t.removeChild(r),{minLabelSize:i,minLabelOtherSize:n,maxLabelSize:a,maxLabelOtherSize:o}}},{key:"getCustomTicksLabelSize",value:function(){var e=this,t=e.context,r=t.$.container,i=document.createElement("span"),n=t.customTicks;i.className=e.labelClass,i.style.position="absolute",i.style.visibility="hidden",r.appendChild(i),i.innerHTML=t._formatLabel(n[0]);for(var a=i[e.dimension],o=i[t._settings.otherSize],l=1;l<t.customTicks.length;l++){i.innerHTML=t._formatLabel(t.customTicks[l]);var s=i[e.dimension],u=i[t._settings.otherSize];s>a&&(a=s),u>o&&(o=u)}return r.removeChild(i),{minLabelSize:a,minLabelOtherSize:o,maxLabelSize:a,maxLabelOtherSize:o}}}])&&r(t.prototype,i),n&&r(t,n),e}())}})},6:function(e,t){function r(e,t,i){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(i){var n=Object.getOwnPropertyDescriptor(i,t);return n.get?n.get.call(r):n.value}})(e,t,i||e)}function i(e){return function(){var t,r=o(e);if(a()){var i=o(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return n(this,t)}}function n(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==h(e)&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=85)}({85:function(e,t){Smart.Utilities.Assign("NumericProcessor",function(){return function e(t,r){switch(d(this,e),t[r]){case"integer":return new Smart.Utilities.IntegerNumericProcessor(t,r);case"floatingPoint":return new Smart.Utilities.DecimalNumericProcessor(t,r);case"complex":return new Smart.Utilities.ComplexNumericProcessor(t,r)}}}()),Smart.Utilities.Assign("BaseNumericProcessor",function(){function e(t,r){d(this,e);var i=this;i.context=t,i._longestLabelSize=0,i.numericFormatProperty=r,i.regexScientificNotation=new RegExp(/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|m|u|n|p|f|a|z|y){1}$/),i.regexNoLeadingZero=new RegExp(/^(-)?[.]\d+$/),i.regexLeadingZero=new RegExp(/^[+\-]?(0+)[1-9]+|^[+\-]?(0{2,})[.]|^(0{2,})$/),i.prefixesToPowers={Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24},window.NIComplex?i.complexConstructor=window.NIComplex:i.complexConstructor=Smart.Utilities.Complex}return c(e,[{key:"prepareForValidation",value:function(e,t,r){var i=this.context,n=e||void 0!==t;if(r=(r=r.toString()).replace(/\s/g,""),r=i._discardDecimalSeparator(r),this.regexLeadingZero.test(r)){var a=this.regexLeadingZero.exec(r);r=a[1]?r.replace(a[1],""):a[2]?r.replace(a[2],"0"):r.replace(a[3],"0")}this.regexNoLeadingZero.test(r)?r="-"===r.charAt(0)?"-0"+r.slice(1):"0"+r:("integer"===i[this.numericFormatProperty]&&(10===i._radixNumber||n)||"floatingPoint"===i[this.numericFormatProperty])&&this.regexScientificNotation.test(r)&&(r=this.scientificToDecimal(r));var o,l=!1;if("complex"===i[this.numericFormatProperty]&&!1===i._regexSpecial.nonNumericValue.test(r))try{if(i._regexSpecial.exaValue.test(r)){var s=r.indexOf("E"),u=parseFloat(r.slice(0,s))*Math.pow(10,18),c=parseFloat(r.slice(s+1,-1));o=new this.complexConstructor(u,c)}else o=new this.complexConstructor(r);l=!0}catch(e){l=!1}if(!1!==l||!(!n&&!1===i._regex[i._radixNumber].test(r)||n&&!1===i._regex[10].test(r)))return{value:r,enteredComplexNumber:o};i._handleNonNumericValue(e,t,r)}},{key:"isENotation",value:function(e){return new RegExp(/e/i).test(e.toString())}},{key:"scientificToDecimal",value:function(e){var t=this.regexScientificNotation.exec(e),r=t[1],i=t[2];return parseFloat(r)*Math.pow(10,this.prefixesToPowers[i])}},{key:"_createMeasureLabel",value:function(){var e=this.context,t=document.createElement("div");return t.className="smart-label",t.style.position="absolute",t.style.visibility="hidden","far"!==e.scalePosition?e._measureLabelScale=e.$.scaleNear:e._measureLabelScale=e.$.scaleFar,e._measureLabelScale.appendChild(t),t}},{key:"_addMajorTickAndLabel",value:function(e,t,r,i,n){var a=this.context,o=a._settings.leftOrTop,l=this.valueToPx(i),s="",u="";if(parseInt(l)>parseInt(a._measurements.trackLength))return{tick:s,label:u};if(a.logarithmicScale&&(e=a._formatLabel(Math.pow(10,i))),"smart-tank"===a.nodeName.toLowerCase()||a._intervalHasChanged){var c=a._tickIntervalHandler.labelsSize;if(n){a._labelDummy.innerHTML=e;var d=this.valueToPx(i),h=this.valueToPx(a._drawMax),f=this.valueToPx(a._drawMin),p=a._labelDummy[a._settings.size],m="vertical"===a.orientation?a._labelDummy.offsetWidth:a._labelDummy.offsetHeight,v=(p+c.minLabelSize)/2,g=(p+c.maxLabelSize)/2;r=a._normalLayout?d+g<h&&d-v>f:d-g>h&&d+v<f,m>this._longestLabelSize&&(this._longestLabelSize=m)}else this._longestLabelSize=Math.max(c.minLabelOtherSize,c.maxLabelOtherSize,this._longestLabelSize)}return a._tickValues.push(i),s='<div style="'+o+": "+l+'px;" class="smart-tick"></div>',!1!==r&&(void 0===t&&(a._labelDummy.innerHTML=e,t=a._labelDummy[a._settings.size]),u+='<div class="smart-label'+(n?" smart-label-middle":"")+'" style="'+o+": "+(l-t/2)+'px;">'+e+"</div>"),{tick:s,label:u}}},{key:"getWordLength",value:function(e){switch(this.context._unsigned="u"===e.charAt(0),e){case"int8":case"uint8":return 8;case"int16":case"uint16":return 16;case"int32":case"uint32":return 32;case"int64":case"uint64":return 64}}},{key:"getAngleByValue",value:function(e,t,r){var i=this.context;!1!==t&&i.logarithmicScale&&(e=Math.log10(e));var n,a=(e-i._drawMin)*i._angleRangeCoefficient;return n=void 0===i.inverted||!i.inverted&&!i.rightToLeft||i.rightToLeft&&i.inverted?i.endAngle-a:i.startAngle+a,r?n:n*Math.PI/180+Math.PI/2}},{key:"getValueByAngle",value:function(e,t){var r,i,n,a=this.context;for(void 0===a.inverted||!a.inverted&&!a.rightToLeft||a.rightToLeft&&a.inverted?(r=a.endAngle,i=e):(r=e,i=a._normalizedStartAngle);r<i;)r+=360;if(n=(r-i)/a._angleDifference*a._range+parseFloat(a._drawMin),a.logarithmicScale){if(a.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(n,!0)).toFixed(12));n=Math.pow(10,n)}return t&&!a.coerce?Math.round(n):(n=this.createDescriptor(n,void 0,!0,!0),this.getCoercedValue(n,!1))}},{key:"updateGaugeValue",value:function(e){var t=this.context,r=t.value;t.value=e,t._drawValue=t.logarithmicScale?Math.log10(e).toString():e,t._number=this.createDescriptor(t.value),t.$.digitalDisplay.value=e,t.$.fireEvent("change",{value:e,oldValue:r}),t._setAriaValue("valuenow"),delete t._valueBeforeCoercion}},{key:"validateColorRange",value:function(e){var t=this.context;return Math.min(Math.max(e,t.min),t.max)}},{key:"getActualValue",value:function(e){return this.context.logarithmicScale?Math.pow(10,e):e}},{key:"drawGaugeLogarithmicScaleMinorTicks",value:function(e,t,r){var i,n=this.context;for(var a in t instanceof Smart.Utilities.BigNumber&&(t=parseFloat(t.toString())),e)if(i=a,a>=0&&a%1==0)break;for(var o=parseFloat(i);o<n._drawMax;o+=t)for(var l=2;l<=9;l++){var s=l*Math.pow(10,o+t-1);s<n.max&&r(s)}for(var u=parseFloat(i);u>n._drawMin;u-=t)for(var c=2;c<=9;c++){var d=c*Math.pow(10,u-1);d>n.min&&r(d)}}},{key:"_getAngleDifference",value:function(e,t){var r=Math.abs(t-e)%360;return r>180?360-r:r}},{key:"addCustomTicks",value:function(){var e=this,t=e.context,r=!t.logarithmicScale,i="",n="";function a(a){var o=t.customTicks[a],l=r?e.createDescriptor(o):Math.log10(o),s=a>0&&a<t.customTicks.length-1,u=e._addMajorTickAndLabel(t._formatLabel(o),void 0,!0,l,s);i+=u.tick,n+=u.label}if(e._longestLabelSize=0,t._tickValues=[],t._labelDummy=e._createMeasureLabel(),t._normalLayout)for(var o=0;o<t.customTicks.length;o++)a(o);else for(var l=t.customTicks.length-1;l>=0;l--)a(l);"smart-tank"===t.nodeName.toLowerCase()&&t._updateScaleWidth(e._longestLabelSize),t._appendTicksAndLabelsToScales(i,n)}},{key:"addGaugeCustomTicks",value:function(){var e,t,r=this,i=r.context,n=i._distance,a=i._measurements.radius-n.majorTickDistance;function o(n){var a=i.customTicks[n],o=r.createDescriptor(a),l=r.getAngleByValue(o,!0),s=n>0&&n<i.customTicks.length-1;e(l),t(l,a,s)}e="none"!==i.ticksVisibility&&!1!==i._plotTicks?function(e){i._drawTick(e,a,"major")}:function(){},t="none"!==i.labelsVisibility&&!1!==i._plotLabels?function(e,t,r){i._drawLabel(e,t,n.labelDistance,r)}:function(){};for(var l=i.customTicks.length-1;l>=0;l--)o(l)}}]),e}()),Smart.Utilities.Assign("IntegerNumericProcessor",function(e){l(n,Smart.Utilities.BaseNumericProcessor);var t=i(n);function n(e,r){var i;return d(this,n),(i=t.call(this,e,r)).context=e,i.defaultMins={int8:"-128",uint8:"0",int16:"-32768",uint16:"0",int32:"-2147483648",uint32:"0",int64:"-9223372036854775808",uint64:"0"},i.defaultMaxs={int8:"127",uint8:"255",int16:"32767",uint16:"65535",int32:"2147483647",uint32:"4294967295",int64:"9223372036854775807",uint64:"18446744073709551615"},i}return c(n,[{key:"createDescriptor",value:function(e,t,r,i,n){var a,o=this.context;if(e.constructor!==Smart.Utilities.BigNumber){var l=!n&&o._radixNumber?o._radixNumber:10;10===l&&t&&e.constructor!==Smart.Utilities.BigNumber&&this.isENotation(e)&&(e=Smart.Utilities.BigNumber.bigIntSupport?new Smart.Utilities.BigNumber(Math.round(e)):new Smart.Utilities.NumberRenderer(e).largeExponentialToDecimal()),a=o._toBigNumberDecimal?o._toBigNumberDecimal(e.toString(l,o._wordLengthNumber),l):new Smart.Utilities.BigNumber(e)}else a=new Smart.Utilities.BigNumber(e);return r&&(o._unsigned&&-1===a.compare(0)&&(a=a.set(0)),i&&(a=this.validate(a,o._minObject,o._maxObject)),a=this.round(a)),a}},{key:"round",value:function(e){var t=this.context;if(e instanceof window.Smart.Utilities.BigNumber&&"bigint"==typeof e._d)return e;if(e instanceof window.Smart.Utilities.BigNumber==0||!t._wordLengthNumber||t._wordLengthNumber<64)return new Smart.Utilities.BigNumber(Math.round(e.toString()));var r=e.mod(1);return 1===r._d.length&&0===r._d[0]||((e=e.intPart())._s?(r._d[1]>5||5===r._d[1]&&r._d[2])&&(e=e.add(-1)):r._d[1]>4&&(e=e.add(1))),e}},{key:"validate",value:function(e,t,r){return-1===e.compare(t)?t:1===e.compare(r)?r:e}},{key:"validateMinMax",value:function(e,t){var r=this.context,i=this.defaultMins[r.wordLength],n=new Smart.Utilities.BigNumber(i),a=this.defaultMaxs[r.wordLength],o=new Smart.Utilities.BigNumber(a),l="date"!==r.mode;if(void 0===r._numberRenderer&&(r._numberRenderer=new Smart.Utilities.NumberRenderer),e&&l){null!==r.min&&(r.min=r.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(r.min)&&(r.min=this.scientificToDecimal(r.min)));var s=this.round(new Smart.Utilities.BigNumber(r.min));null===r.min||r._minIsNull&&r._initialized||!(s.compare(n)>=0)?(r._minIsNull=!0,r.min=i,r._minObject=n):r._minObject=s}if(t&&l){null!==r.max&&(r.max=r.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(r.max)&&(r.max=this.scientificToDecimal(r.max)));var u=this.round(new Smart.Utilities.BigNumber(r.max));null===r.max||r._maxIsNull&&r._initialized||!(u.compare(o)<=0)?(r._maxIsNull=!0,r.max=a,r._maxObject=o):r._maxObject=u}l||(r._minObject=new Smart.Utilities.BigNumber(r.min),r._maxObject=new Smart.Utilities.BigNumber(r.max)),this.compare(r._minObject,r._maxObject)||(r._minObject=n,r._maxObject=o,r._drawMin=r.logarithmicScale?0:i,r._drawMax=r.logarithmicScale?10:a,r.min=i,r.max=a),l||(r._minDate=Smart.Utilities.DateTime.fromFullTimeStamp(r.min),r._maxDate=Smart.Utilities.DateTime.fromFullTimeStamp(r.max))}},{key:"valueToPx",value:function(e){var t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var r,i=this.context,n=new Smart.Utilities.BigNumber(i._measurements.trackLength).divide(new Smart.Utilities.BigNumber(i._range));if(i._normalLayout){var a=i._drawMin instanceof Smart.Utilities.BigNumber?i._drawMin:new Smart.Utilities.BigNumber(i._drawMin);e=new Smart.Utilities.BigNumber(e),r=parseFloat(n.multiply(e.subtract(a)).toString())}else{var o=i._drawMax instanceof Smart.Utilities.BigNumber?i._drawMax:new Smart.Utilities.BigNumber(i._drawMax);r=parseFloat(this.round(o.subtract(e).multiply(n)).toString())}return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t,r}},{key:"pxToValue",value:function(e){var t,r=this.context,i=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;if(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,t=r._normalLayout?r._valuePerPx.multiply(e-r._trackStart):r._valuePerPx.multiply(r._trackEnd-e),t=this.round(t).toString(),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=i,r.logarithmicScale){var n=parseFloat(t)+parseFloat(r._drawMin);return new Smart.Utilities.BigNumber(Math.round(Math.pow(10,n)))}return this.createDescriptor(r._minObject.add(t),!1,!0,!0)}},{key:"compare",value:function(e,t,r){if((null===e||null===t)&&e!==t)return!0;e.constructor!==Smart.Utilities.BigNumber&&(e=new Smart.Utilities.BigNumber(e));var i=e.compare(t);return!0!==r?0!==i:i}},{key:"incrementDecrement",value:function(e,t,r){var i,n=this.context;if(e.constructor!==Smart.Utilities.BigNumber&&(e=new Smart.Utilities.BigNumber(e)),"add"===t){if(i=e.add(r),void 0!==n._drawMax)return i.compare(n._drawMax)>0?new Smart.Utilities.BigNumber(n._drawMax):i}else if(i=e.subtract(r),void 0!==n._drawMin)return i.compare(n._drawMin)<0?new Smart.Utilities.BigNumber(n._drawMin):i;return i}},{key:"render",value:function(e,t){var r=this.context;if(!r.scientificNotation&&!0===t)return new Smart.Utilities.NumberRenderer(new Smart.Utilities.BigNumber(e)).bigNumberToExponent(r.significantDigits);var i=e;return r.scientificNotation&&!0===t?i=new Smart.Utilities.NumberRenderer(i).toScientific(r.significantDigits,r.precisionDigits):"string"!=typeof e&&(i=e.toString(r._radixNumber,r._wordLengthNumber,r.leadingZeros)),i}},{key:"addTicksAndLabels",value:function(){var e=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var t,r,i,n,a,o,l,s,u,c=this.context,d=c._measurements.trackLength,h=c._normalLayout,f=c._majorTicksInterval,p=this.round(new Smart.Utilities.BigNumber(c._range).divide(f)),m=d/p,v=new Smart.Utilities.BigNumber(c._drawMin),g=new Smart.Utilities.BigNumber(c._drawMax),y="",b="";c._tickValues=[],this._longestLabelSize=0,h?(t=v,i=(r=f.add(t.subtract(t.mod(f)))).subtract(t),a=c._formatLabel(v),o=c._tickIntervalHandler.labelsSize.minLabelSize,n=g,l=c._formatLabel(g),s=c._tickIntervalHandler.labelsSize.maxLabelSize):(r=(t=g).subtract(t.mod(f)),i=t.subtract(r),a=c._formatLabel(g),o=c._tickIntervalHandler.labelsSize.maxLabelSize,n=v,l=c._formatLabel(v),s=c._tickIntervalHandler.labelsSize.minLabelSize),c._labelDummy=this._createMeasureLabel(),y+=(u=this._addMajorTickAndLabel(a,o,!0,t)).tick,b+=u.label;var _=i.divide(f).multiply(m);if(0!==r.compare(c.max)&&_.compare(d)<0){var w=c._formatLabel(r.toString()),S=_.compare(o)>0;y+=(u=this._addMajorTickAndLabel(w,void 0,S,r,!0)).tick,b+=u.label}y+=(u=this.addMiddleMajorTicks(p,m,_,i,h,f)).tick,b+=u.label,y+=(u=this._addMajorTickAndLabel(l,s,!0,n)).tick,b+=u.label,"date"!==c.mode&&(y+=this.addMinorTicks(h)),c._measureLabelScale.removeChild(c._labelDummy),delete c._labelDummy,delete c._measureLabelScale,"smart-tank"===c.nodeName.toLowerCase()&&c._updateScaleWidth(this._longestLabelSize),c._appendTicksAndLabelsToScales(y,b),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}},{key:"addMiddleMajorTicks",value:function(e,t,r,i,n,a){for(var o,l=this.context,s="",u="",c=1;c<e;c++){var d=void 0,h=r.add(c*t);if(n?d=a.multiply(c).add(i.add(new Smart.Utilities.BigNumber(l._drawMin))):(d=new Smart.Utilities.BigNumber(l._drawMax).subtract(i).subtract(a.multiply(c)),c===e-1&&0===d.compare(0)&&(l._numberRenderer.numericValue=l._tickIntervalHandler.nearestPowerOfTen,o=l._numberRenderer.bigNumberToExponent(1))),0!==d.compare(l._drawMax)){var f=l._formatLabel(d.toString()),p=!0;l._labelDummy.innerHTML=o||f;var m=l._labelDummy[l._settings.size];h.add(m).compare(e*t)>=0&&(p=!1);var v=this._addMajorTickAndLabel(f,void 0,p,d,!0);s+=v.tick,u+=v.label}}return{tick:s,label:u}}},{key:"addMinorTicks",value:function(e){function t(e){-1===o.indexOf(e)&&e%s==0&&(c+='<div style="'+u+": "+a._numericProcessor.valueToPx(e)+'px;" class="smart-tick smart-tick-minor"></div>')}var r,i,n,a=this.context,o=a._tickValues,l=a._tickIntervalHandler.nearestPowerOfTen,s=a._minorTicksInterval,u=a._settings.leftOrTop,c="";if(e?(r=o[0],i=o[1],n=o[o.length-1]):(r=o[o.length-1],i=o[o.length-2],n=o[0]),a.logarithmicScale)!function(){var e=a._measurements.trackLength/o.length,t=.1;e<20?t=1:e>=20&&e<40?t=i-r>1?1:.5:e>=40&&e<80&&(t=.2);for(var n=Math.floor(a._drawMax),l=a._drawMax-n,s=a._drawMax-a._drawMin>o.length,d=a._drawMax;d>0;d-=1)for(var h=l>0?Math.pow(10,d-l+1):Math.pow(10,d),f=h*t,p=h;p>0;p-=f)if(p<a.max&&p>a.min){var m=new Smart.Utilities.BigNumber(Math.log10(p));(m%1==0&&s||!s)&&(c+='<div style="'+u+": "+a._numericProcessor.valueToPx(m)+'px;" class="smart-tick smart-tick-minor"></div>')}}();else{for(var d=i;r.compare(d)<0;d=d.subtract(l))t(d);for(var h=i.add(l);n.compare(h)>0;h=h.add(l))t(h)}return c}},{key:"validateCustomTicks",value:function(){for(var e=this.context,t="date"!==e.mode,r=[],i=0;i<e.customTicks.length;i++){var n=e.customTicks[i];t?n=this.createDescriptor(n,!1,!0):void 0===n._d&&(n=Smart.Utilities.DateTime.validateDate(n).getTimeStamp()),n.compare(e._minObject)>=0&&n.compare(e._maxObject)<=0&&r.push(n)}if(r.sort((function(e,t){return e.compare(t)})),t){for(var a=0;a<r.length;a++)r[a]=r[a].toString();r=r.filter((function(e,t,r){return!t||e!==r[t-1]}))}e.customTicks=r.slice(0)}},{key:"addGaugeTicksAndLabels",value:function(){var e=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var t,r,i,n,a,o,l=this.context,s=this,u=Math.max(l._tickIntervalHandler.labelsSize.minLabelSize,l._tickIntervalHandler.labelsSize.maxLabelSize),c=l._majorTicksInterval,d=l._minorTicksInterval,h={},f=l._distance,p=l._measurements.radius,m=p-f.majorTickDistance,v=p-f.minorTickDistance,g=new Smart.Utilities.BigNumber(l._drawMin),y=new Smart.Utilities.BigNumber(l._drawMax);"none"!==l.ticksVisibility&&!1!==l._plotTicks?(t=function(e){l._drawTick(e,m,"major")},r=function(e){l._drawTick(s.getAngleByValue(e,!0),v,"minor")}):(t=function(){},r=function(){}),i="none"!==l.labelsVisibility&&!1!==l._plotLabels?function(e,t,r){l._drawLabel(e,t,f.labelDistance,r)}:function(){},void 0===l.inverted||!l.inverted&&!l.rightToLeft||l.rightToLeft&&l.inverted?(a=l.endAngle,o=l.startAngle):(a=l.startAngle,o=l.endAngle),t(n=s.getAngleByValue(g,!1)),h[l._drawMin.toString()]=!0,i(n,l.min,!1);var b,_,w=g.subtract(g.mod(c));-1!==g.compare(0)&&(w=w.add(c));for(var S=new Smart.Utilities.BigNumber(w);-1!==S.compare(g);S=S.subtract(d))b=S;for(t(n=s.getAngleByValue(w,!1)),h[w.toString()]=!0,2*Math.PI*l._measurements.innerRadius*(this._getAngleDifference(a,s.getAngleByValue(w,!1,!0))/360)>u&&i(n,this.getActualValue(w),-1===w.compare(y)),_=w.add(c);-1===_.compare(y.subtract(c));_=_.add(c))t(n=s.getAngleByValue(_,!1)),h[_.toString()]=!0,i(n,this.getActualValue(_),!0);if(void 0===h[_.toString()]&&1!==_.compare(y)&&(t(n=s.getAngleByValue(_,!1)),h[_.toString()]=!0,2*Math.PI*l._measurements.innerRadius*(this._getAngleDifference(o,s.getAngleByValue(_,!1,!0))/360)>=u&&i(n,this.getActualValue(_),!0),l._normalizedStartAngle!==l.endAngle&&(t(n=s.getAngleByValue(y,!1)),2*Math.PI*l._measurements.innerRadius*(this._getAngleDifference(o,a)/360)>=u&&i(n,l.max,!1))),"date"!==l.mode){if(l.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(h,c,r);else for(var k=b;-1===k.compare(y);k=k.add(d))h[k.toString()]||r(k);Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}else Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=e}},{key:"updateToolTipAndValue",value:function(e,t,r){var i=this.context,n=i.logarithmicScale;i._updateTooltipValue(e.toString()),n&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));var a=(e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e)).toString();i._number=e,i._drawValue=n?Math.log10(a):e,0!==e.compare(t)&&r&&("numeric"===i.mode?(i.value=a,e=a):(t=i._valueDate,i._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(a),i.value=e,e=i._valueDate),i._programmaticValueIsSet||i.$.fireEvent("change",{value:e,oldValue:t}),i.$.hiddenInput&&(i.$.hiddenInput.value=e),i._setAriaValue("valuenow"))}},{key:"validateInterval",value:function(e){var t=this.context,r=t._maxObject.subtract(t._minObject);t._validInterval=new Smart.Utilities.BigNumber(e),t._validInterval=this.round(t._validInterval),t._validInterval.compare(0)<=0&&(t._validInterval=new Smart.Utilities.BigNumber(1)),1===t._validInterval.compare(r)&&(t._validInterval=r),t.interval=t._validInterval.toString()}},{key:"getCoercedValue",value:function(e,t,r){var i=this.context;if(!i.coerce)return e;var n,a,o=!i.logarithmicScale;if(e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e),i.customInterval){var l,s,u=i.customTicks;if(0===u.length)return e;if(o||r){l=(n=i._minObject).subtract(e).abs(),s=n;for(var c=0;c<u.length;c++){var d=this.createDescriptor(u[c]),h=d.subtract(e).abs();-1===h.compare(l)&&(l=h,s=d)}}else{n=i._drawMin,l=Math.abs(n-parseFloat(e.toString())),s=n;for(var f=0;f<u.length;f++){var p=Math.log10(u[f]),m=Math.abs(p-e);m<l&&(l=m,s=p)}s=new Smart.Utilities.BigNumber(s)}return s}var v=i._validInterval;if("date"===i.mode){if("addYears"===i._dateIncrementMethod)return this.coerceYear(e);if("addMonths"===i._dateIncrementMethod)return this.coerceMonth(e);v=new Smart.Utilities.BigNumber(i._dateIntervalNumber).multiply(v)}!1!==t?(n=new Smart.Utilities.BigNumber(i._drawMin),a=new Smart.Utilities.BigNumber(i._drawMax)):(n=new Smart.Utilities.BigNumber(i.min),a=new Smart.Utilities.BigNumber(i.max));var g=e.subtract(n),y=g.mod(v);if(0===y.compare(0))return e;var b=g.subtract(y),_=b.add(v);if(g.subtract(b).abs().compare(g.subtract(_).abs())<0)return b.add(n);var w=_.add(n);return w.compare(a)<=0?w:b.add(n)}},{key:"coerceMonth",value:function(e){var t=this.context,r=parseFloat(t._validInterval),i=Smart.Utilities.DateTime.fromFullTimeStamp(e),n=i.year(),a=i.month(),o=i.day(),l=t._minDate.year(),s=t._minDate.month(),u=12*(t._maxDate.year()-l-1)+12-s+t._maxDate.month(),c=12*(n-1-l)+(12-s)+a;1===r&&(-1!==[1,3,5,7,8,10,12].indexOf(a)?(o>16||16===o&&i.hour()>11)&&c++:2===a?i.isLeapYear(n)?(o>15||15===o&&i.hour()>11)&&c++:o>14&&c++:o>15&&c++),c=this.getCoercedTimePart(0,u,c,r);var d=t._minDate.addMonths(c,!0);return 1===d.compare(t._maxDate)&&(d=t._minDate.addMonths(c-r,!0)),t._drawValue=new Smart.Utilities.BigNumber(d.getTimeStamp()),t._drawValue}},{key:"coerceYear",value:function(e){var t=this.context,r=parseFloat(t._validInterval),i=Smart.Utilities.DateTime.fromFullTimeStamp(e),n=t._maxDate.year(),a=Smart.Utilities.DateTime.getConstructorParameters(t._minDate),o=i.year();i.month()>6&&o++;var l=this.getCoercedTimePart(t._minDate.year(),n,o,r);l>n&&(l-=r),a[0]=l,a.unshift(null);var s=new(Function.prototype.bind.apply(Smart.Utilities.DateTime,a));return t._drawValue=new Smart.Utilities.BigNumber(s.getTimeStamp()),t._drawValue}},{key:"getCoercedTimePart",value:function(e,t,r,i){var n=r-e,a=n%i;if(0===a)return r;var o=parseFloat((n-a).toFixed(12)),l=o+i;if(t-e<=i)return r>=e+(t-e)/2?t:e;if(Math.abs(n-o)<Math.abs(n-l))return o+e;var s=l+e;return s>t?o+e:s}},{key:"updateValue",value:function(e){var t=this.context;e=e instanceof Smart.Utilities.BigNumber?e:new Smart.Utilities.BigNumber(e);var r,i,n=this.validate(e,t._minObject,t._maxObject),a=t.value;t._number=n,t._drawValue=t.logarithmicScale?Math.log10(n):n,"numeric"===t.mode?(r=e.toString(),t.value=r,i=this.compare(e,a)):(a=Smart.Utilities.DateTime.fromFullTimeStamp(a),t._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(e),t.value=e,r=e=t._valueDate,i=0!==e.compare(a)),t._programmaticValueIsSet||!i&&!t._scaleTypeChangedFlag||t.$.fireEvent("change",{value:r,oldValue:a}),t.$.hiddenInput&&(t.$.hiddenInput.value=e),t._setAriaValue("valuenow"),t._moveThumbBasedOnValue(t._drawValue)}},{key:"getValuePerPx",value:function(e,t){var r=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var i=new Smart.Utilities.BigNumber(e).divide(t);return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=r,i}},{key:"restrictValue",value:function(e){e[1].constructor===Smart.Utilities.BigNumber?-1===e[1].compare(e[0])&&e[1].set(e[0]):e[1]<e[0]&&(e[1]=e[0])}},{key:"getAngleByValue",value:function(e,t,i){var a=this.context,l=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;if(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,a._wordLengthNumber<64)return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=l,r(o(n.prototype),"getAngleByValue",this).call(this,parseFloat(e.toString()),t,i);e instanceof Smart.Utilities.BigNumber==0&&(e=new Smart.Utilities.BigNumber(e)),!1!==t&&a.logarithmicScale&&(e=new Smart.Utilities.BigNumber(Math.log10(e.toString())));var s,u=e.subtract(a._drawMin).multiply(a._angleRangeCoefficient);return s=void 0===a.inverted||!a.inverted&&!a.rightToLeft||a.rightToLeft&&a.inverted?u.multiply(-1).add(a.endAngle):u.add(a.startAngle),s=parseFloat(s.toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=l,i?s:s*Math.PI/180+Math.PI/2}},{key:"getValueByAngle",value:function(e){var t=this.context;if(t._wordLengthNumber<64)return r(o(n.prototype),"getValueByAngle",this).call(this,e,!0);var i,a,l,s,u=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;for(Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,void 0===t.inverted||!t.inverted&&!t.rightToLeft||t.rightToLeft&&t.inverted?(i=t.endAngle,a=e):(i=e,a=t._normalizedStartAngle);i<a;)i+=360;return l=new Smart.Utilities.BigNumber((i-a)/t._angleDifference).multiply(t._range).add(t._drawMin),t.logarithmicScale&&(l=new Smart.Utilities.BigNumber(Math.pow(10,l.toString()))),s=t.coerce?this.getCoercedValue(l,!1):this.round(l),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=u,new Smart.Utilities.BigNumber(s)}},{key:"updateGaugeValue",value:function(e){if(e instanceof Smart.Utilities.BigNumber==0)return r(o(n.prototype),"updateGaugeValue",this).call(this,e);var t=this.context,i=t._getEventValue();"numeric"===t.mode?(t.value=e.toString(),t.$.digitalDisplay.value=t.value):(t._valueDate=Smart.Utilities.DateTime.fromFullTimeStamp(e),t.value=e),t._drawValue=t.logarithmicScale?Math.log10(t.value).toString():t.value,t._number=e,t.$.fireEvent("change",{value:t._getEventValue(),oldValue:i}),t._setAriaValue("valuenow")}},{key:"validateColorRange",value:function(e){var t=this.context;if(t._wordLengthNumber<64)return r(o(n.prototype),"validateColorRange",this).call(this,e);e="numeric"===t.mode?new Smart.Utilities.BigNumber(e):(e=Smart.Utilities.DateTime.validateDate(e)).getTimeStamp();var i=new Smart.Utilities.BigNumber(t.min),a=new Smart.Utilities.BigNumber(t.max);return-1===e.compare(i)&&(e=i),1===e.compare(a)&&(e=a),e}},{key:"lockRotation",value:function(e,t){var r=this.context;if(t instanceof Smart.Utilities.BigNumber==0&&(t=new Smart.Utilities.BigNumber(t)),e&&-1===t.compare(r._number)){if(r._lockCW=!0,-1===t.compare(r._maxObject))return new Smart.Utilities.BigNumber(r._maxObject)}else if(!e&&1===t.compare(r._number)&&(r._lockCCW=!0,1===t.compare(r._minObject)))return new Smart.Utilities.BigNumber(r._minObject)}},{key:"getAngleRangeCoefficient",value:function(){var e=this.context,t=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,e._angleRangeCoefficient=new Smart.Utilities.BigNumber(e._angleDifference).divide(e._range),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=t}}]),n}()),Smart.Utilities.Assign("DecimalNumericProcessor",function(e){l(r,Smart.Utilities.BaseNumericProcessor);var t=i(r);function r(e,i){var n;return d(this,r),(n=t.call(this,e,i)).context=e,n}return c(r,[{key:"getPreciseModulo",value:function(e,t,r){var i=e>=0?1:-1;if(e=Math.abs(e),t=Math.abs(t),void 0===r){var n=e.toExponential(),a=t.toExponential(),o=parseInt(n.slice(n.indexOf("e")+1),10),l=parseInt(a.slice(a.indexOf("e")+1),10),s=o<0?Math.abs(o):0,u=l<0?Math.abs(l):0,c=Math.max(s,u);if(this.roundCoefficient=c,e<t)return i*e;if(e===t)return 0;if((e<-1||e>1)&&(t<-1||t>1||1===t)){if(e%1==0&&t%1==0)return i*(e%t);var d=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0;var h=i*parseFloat(new Smart.Utilities.BigNumber(e).mod(t).toString());return Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=d,h}var f=Math.pow(10,c);return i*(e*f%(t*f)/f)}return i*(Math.round(e*r)%Math.round(t*r))}},{key:"createDescriptor",value:function(e,t,r,i){var n=parseFloat(e);return i&&(n=this.validate(n,this.context._minObject,this.context._maxObject)),n}},{key:"round",value:function(e){return Math.round(e)}},{key:"validate",value:function(e,t,r){return e<t?t:e>r?r:e}},{key:"validateMinMax",value:function(e,t){var r=this.context,i=void 0!==r._regexSpecial&&r._regexSpecial.inf.test(r.min),n=void 0!==r._regexSpecial&&r._regexSpecial.inf.test(r.max);e&&(null===r.min||i?(r.min=-1/0,r._minObject=-1/0):(r.min=r.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(r.min)&&(r.min=this.scientificToDecimal(r.min)),r._minObject=r._discardDecimalSeparator(r.min))),t&&(null===r.max||n?(r.max=1/0,r._maxObject=1/0):(r.max=r.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(r.max)&&(r.max=this.scientificToDecimal(r.max)),r._maxObject=r._discardDecimalSeparator(r.max))),this.compare(r._minObject,r._maxObject)||(r._maxObject=parseFloat(r._maxObject)+1,r.max=r._maxObject)}},{key:"valueToPx",value:function(e){var t,r=this.context,i=r._measurements.trackLength/r._range;return t=r._normalLayout?i*(e-r._drawMin):i*(r._drawMax-e),Math.round(t)}},{key:"pxToValue",value:function(e){var t,r=this.context;if(t=r._normalLayout?(e-r._trackStart)*r._valuePerPx:(r._trackEnd-e)*r._valuePerPx,r.logarithmicScale){var i=t+parseFloat(r._drawMin);return Math.pow(10,i)}return this.validate(t+r._minObject,r._minObject,r._maxObject)}},{key:"compare",value:function(e,t,r){return e=parseFloat(e),t=parseFloat(t),!0!==r?e!==t:e<t?-1:e>t?1:0}},{key:"incrementDecrement",value:function(e,t,r){var i,n=this.context;if("add"===t){if(i=parseFloat(e)+parseFloat(r),void 0!==n._drawMax)return i>parseFloat(n._drawMax)?n._drawMax:i}else if(i=parseFloat(e)-parseFloat(r),void 0!==n._drawMin)return i<parseFloat(n._drawMin)?n._drawMin:i;return i}},{key:"render",value:function(e){var t=this.context;if(void 0!==t._regexSpecial&&t._regexSpecial.nonNumericValue.test(e))return e;var r=new Smart.Utilities.NumberRenderer(e);return t.scientificNotation?r.toScientific(t.significantDigits,t.precisionDigits):r.toDigits(t.significantDigits,t.precisionDigits)}},{key:"addTicksAndLabels",value:function(){var e,t,r,i,n,a,o,l,s,u=this.context,c=u._measurements.trackLength,d=u._normalLayout,h=u._majorTicksInterval,f=Math.round(u._range/parseFloat(h.toString())),p=c/f,m=parseFloat(u._drawMin),v=parseFloat(u._drawMax),g="",y="";u._tickValues=[],this._longestLabelSize=0,d?(e=m,r=(t=u.logarithmicScale&&m<0&&-1!==m?parseFloat(e-this.getPreciseModulo(e,h)):parseFloat(e-this.getPreciseModulo(e,h)+parseFloat(h)))-e,n=u._formatLabel(m),a=u._tickIntervalHandler.labelsSize.minLabelSize,i=v,o=u._formatLabel(v),l=u._tickIntervalHandler.labelsSize.maxLabelSize):(r=(e=v)-(t=parseFloat(e-this.getPreciseModulo(e,h))),n=u._formatLabel(v),a=u._tickIntervalHandler.labelsSize.maxLabelSize,i=m,o=u._formatLabel(m),l=u._tickIntervalHandler.labelsSize.minLabelSize),u._labelDummy=this._createMeasureLabel(),g+=(s=this._addMajorTickAndLabel(n,a,!0,e)).tick,y+=s.label;var b=r/h*p;if(t.toString()!==u._drawMax.toString()&&b<c){var _=u._formatLabel(t.toString()),w=a<b;g+=(s=this._addMajorTickAndLabel(_,void 0,w,t,!0)).tick,y+=s.label}g+=(s=this.addMiddleMajorTicks(f,p,b,r,d,h)).tick,y+=s.label,g+=(s=this._addMajorTickAndLabel(o,l,!0,i)).tick,y+=s.label,g+=this.addMinorTicks(d),u._measureLabelScale.removeChild(u._labelDummy),delete u._labelDummy,delete u._measureLabelScale,"smart-tank"===u.nodeName.toLowerCase()&&u._updateScaleWidth(this._longestLabelSize),u._appendTicksAndLabelsToScales(g,y)}},{key:"addMiddleMajorTicks",value:function(e,t,r,i,n,a){for(var o=this.context,l="",s="",u=1;u<e;u++){var c=void 0,d=u*t+r;if((c=n?parseFloat(o._drawMin)+a*u+i:parseFloat(o._drawMax)-a*u-i).toString()!==o._drawMax.toString()){var h=o._formatLabel(c.toString()),f=!0;o._labelDummy.innerHTML=h,d+o._labelDummy[o._settings.size]>=e*t&&(f=!1);var p=this._addMajorTickAndLabel(h,void 0,f,c,!0);l+=p.tick,s+=p.label}}return{tick:l,label:s}}},{key:"addMinorTicks",value:function(e){function t(e){return parseFloat(e.toFixed(c))}function r(e){-1===l.indexOf(e)&&0===o._numericProcessor.getPreciseModulo(e,u,d)&&(f+='<div style="'+h+": "+o._numericProcessor.valueToPx(e)+'px;" class="smart-tick smart-tick-minor"></div>')}var i,n,a,o=this.context,l=o._tickValues,s=o._tickIntervalHandler.nearestPowerOfTen,u=o._minorTicksInterval,c=Math.log10(s)<0?Math.round(Math.abs(Math.log10(s))):0,d=Math.pow(10,c),h=o._settings.leftOrTop,f="";if(e?(i=l[0],n=l[1],a=l[l.length-1]):(i=l[l.length-1],n=l[l.length-2],a=l[0]),o.logarithmicScale)!function(){var e=o._measurements.trackLength/l.length,t=.1;e<20?t=1:e>=20&&e<40?t=n-i>1?1:.5:e>=40&&e<80&&(t=.2);for(var r=Math.floor(o._drawMax),a=o._drawMax-r,s=o._drawMax-o._drawMin>l.length,u=o._drawMax;u>o._drawMin-1;u-=1)for(var c=a>0?Math.pow(10,u-a+1):Math.pow(10,u),d=c*t,p=c;p>0;p-=d)if(p<o.max&&p>o.min){var m=new Smart.Utilities.BigNumber(Math.log10(p));(m%1==0&&s||!s)&&(f+='<div style="'+h+": "+o._numericProcessor.valueToPx(m)+'px;" class="smart-tick smart-tick-minor"></div>')}}();else{for(var p=n;p>i;p=t(p-s))r(p);for(var m=t(n+s);m<a;m=t(m+s))r(m)}return f}},{key:"validateCustomTicks",value:function(){for(var e=this.context,t=[],r=0;r<e.customTicks.length;r++){var i=e.customTicks[r],n=this.createDescriptor(i);n>=e._minObject&&n<=e._maxObject&&t.push(n.toString())}t.sort((function(e,t){return e-t})),t=t.filter((function(e,t,r){return!t||e!==r[t-1]})),e.customTicks=t.slice(0)}},{key:"addGaugeTicksAndLabels",value:function(){var e,t,r,i,n,a,o=this.context,l=this,s=Math.max(o._tickIntervalHandler.labelsSize.minLabelSize,o._tickIntervalHandler.labelsSize.maxLabelSize),u=o._majorTicksInterval,c=o._minorTicksInterval,d={},h=o._distance,f=o._measurements.radius,p=f-h.majorTickDistance,m=f-h.minorTickDistance;"none"!==o.ticksVisibility&&!1!==o._plotTicks?(e=function(e){o._drawTick(e,p,"major")},t=function(e){o._drawTick(l.getAngleByValue(e,!0),m,"minor")}):(e=function(){},t=function(){}),r="none"!==o.labelsVisibility&&!1!==o._plotLabels?function(e,t,r){o._drawLabel(e,t,h.labelDistance,r)}:function(){},void 0===o.inverted||!o.inverted&&!o.rightToLeft||o.rightToLeft&&o.inverted?(n=o.endAngle,a=o.startAngle):(n=o.startAngle,a=o.endAngle),e(i=l.getAngleByValue(o._drawMin,!1)),d[o._drawMin]=!0,r(i,o.min,!1);var v,g,y=o._drawMin-l.getPreciseModulo(o._drawMin,u);o._drawMin>=0&&(y+=u);for(var b=y;b>=o._drawMin;b-=c)v=b;for(e(i=l.getAngleByValue(y,!1)),d[y]=!0,2*Math.PI*o._measurements.innerRadius*(this._getAngleDifference(n,l.getAngleByValue(y,!1,!0))/360)>s&&r(i,this.getActualValue(y),y<o._drawMax),g=y+u;g<o._drawMax-u;g+=u)e(i=l.getAngleByValue(g,!1)),d[g]=!0,r(i,this.getActualValue(g),!0);if(void 0===d[g]&&g<=o._drawMax&&(e(i=l.getAngleByValue(g,!1)),d[g]=!0,2*Math.PI*o._measurements.innerRadius*(this._getAngleDifference(a,l.getAngleByValue(g,!1,!0))/360)>=s&&r(i,this.getActualValue(g),!0),o._normalizedStartAngle!==o.endAngle&&(e(i=l.getAngleByValue(o._drawMax,!1)),d[o._drawMax]=!0,2*Math.PI*o._measurements.innerRadius*(this._getAngleDifference(a,n)/360)>=s&&r(i,o.max,!1))),o.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(d,u,t);else for(var _=v;_<o._drawMax;_+=c)d[_]||t(_)}},{key:"updateToolTipAndValue",value:function(e,t,r){var i=this.context,n=i.logarithmicScale;i._updateTooltipValue(e),n&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)));var a=e.toString();i._number=e,i._drawValue=n?Math.log10(a):e,a!==t&&r&&(i.value=i._discardDecimalSeparator(a),i._programmaticValueIsSet||i.$.fireEvent("change",{value:i.value,oldValue:t}),i.$.hiddenInput&&(i.$.hiddenInput.value=i.value),i._setAriaValue("valuenow"))}},{key:"validateInterval",value:function(e){var t=this.context,r=t._maxObject-t._minObject;e<=0&&(e=1),t._validInterval=Math.min(parseFloat(e),r),t.interval=t._validInterval}},{key:"getCoercedValue",value:function(e,t,r){var i=this.context;if(!i.coerce)return e;var n,a,o=!i.logarithmicScale;if(i.customInterval){var l=i.customTicks;if(0===l.length)return e;o=o||r,n=!1!==t?parseFloat(i._drawMin):i._minObject;for(var s=Math.abs(n-e),u=n,c=0;c<l.length;c++){var d=this.createDescriptor(l[c]),h=o?d:Math.log10(d),f=Math.abs(h-e);f<s&&(s=f,u=h)}return u}!1!==t?(n=parseFloat(i._drawMin),a=parseFloat(i._drawMax)):(n=parseFloat(i.min),a=parseFloat(i.max));var p=e-n,m=this.getPreciseModulo(p,parseFloat(i.interval)),v=this.roundCoefficient;if(0===m)return e;0===this.roundCoefficient&&(v=12);var g=parseFloat((p-m).toFixed(v)),y=g+parseFloat(i.interval);if(i.max-i.min<=parseFloat(i.interval)&&o){return e>=n+(a-n)/2?a:n}if(Math.abs(p-g)<Math.abs(p-y))return g+n;var b=y+n;return b>a?g+n:b}},{key:"updateValue",value:function(e){var t=this.context,r=this.validate(e,t._minObject,t._maxObject),i=t.value;e.toString()!==i.toString()||t._scaleTypeChangedFlag?(t.value=e.toString(),t._number=r,t._programmaticValueIsSet||t.$.fireEvent("change",{value:t.value,oldValue:i})):t.value="string"==typeof e?e:e.toString(),t._drawValue=t.logarithmicScale?Math.log10(r).toString():r.toString(),t._moveThumbBasedOnValue(t._drawValue),t.$.hiddenInput&&(t.$.hiddenInput.value=t.value),t._setAriaValue("valuenow")}},{key:"getValuePerPx",value:function(e,t){return parseFloat(e)/t}},{key:"restrictValue",value:function(e){e[1]<e[0]&&(e[1]=e[0])}},{key:"lockRotation",value:function(e,t){var r=this.context;if(e&&t<r._number){if(r._lockCW=!0,t<r._maxObject)return r._maxObject}else if(!e&&t>r._number&&(r._lockCCW=!0,t>r._minObject))return r._minObject}},{key:"getAngleRangeCoefficient",value:function(){var e=this.context;e._angleRangeCoefficient=e._angleDifference/e._range}}]),r}()),Smart.Utilities.Assign("ComplexNumericProcessor",function(e){l(r,Smart.Utilities.BaseNumericProcessor);var t=i(r);function r(e,i){var n;return d(this,r),(n=t.call(this,e,i)).context=e,n}return c(r,[{key:"createDescriptor",value:function(e,t,r,i,n,a){var o;return o=a||(e.constructor===this.complexConstructor?new this.complexConstructor(e.realPart,e.imaginaryPart):new this.complexConstructor(e)),i&&(o=this.validate(o,this.context._minObject,this.context._maxObject)),o}},{key:"validate",value:function(e,t,r){var i=e;return t!==-1/0?-1===this.compareComplexNumbers(e,t)&&(i=new this.complexConstructor(t.realPart,t.imaginaryPart)):r!==1/0&&1===this.compareComplexNumbers(e,r)&&(i=new this.complexConstructor(r.realPart,r.imaginaryPart)),i}},{key:"compare",value:function(e,t,r){return!0!==r?0!==this.compareComplexNumbers(e,t):this.compareComplexNumbers(e,t)}},{key:"validateMinMax",value:function(e,t){var r=this.context;e&&(null===r.min||r._regexSpecial.inf.test(r.min)?(r.min=-1/0,r._minObject=-1/0):r._minObject=new this.complexConstructor(r.min)),t&&(null===r.max||r._regexSpecial.inf.test(r.max)?(r.max=1/0,r._maxObject=1/0):r._maxObject=new this.complexConstructor(r.max))}},{key:"incrementDecrement",value:function(e,t){var r=new this.complexConstructor(e.realPart,e.imaginaryPart),i=this.context._spinButtonsStepObject;return"add"===t?(r.realPart+=i.realPart,r.imaginaryPart+=i.imaginaryPart):(r.realPart-=i.realPart,r.imaginaryPart-=i.imaginaryPart),r}},{key:"render",value:function(e){var t=e;if(!1===this.context._regexSpecial.nonNumericValue.test(e)){var r,i=t.realPart,n=t.imaginaryPart,a=this.context.significantDigits,o=this.context.precisionDigits;n>=0?r="+":(r="-",n=Math.abs(n));var l=new Smart.Utilities.NumberRenderer(i),s=new Smart.Utilities.NumberRenderer(n);this.context.scientificNotation?(i=l.toScientific(a,o),n=s.toScientific(a,o)):(i=l.toDigits(a,o),n=s.toDigits(a,o)),t="".concat(i," ").concat(r," ").concat(n,"i")}return t}},{key:"compareComplexNumbers",value:function(e,t){if(e instanceof this.complexConstructor==0||t instanceof this.complexConstructor==0)return-1;var r=e.realPart,i=t.realPart;if(r<i)return-1;if(r>i)return 1;var n=e.imaginaryPart,a=t.imaginaryPart;return n<a?-1:n>a?1:0}}]),r}()),Smart.Utilities.Assign("NumberRenderer",function(){function e(t){d(this,e),this.numericValue=t,this.powersToPrefixes={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"u","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},this.localizationObject={currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",defaultPrecision:2}}return c(e,[{key:"isENotation",value:function(e){return new RegExp(/e/i).test(e)}},{key:"largeExponentialToDecimal",value:function(e){var t;void 0===e&&(e=this.numericValue,t=!0);var r=e.toString().toLowerCase(),i=r.indexOf("e"),n=new Smart.Utilities.BigNumber(r.slice(0,i)),a=r.slice(i+1,i+2);"+"!==a&&"-"!==a&&(r=r.slice(0,i)+"e+"+r.slice(i+1),a="+");var o=r.slice(i+2),l=new Smart.Utilities.BigNumber(10).pow(a+(t?Math.min(20,o):o));return n.multiply(l).toString()}},{key:"bigNumberToExponent",value:function(e,t){var r=this.numericValue;r.constructor!==Smart.Utilities.BigNumber&&(r=new Smart.Utilities.BigNumber(r));var i,n=r._f,a=r.toString();if(n<=10)return t?parseFloat(a).toExponential(null!==e?e-1:void 0):new Smart.Utilities.NumberRenderer(parseFloat(a)).toDigits(e);if(e>=n&&!t)return a;!1===r._s?i="":(i="-",a=a.slice(1)),parseFloat(a.slice(e,e+1))>=5&&(a=new Smart.Utilities.BigNumber(a.slice(0,e)).add(1).toString());var o=a.slice(1,e);if(t)e--,o.length>0&&e>o.length?o+="0".repeat(e-o.length):0===o.length&&(o="0".repeat(e));else for(;o.length>0&&"0"===o.charAt(o.length-1);)o=o.slice(0,o.length-1);var l=o.length>0?".":"",s=n-1;return i+a.slice(0,1)+l+o+"E+"+s}},{key:"toScientific",value:function(){var e,t=this;if(e=t.numericValue._d?t.bigNumberToExponent(null!==arguments[0]?arguments[0]:arguments[1]+1,!0).toLowerCase():t.numericValue<=-1||t.numericValue>=1?Number(t.toDigits(arguments[0],arguments[1])).toExponential():Number(t.numericValue).toExponential(),isNaN(e))return e;var r=e.indexOf("e"),i=parseInt(e.slice(r+1),10),n=parseFloat(e.slice(0,r)),a=new Smart.Utilities.NumberRenderer(n);if(i<0){var o=a.toDigits(arguments[0],arguments[1]);if("0"===(o=parseFloat(o).toExponential()).charAt(o.length-1)){for(var l=0;i%3!=0;)i--,l++;if(l){var s=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n=parseFloat(new Smart.Utilities.BigNumber(n).multiply(Math.pow(10,l)).toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=s}a.numericValue=n,n=a.toDigits(arguments[0],arguments[1]),a.numericValue=n/1e3;var u=a.toDigits(arguments[0],arguments[1]);return u>=1&&(n=u,i+=3),n+t.powersToPrefixes[i.toString()]}}var c=0;if((c=Math.abs(i)>24?i-i/Math.abs(i)*24:i%3)>0)for(var d=0;d<c;d++)n*=10;else if(c<0){var h=Smart.Utilities.BigNumber.ignoreBigIntNativeSupport;Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n=parseFloat(new Smart.Utilities.BigNumber(n).multiply(Math.pow(10,c)).toString()),Smart.Utilities.BigNumber.ignoreBigIntNativeSupport=h}if(i>0){var f=n>=0?0:1,p=e.slice(f,r).length-c-2;p>=0&&(n=n.toFixed(p))}var m=Number(n).toExponential();m=parseFloat(m.charAt(m.length-1)),a.numericValue=n,n=a.toDigits(arguments[0],arguments[1]);var v=Number(n).toExponential(),g=0;(v=parseFloat(v.charAt(v.length-1)))!==m&&v%3==0&&(n=parseFloat(n)/Math.pow(10,v),a.numericValue=n,n=a.toDigits(arguments[0],arguments[1]),g=v);var y=i-c+g;return n+t.powersToPrefixes[y.toString()]}},{key:"bigNumberToScientific",value:function(){var e,t,r=this.numericValue._f-1,i=parseInt(r,10)%3,n=parseInt(r,10)-i,a=this.numericValue.toString();if("-"===a.charAt(0)?(e="-",a=a.slice(1)):e="",null!==arguments[0])for(t=a.slice(0,arguments[0]),parseFloat(a.slice(arguments[0],arguments[0]+1))>=5&&(t=new Smart.Utilities.BigNumber(t).add(1).toString());t.length>1+i&&"0"===t.charAt(t.length-1);)t=t.slice(0,t.length-1);else null!==arguments[1]&&(t=a.slice(0,arguments[1]+1),parseFloat(a.slice(arguments[1]+1,arguments[1]+2))>=5&&(t=new Smart.Utilities.BigNumber(t).add(1).toString()),arguments[1]+i>t.length-1&&(t+="0".repeat(arguments[1]+i-t.length+1)));return t.length>1+i&&(t=t.slice(0,1+i)+"."+t.slice(1+i)),e+t+this.powersToPrefixes[n.toString()]}},{key:"toDigits",value:function(e,t){var r=this;return null!==e?r.applySignificantDigits(e):null!==t?r.applyPrecisionDigits(t):r.applySignificantDigits(8)}},{key:"applySignificantDigits",value:function(e){function t(e){for(;"0"===e.charAt(e.length-1);)e=e.slice(0,-1);return"."===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}e=Math.max(1,Math.min(e,21));var r=parseFloat(this.numericValue).toPrecision(e).toUpperCase();if(-1!==r.indexOf("."))if(this.isENotation(r)){var i=r.indexOf("."),n=r.indexOf("E"),a=r.slice(i,n);a=t(a),r=r.slice(0,i)+a+r.slice(n)}else r=t(r);return r}},{key:"applyPrecisionDigits",value:function(e){var t=this;e=Math.max(0,Math.min(e,20));var r=parseFloat(t.numericValue).toFixed(e);return t.isENotation(r)&&(r=t.largeExponentialToDecimal(r)+"."+"0".repeat(e)),r}},{key:"getLogarithm",value:function(e){var t,r=this.numericValue;if(void 0===e&&(e=10),10===e)try{t=Math.log10(r)}catch(e){t=Math.log(r)/Math.log(10)}else t=Math.log(r)/Math.log(e);return t}},{key:"applySeparators",value:function(e,t){var r=this,i=(e=e.toString()).indexOf(".");if(-1!==i){var n=e.slice(0,i),a=e.slice(i+1);return r.applyThousandsSeparator(n,t)+r.localizationObject.decimalseparator+a}return r.applyThousandsSeparator(e,t)}},{key:"applyThousandsSeparator",value:function(e,t){if(t)return e;var r="";"-"===(e=e.toString()).charAt(0)&&(r="-",e=e.slice(1));for(var i=e.split("").reverse(),n=2;n<i.length-1;n+=3)i[n]=this.localizationObject.thousandsseparator+i[n];return i.reverse(),r+(i=i.join(""))}},{key:"formatNumber",value:function(e,t,r){var i=this;if(void 0===arguments[3]&&delete i._ignoreMinus,delete i._wordLengthNumber,!/^([a-zA-Z]\d*)$/g.test(t))try{return i.applyCustomFormat(e,t)}catch(t){return e.toString()}var n=t.slice(0,1),a=t.slice(1);if(""!==a&&(isNaN(parseFloat(a))||parseFloat(a)<0||parseFloat(a)>99?a="":parseFloat(a)%1!=0&&(a=Math.round(a))),e._d)i.inputFormat="integer";else{if(e.imaginaryPart)return i.formatComplexNumber(e,t,n,a);i.inputFormat="floatingPoint"}var o,l=new Smart.Utilities.NumericProcessor(i,"inputFormat"),s=l.createDescriptor(e);switch(i._wordLengthNumber=l.getWordLength(r||"int32"),"integer"===i.inputFormat&&(s=l.round(s)),i.numericValue=s,n){case"C":case"c":return""===a&&(a=i.localizationObject.defaultPrecision),a=parseFloat(a),o="floatingPoint"===i.inputFormat?i.applyPrecisionDigits(a):s.toString()+(a>0?"."+"0".repeat(a):""),o=i.applySeparators(o),"before"===i.localizationObject.currencysymbolposition?"-"===o.charAt(0)?"-"+i.localizationObject.currencysymbol+o.slice(1):i.localizationObject.currencysymbol+o:o+" "+i.localizationObject.currencysymbol;case"D":case"d":if(o=s,"floatingPoint"===i.inputFormat&&(o=Math.round(s)),o=o.toString(),""===a)return o;var u="";"-"===o.charAt(0)&&(u="-",o=o.slice(1));var c=a-o.length;return c>0&&(o="0".repeat(c)+o),u+o;case"E":case"e":case"U":case"u":""===a&&(a=6);var d=(o="floatingPoint"===i.inputFormat?s.toExponential(a):i.bigNumberToExponent(parseFloat(a)+1,!0).toLowerCase()).indexOf("e"),h=o.slice(d+2).length;return h<3&&(o=o.slice(0,d+2)+"0".repeat(3-h)+o.slice(d+2)),"u"===n.toLowerCase()?i.exponentialToSuperscript(i.applySeparators(o,!0)):("E"===n&&(o=o.toUpperCase()),i.applySeparators(o,!0));case"F":case"f":case"N":case"n":return""===a&&(a=i.localizationObject.defaultPrecision),a=parseFloat(a),o="floatingPoint"===i.inputFormat?i.applyPrecisionDigits(a):s.toString()+(a>0?"."+"0".repeat(a):""),i.applySeparators(o,"f"===n.toLowerCase());case"G":case"g":if(""===a||"0"===a)if("floatingPoint"===i.inputFormat)a=15;else switch(r){case"int8":case"uint8":a=3;break;case"int16":case"uint16":a=5;break;case"int64":a=19;break;case"uint64":a=20;break;default:a=10}a=parseFloat(a);var f=i.formatNumber(e,"E"+a,r),p=f.indexOf("E"),m=parseInt(f.slice(p+1),10);if(m>-5&&m<a)return"floatingPoint"===i.inputFormat?i.applySeparators(i.applySignificantDigits(a),!0):s.toString();if(m>-100&&m<100&&(f=f.slice(0,p+2)+f.slice(p+3)),-1!==f.indexOf(i.localizationObject.decimalseparator)){for(;"0"===f.charAt(p-1);)p=(f=f.slice(0,p-1)+f.slice(p)).indexOf("E");f.charAt(p-1)===i.localizationObject.decimalseparator&&(f=f.slice(0,p-1)+f.slice(p))}return"g"===n&&(f=f.toLowerCase()),f;case"P":case"p":return""===a&&(a=i.localizationObject.defaultPrecision),a=parseFloat(a),"floatingPoint"===i.inputFormat?(i.numericValue=100*s,o=i.applyPrecisionDigits(a)):o=s.multiply(100).toString()+(a>0?"."+"0".repeat(a):""),i.applySeparators(o)+" %";case"B":case"b":case"O":case"o":case"X":case"x":var v;switch("integer"!==i.inputFormat&&(i.inputFormat="integer",s=(l=new Smart.Utilities.NumericProcessor(i,"inputFormat")).round(l.createDescriptor(e))),n){case"B":case"b":v=2;break;case"O":case"o":v=8;break;default:v=16}if(o=s.toString(v,i._wordLengthNumber),""!==a){var g=parseFloat(a)-o.length;g>0&&(o="0".repeat(g)+o)}return"x"===n&&(o=o.toLowerCase()),o;case"S":case"s":return""===a&&(a=i.localizationObject.defaultPrecision),a=parseFloat(a),i.toScientific(null,a).replace(".",i.localizationObject.decimalseparator);default:return e.toString()}}},{key:"formatComplexNumber",value:function(e,t,r){var i=this;switch(r){case"E":case"e":case"U":case"u":case"F":case"f":case"G":case"g":case"N":case"n":case"S":case"s":return e.imaginaryPart>=0?i.formatNumber(e.realPart,t)+" + "+i.formatNumber(e.imaginaryPart,t)+"i":i.formatNumber(e.realPart,t)+" - "+i.formatNumber(Math.abs(e.imaginaryPart),t)+"i";default:return e.toString()}}},{key:"toString",value:function(e,t,r){return t?this.formatNumber(e,t,r):e.toString()}},{key:"applyCustomFormat",value:function(e,t){var r=this,i=(t=(t=t.replace(/_.|\[\w*\]|\*/g,"")).replace(/\?/g,"#")).split(";");if("string"==typeof e&&isNaN(e))return i[i.length-1].replace(/"/g,"").replace(/@/g,e.toString());if(e._d)r.inputFormat="integer";else{if(e.imaginaryPart)return e.toString();e=parseFloat(e),r.inputFormat="floatingPoint"}var n=new Smart.Utilities.NumericProcessor(r,"inputFormat"),a=n.createDescriptor(e);"integer"===r.inputFormat&&(a=n.round(a)),r.numericProcessor=n;var o=r.getRelevantFormatSection(i,a);if(void 0===o)return e.toString();if(-1!==o.indexOf("@"))return i[i.length-1].replace(/"/g,"").replace(/@/g,e.toString());var l=-1!==o.replace(/".*"/g,"").indexOf("%"),s=r.getTextParts(o);if(-1!==s.main.toLowerCase().indexOf("e"))return r.applyCustomExponentialFormat(a,s,n);if(-1!==s.main.indexOf("/"))return r.applyCustomFractionalFormat(a,s,n);if(l&&("integer"===r.inputFormat?a=a.multiply(100):a*=100),""===s.main){if(!l)return s.suffix;var u=a.toString();return r._ignoreMinus&&"-"===u.charAt(0)&&(u=u.slice(1)),u+s.suffix}var c=s.main.replace(/[^0#,. \/]/g,""),d=c.indexOf(".");for(-1!==d&&("."===(c=c.substring(0,d+1)+c.substring(d+1).replace(/\./g,"")).charAt(c.length-1)&&(c=c.slice(0,c.length-1)),0===d&&(c="#"+c));","===c.charAt(c.length-1);)c=c.slice(0,c.length-1),"floatingPoint"===r.inputFormat?a/=1e3:a=a.multiply(.001);"integer"===r.inputFormat&&(a=n.round(a));var h=-1!==c.indexOf(","),f=(c=c.replace(/,/g,"")).split("."),p=f[0],m=f[1],v="";if(1===f.length)return"floatingPoint"===r.inputFormat&&(a=n.round(a)),v=a.toString(),r.setTextParts(r.formatWholeNumber(v,p,h),s);var g=(v=a.toString()).split("."),y=r.formatWholeNumber(g[0],p,h),b=g[1]||"";if(m.length<=b.length&&(g=(v=parseFloat(a.toFixed(m.length)).toString()).split("."),y=r.formatWholeNumber(g[0],p,h),b=g[1]||""))return r.setTextParts(y+r.localizationObject.decimalseparator+b.slice(0,m.length),s);var _=(m=m.slice(b.length-m.length)).lastIndexOf("0");return-1===_?""===b?r.setTextParts(y,s):r.setTextParts(y+r.localizationObject.decimalseparator+b,s):r.setTextParts(y+r.localizationObject.decimalseparator+b+"0".repeat(_+1),s)}},{key:"getRelevantFormatSection",value:function(e,t){var r,i,n=this,a=n.numericProcessor.compare(t,0,!0);return 1===a?e[0]:(e.length>=3?(n._ignoreMinus=!0,r=1,i=2):2===e.length?(n._ignoreMinus=!0,i=0,r=1):1===e.length&&(i=0,r=0),0===a?e[i]:-1===a?e[r]:void 0)}},{key:"getTextParts",value:function(e){var t=e.replace(/"[^"]*"/g,""),r=e.match(/"[^"]*"/g),i=t.search(/0|#|\./g),n=Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"),t.lastIndexOf("."),t.lastIndexOf(",")),a=t.slice(i,n+1);if(""===a)return{prefix:"",main:"",suffix:e.replace(/"/g,"")};var o=e.indexOf(a),l=o+a.length;if(r)for(var s=0;s<r.length;s++){var u=e.indexOf(r[s]);o>=u&&l<=u+r[s].length&&(l=(o=e.indexOf(a,u+r[s].length))+a.length)}return{prefix:e.slice(0,o).replace(/"/g,""),main:a,suffix:e.slice(l).replace(/"/g,"")}}},{key:"applyCustomExponentialFormat",value:function(e,t,r){var i,n=this,a=t.main,o=-1!==a.indexOf(","),l=(a=a.replace(/[^0#.eE+-]/g,"")).toLowerCase().indexOf("e"),s=(a=a.substring(0,l+1)+a.substring(l+1).replace(/[eE\.]/g,"")).charAt(l),u=a.indexOf(".");-1!==u&&(a=a.substring(0,u+1)+a.substring(u+1).replace(/\./g,"")),"."===a.charAt(a.length-1)&&(a=a.slice(0,a.length-1));var c=a.split(s),d=c[0],h=d.split("."),f=h[0],p=h[1],m=c[1],v=e.toString().split(".")[0].replace(/-/,""),g=0;if("0"===v&&r.compare(e,0)){for(var y=f.length-1;0===parseInt(e);)g++,e*=10;v=e.toString().split(".")[0].replace(/-/,""),g+=y,e*=Math.pow(10,y)}if(o&&(d=d.slice(0,1)+","+d.slice(1)),v.length<=f.length)i=n.formatNumber(e,d,void 0,!0)+s+n.formatExponent(0-g,m);else{var b=v.length-f.length,_="floatingPoint"===n.inputFormat?e/Math.pow(10,b):e.divide(Math.pow(10,b));p||(i=n.applyThousandsSeparator(r.round(_).toString(),!o)+s+n.formatExponent(b-g,m));var w=_.toString().split(".")[1]||"";w.length===p.length?i=n.applySeparators(_,!o)+s+n.formatExponent(b-g,m):w.length<p.length?i=n.formatNumber(_,d,void 0,!0)+s+n.formatExponent(b-g,m):(_="floatingPoint"===n.inputFormat?_.toFixed(p.length):_=r.round(e.divide(Math.pow(10,b-p.length))).divide(Math.pow(10,p.length)),i=n.formatNumber(parseFloat(_),d,void 0,!0)+s+n.formatExponent(b-g,m))}return n.setTextParts(i,t)}},{key:"formatExponent",value:function(e,t){var r;return-1!==["+","-"].indexOf(t.charAt(0))&&(r=t.charAt(0),(e>0&&"-"===r||e<0&&"+"===r)&&(r=void 0)),e<0&&(e=Math.abs(e),r="-"),t=t.replace(/[+-]/g,""),(r||"")+this.formatNumber(e,t,void 0,!0)}},{key:"formatWholeNumber",value:function(e,t,r){var i=this,n="";if("-"===e.charAt(0)&&(i._ignoreMinus||(n="-"),e=e.slice(1)),"0"===e){if(t==="#".repeat(t.length))return n;e=""}if(t.length<=e.length)return n+i.applyThousandsSeparator(e,!r);for(var a=(t=t.slice(0,t.length-e.length)).length-1;a>=0;a--)"0"===t.charAt(a)&&(e="0"+e);return n+i.applyThousandsSeparator(e,!r)}},{key:"setTextParts",value:function(e,t){return t.prefix+e+t.suffix}},{key:"applyCustomFractionalFormat",value:function(e,t,r){var i,n=this,a=/^([0#,]+[ ]+)?([0#,]+\/[0#,]+)$/,o=t.main.trim();if(!a.test(o))return e.toString();var l=a.exec(o);if(l[2]=l[2].replace(/,/g,""),"integer"===n.inputFormat){var s=l[2].split("/");return void 0===l[1]?i=n.formatNumber(e,s[0],void 0,!0)+"/"+n.formatNumber(1,s[1],void 0,!0):(i=n.formatNumber(e,l[1].trim(),void 0,!0),-1!==l[2].indexOf("0")&&(i+=" "+n.formatNumber(0,s[0],void 0,!0)+"/"+n.formatNumber(1,s[1],void 0,!0))),n.setTextParts(i,t)}if(void 0===l[1])i=(e<0?"-":"")+n.formatAsFraction(Math.abs(e),l[2]);else{var u=l[1].trim(),c=l[2];i=n.formatNumber(parseInt(e,10),u,void 0,!0)+" "+n.formatAsFraction(r.getPreciseModulo(Math.abs(e),1),c)}return n.setTextParts(i.trim(),t)}},{key:"formatAsFraction",value:function(e,t){var r=this,i=t.split("/");if(0===e)return-1===t.indexOf("0")?"":r.formatNumber(0,i[0],void 0,!0)+"/"+r.formatNumber(1,i[1],void 0,!0);if(e%1==0)return r.formatNumber(e,i[0],void 0,!0)+"/"+r.formatNumber(1,i[1],void 0,!0);var n=[];r.approximateFractions(e,n);var a=i[1].length>=2?2:1,o=[],l=[];n.forEach((function(t,r){var i=t.denominator.toString().length,n=Math.abs(e-t.numerator/t.denominator);if(void 0===o[i])return l[i]=r,void(o[i]=n);n<o[i]&&(l[i]=r,o[i]=n)}));var s=l[a]?n[l[a]]:n[l[1]];return r.formatNumber(s.numerator,i[0],void 0,!0)+"/"+r.formatNumber(s.denominator,i[1],void 0,!0)}},{key:"approximateFractions",value:function(e,t){for(var r,i=[0,1],n=[1,0],a=this.getMaxNumerator(e),o=e,l=NaN,s=2;s<1e3;s++){var u=Math.floor(o);if(i[s]=u*i[s-1]+i[s-2],Math.abs(i[s])>a)return;if(n[s]=u*n[s-1]+n[s-2],(r=i[s]/n[s])===l)return;if(t.push({numerator:i[s],denominator:n[s]}),r===e)return;l=r,o=1/(o-u)}}},{key:"getMaxNumerator",value:function(e){var t=null,r=e.toString().indexOf("E");-1===r&&(r=e.toString().indexOf("e"));var i=null,n=(t=-1===r?e.toString():e.toString().substring(0,r)).toString().indexOf(".");-1===n?i=t:0===n?i=t.substring(1,t.length):n<t.length&&(i=t.substring(0,n)+t.substring(n+1,t.length));var a=i,o=a.toString().length,l=e,s=l.toString().length;0===l&&(s=0);for(var u=o-s,c=u;c>0&&a%2==0;c--)a/=2;for(var d=u;d>0&&a%5==0;d--)a/=5;return a}},{key:"exponentialToSuperscript",value:function(e){var t=e.indexOf("e"),r=e.slice(t+1).replace(/0{1,2}/,""),i=e.slice(0,t+1);return i=i.replace("e","×10"),i=(i+=this.toSuperscript(r)).replace("+","")}},{key:"toSuperscript",value:function(e,t){for(var r="⁻⁰¹²³⁴⁵⁶⁷⁸⁹",i="",n=0;n<e.length;n++)if(!0===t){var a=r.indexOf(e.charAt(n));i+=-1!==a?"-0123456789"[a]:e[n]}else{var o="-0123456789".indexOf(e.charAt(n));i+=-1!==o?r[o]:e[n]}return i}}]),e}())}})},8:function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==i(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=77)}({77:function(e,t){var i;try{BigInt,i=!0}catch(e){i=!1}Smart.Utilities.Assign("BigNumber",function(){function e(t,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,a=this;if(Smart.Utilities.BigNumber.bigIntSupport){if(t instanceof Smart.Utilities.BigNumber){if(!Array.isArray(t._d))return new Smart.Utilities.BigNumber(t._d);t=(t._s?"-":"")+(t._d.slice(0,t._f).join("")||"0")+(t._f!=t._d.length?"."+t._d.slice(t._f).join(""):"")}try{null===t?a._d=BigInt(0):"string"==typeof t&&-1!==t.toLowerCase().indexOf("e")?a._d=BigInt(parseFloat(t)):a._d=BigInt(t)}catch(r){try{var o=t.toString().split("."),l=BigInt(o[0]),s=parseInt(o[1].charAt(0));if(l>=0&&s>=5)l+=BigInt(1);else if(l<0)if(s>5)l-=BigInt(1);else if(5===s){for(var u=1,c=o[1].charAt(u),d=!1;""!==c;)if(u++,"0"!==(c=o[1].charAt(u))){d=!0;break}d&&(l-=BigInt(1))}a._d=l}catch(t){a._d=BigInt(0)}}return a._f=a._d.toString().replace("-","").length,void(a._s=a._d<0)}if(t instanceof Smart.Utilities.BigNumber){if("bigint"==typeof t._d)return new Smart.Utilities.BigNumber(t._d.toString());for(n in{precision:0,roundType:0,_s:0,_f:0})a[n]=t[n];return a._d=t._d.slice(),void(t._s&&1===t._d.length&&0===t._d[0]&&(a._s=!1))}if(void 0!==t&&("-0"===t&&(t="0"),new RegExp(/e/i).test(t))){var h=t.toString().toLowerCase(),f=h.indexOf("e"),p=new Smart.Utilities.BigNumber(h.slice(0,f)),m=h.slice(f+2),v=h.slice(f+1,f+2),g=new Smart.Utilities.BigNumber(10).pow(v+m);t=p.multiply(g).toString()}for(a.precision=isNaN(r=Math.abs(r))?Smart.Utilities.BigNumber.defaultPrecision:r,a.roundType=isNaN(i=Math.abs(i))?Smart.Utilities.BigNumber.defaultRoundType:i,a._s="-"==(t+="").charAt(0),a._f=((t=t.replace(/[^\d.]/g,"").split(".",2))[0]=t[0].replace(/^0+/,"")||"0").length,n=(t=a._d=(t.join("")||"0").split("")).length;n;t[--n]=+t[n]);a.round()}var t,n,a;return t=e,a=[{key:"defaultPrecision",get:function(){return 40}},{key:"defaultRoundType",get:function(){return 4}},{key:"bigIntSupport",get:function(){return i&&!0!==Smart.Utilities.BigNumber.ignoreBigIntNativeSupport}}],(n=[{key:"add",value:function(e){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d+new Smart.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===Smart.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new Smart.Utilities.BigNumber(t);if(t._s!=(e=new Smart.Utilities.BigNumber(e))._s)return e._s^=1,t.subtract(e);var r,i,n=new Smart.Utilities.BigNumber(t),a=n._d,o=e._d,l=n._f,s=e._f;for(e=Math.max(l,s),l!=s&&((s=l-s)>0?n._zeroes(o,s,1):n._zeroes(a,-s,1)),r=(l=a.length)==(s=o.length)?a.length:((s=l-s)>0?n._zeroes(o,s):n._zeroes(a,-s)).length,i=0;r;i=(a[--r]=a[r]+o[r]+i)/10>>>0,a[r]%=10);return i&&++e&&a.unshift(i),n._f=e,n.round()}},{key:"subtract",value:function(e){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d-new Smart.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===Smart.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new Smart.Utilities.BigNumber(t);if(t._s!=(e=new Smart.Utilities.BigNumber(e))._s)return e._s^=1,t.add(e);var r,i,n=new Smart.Utilities.BigNumber(t),a=n.abs().compare(e.abs())+1,o=a?n:e,l=a?e:n,s=o._f,u=l._f,c=s;for(o=o._d,l=l._d,s!=u&&((u=s-u)>0?n._zeroes(l,u,1):n._zeroes(o,-u,1)),r=(s=o.length)==(u=l.length)?o.length:((u=s-u)>0?n._zeroes(l,u):n._zeroes(o,-u)).length;r;){if(o[--r]<l[r]){for(i=r;i&&!o[--i];o[i]=9);--o[i],o[r]+=10}l[r]=o[r]-l[r]}return a||(n._s^=1),n._f=c,n._d=l,n.round()}},{key:"multiply",value:function(e){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d*new Smart.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);e=t.normalizeOperand(e);var r,i,n,a=new Smart.Utilities.BigNumber(t),o=a._d.length>=(e=new Smart.Utilities.BigNumber(e))._d.length,l=(o?a:e)._d,s=(o?e:a)._d,u=l.length,c=s.length,d=new Smart.Utilities.BigNumber;for(r=c;r;o&&n.unshift(o),d.set(d.add(new Smart.Utilities.BigNumber(n.join("")))))for(n=new Array(c- --r).join("0").split(""),o=0,i=u;i;o+=l[--i]*s[r],n.unshift(o%10),o=o/10>>>0);return a._s=a._s!=e._s,a._f=((o=u+c-a._f-e._f)>=(i=(a._d=d._d).length)?t._zeroes(a._d,o-i+1,1).length:i)-o,a.round()}},{key:"divide",value:function(e){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d/new Smart.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);if(e=t.normalizeOperand(e),"0"==(e=new Smart.Utilities.BigNumber(e)))throw new Error("Division by 0");if("0"==t)return new Smart.Utilities.BigNumber;var r,i,n,a=new Smart.Utilities.BigNumber(t),o=a._d,l=e._d,s=o.length-a._f,u=l.length-e._f,c=new Smart.Utilities.BigNumber,d=0,h=1,f=0,p=0;for(c._s=a._s!=e._s,c.precision=Math.max(a.precision,e.precision),c._f=+c._d.pop(),s!=u&&a._zeroes(s>u?l:o,Math.abs(s-u)),e._f=l.length,(l=e)._s=!1,l=l.round(),e=new Smart.Utilities.BigNumber;"0"==o[0];o.shift());e:do{for(n=f=0,"0"==e&&(e._d=[],e._f=0);d<o.length&&-1==e.compare(l);++d){if(n=d+1==o.length,(!h&&++f>1||(p=n&&"0"==e&&"0"==o[d]))&&(c._f==c._d.length&&++c._f,c._d.push(0)),"0"==o[d]&&"0"==e||(e._d.push(o[d]),++e._f),p)break e;if(n&&-1==e.compare(l)&&(c._f==c._d.length&&++c._f,1)||(n=0))for(;c._d.push(0),e._d.push(0),++e._f,-1==e.compare(l););}if(h=0,-1==e.compare(l)&&!(n=0))for(;n?c._d.push(0):n=1,e._d.push(0),++e._f,-1==e.compare(l););var m;for(i=new Smart.Utilities.BigNumber,r=0;e.compare(m=i.add(l))+1&&++r;i.set(m));e.set(e.subtract(i)),!n&&c._f==c._d.length&&++c._f,c._d.push(r)}while((d<o.length||"0"!=e)&&c._d.length-c._f<=c.precision);return c.round()}},{key:"mod",value:function(e){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d%new Smart.Utilities.BigNumber(e)._d);var t=this.normalizeOperand(this);e=t.normalizeOperand(e);var r=t.subtract(t.divide(e).intPart().multiply(e));return r.isZero()&&r._s&&(r._s=!r._s),r}},{key:"pow",value:function(e){if(Smart.Utilities.BigNumber.bigIntSupport){for(var t=BigInt(1),r=BigInt(0);r<new Smart.Utilities.BigNumber(e)._d;r+=BigInt(1))t*=this._d;return new Smart.Utilities.BigNumber(t)}var i=this.normalizeOperand(this);e=i.normalizeOperand(e);var n,a=new Smart.Utilities.BigNumber(i);if(0==(e=new Smart.Utilities.BigNumber(e).intPart()))return a.set(1);for(n=Math.abs(e);--n;a.set(a.multiply(i)));return e<0?a.set(new Smart.Utilities.BigNumber(1).divide(a)):a}},{key:"set",value:function(e){return e=new Smart.Utilities.BigNumber(e),this._d=e._d,this._f=e._f,this._s=e._s,this}},{key:"compare",value:function(e){if(Smart.Utilities.BigNumber.bigIntSupport){var t=new Smart.Utilities.BigNumber(e)._d;return this._d===t?0:this._d>t?1:-1}var r=this.normalizeOperand(this);e=r.normalizeOperand(e);var i,n,a,o=r,l=r._f,s=new Smart.Utilities.BigNumber(e),u=s._f,c=[-1,1];if(o.isZero()&&s.isZero())return 0;if(o._s!=s._s)return o._s?-1:1;if(l!=u)return c[l>u^o._s];for(l=(a=o._d).length,u=(s=s._d).length,i=-1,n=Math.min(l,u);++i<n;)if(a[i]!=s[i])return c[a[i]>s[i]^o._s];return l!=u?c[l>u^o._s]:0}},{key:"negate",value:function(){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d*BigInt(-1));var e=this.normalizeOperand(this),t=new Smart.Utilities.BigNumber(e);return t._s^=1,t}},{key:"abs",value:function(){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d<0?this._d*BigInt(-1):this._d);var e=this.normalizeOperand(this),t=new Smart.Utilities.BigNumber(e);return t._s=0,t}},{key:"intPart",value:function(){if(Smart.Utilities.BigNumber.bigIntSupport)return new Smart.Utilities.BigNumber(this._d);var e=this.normalizeOperand(this);return new Smart.Utilities.BigNumber((e._s?"-":"")+(e._d.slice(0,e._f).join("")||"0"))}},{key:"valueOf",value:function(e,t){return this.normalizeOperand(this).toString(e,t)}},{key:"toString",value:function(e,t,r){function i(e){var t,r,i=new Smart.Utilities.BigNumber(2),a=[];r=void 0===e?n:e;do{t=r.mod(i),a.push(t.toString()),r=r.subtract(t).divide(i).intPart()}while(1===r.compare(new Smart.Utilities.BigNumber(0)));return a.reverse().join("")}var n,a,o;if(Smart.Utilities.BigNumber.bigIntSupport?(n=this,a=Array.isArray(n._d)?(n._s?"-":"")+(n._d.slice(0,n._f).join("")||"0")+(n._f!=n._d.length?"."+n._d.slice(n._f).join(""):""):this._d.toString()):a=((n=this.normalizeOperand(this))._s?"-":"")+(n._d.slice(0,n._f).join("")||"0")+(n._f!=n._d.length?"."+n._d.slice(n._f).join(""):""),void 0===e||10===e)return a;if(n.compare(0)>-1)switch(e){case 2:o=i(),r&&(o=o.padStart(t,"0"));break;case 8:o=function(e){for(var t="";e.length%3!=0;)e="0"+e;for(var r=e.length/3;r>=1;r--){var i=e[3*r-3]+""+e[3*r-2]+e[3*r-1];t=parseInt(i,2).toString(8)+""+t}return t}(i());break;case 16:o=function(e){for(var t="";e.length%4!=0;)e="0"+e;for(var r=e.length/4;r>=1;r--){var i=e[4*r-4]+""+e[4*r-3]+e[4*r-2]+e[4*r-1];t=parseInt(i,2).toString(16)+""+t}return t}(i()).toUpperCase(),r&&(o=o.padStart(t/4,"0"))}else o=function(e,t,r){var i="";for(String.prototype.repeat&&(e="0".repeat(r-e.length)+e);e.length<r;)e="0"+e;for(var n=!0,a="",o=(i=(i=(i=(i=e.replace(/0/g,"a")).replace(/1/g,"b")).replace(/a/g,"1")).replace(/b/g,"0")).length-1;o>=0;o--){var l;"0"===i.charAt(o)?!0===n?(l="1",n=!1):l="0":l=!0===n?"0":"1",a=l+""+a}switch(t){case 2:return a;case 8:var s,u;switch(r){case 8:s=3,u="0";break;case 16:s=6,u="00";break;case 32:s=11,u="0";break;case 64:s=22,u="00"}a=u+a;for(var c="",d=s;d>=1;d--){var h=a[3*d-3]+""+a[3*d-2]+a[3*d-1];c=parseInt(h,2).toString(8)+""+c}return c;case 16:var f;switch(r){case 8:f=2;break;case 16:f=4;break;case 32:f=8;break;case 64:f=16}for(var p="",m=f;m>=1;m--){var v=a[4*m-4]+""+a[4*m-3]+a[4*m-2]+a[4*m-1];p=parseInt(v,2).toString(16)+""+p}return p.toUpperCase()}}(i(n.negate()),e,t);return o}},{key:"_zeroes",value:function(e,t,r){var i=["push","unshift"][r||0];for(++t;--t;e[i](0));return e}},{key:"round",value:function(){if("_rounding"in this)return this;var e,t,r,i,n=Smart.Utilities.BigNumber,a=this.roundType,o=this._d;for(this._rounding=!0;this._f>1&&!o[0];--this._f,o.shift());for(e=this._f,r=o[t=this.precision+e];o.length>e&&!o[o.length-1];o.pop());return i=(this._s?"-":"")+(t-e?"0."+this._zeroes([],t-e-1).join(""):"")+1,o.length>t&&(r&&a!=n.DOWN&&(a==n.UP||(a==n.CEIL?!this._s:a==n.FLOOR?this._s:a==n.HALF_UP?r>=5:a==n.HALF_DOWN?r>5:a==n.HALF_EVEN&&r>=5&&1&o[t-1]))&&this.add(i),o.splice(t,o.length-t)),delete this._rounding,this}},{key:"isZero",value:function(){return 1===this._d.length&&0===this._d[0]}},{key:"normalizeOperand",value:function(e){return e instanceof Smart.Utilities.BigNumber&&"bigint"==typeof e._d?new Smart.Utilities.BigNumber(e._d.toString()):e}}])&&r(t.prototype,n),a&&r(t,a),e}())}})}});