/*!
 * 
 * /* Smart UI v9.1.0 (2021-Feb) 
 * Copyright (c) 2011-2021 jQWidgets. 
 * License: https://htmlelements.com/license/ * /
 * 
 * 
 */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=169)}({0:function(e,t){function n(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw o}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function o(e){return function(){var t,n=h(e);if(c()){var r=h(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return i(this,t)}}function i(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function u(e){var t="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return d(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)})(e)}function d(e,t,n){return(d=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&p(a,n.prototype),a}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==b(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=39)}({39:function(e,t){!function(){var e=[],t="Smart";if(window[t]&&window[t].Version){if("9.1.0"===window[t].Version)return;if("9.1.0"!==window[t].Version)t+="9.1.0";else for(var r=2;window[t];)t+=r.toString(),r++}var d=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1;document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint);var c=function(){function e(){f(this,e)}return m(e,null,[{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isFunction",value:function(e){return!!(e&&e.constructor&&e.call&&e.apply)}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isObject",value:function(e){return e&&("object"==b(e)||this.isFunction(e))||!1}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"getType",value:function(e){var t=this,n=["Boolean","Number","String","Function","Array","Date","Object"].find((function(n){if(t["is"+n](e))return n}));return n?n.toLowerCase():void 0}}]),e}(),p=function(){function e(){f(this,e)}return m(e,null,[{key:"animate",value:function(e,n,r,a){var o=e;if(o&&o instanceof HTMLElement!=0){if(0===o.getElementsByClassName("smart-ripple").length){var i=document.createElement("span");i.classList.add("smart-ripple"),i.setAttribute("role","presentation");var l=!0,s=null;if(window[t].EnableShadowDOM&&o.enableShadowDOM&&!0!==o.isInShadowDOM){for(var u=0;u<o.shadowRoot.host.shadowRoot.children.length;u++)"link"!==o.shadowRoot.host.shadowRoot.children[u].tagName.toLowerCase()&&(s=o.shadowRoot.host.shadowRoot.children[u]);o.shadowRoot.host.shadowRoot.querySelector(".smart-ripple")&&(l=!1)}else s=o.firstElementChild;l&&(s&&!s.noRipple&&s.offsetHeight>0?s.appendChild(i):o.appendChild(i))}var d=null;if(d=window[t].EnableShadowDOM&&o.shadowRoot?o.shadowRoot.host.shadowRoot.querySelector(".smart-ripple"):o.getElementsByClassName("smart-ripple")[0]){d.innerHTML="",d.classList.remove("smart-animate"),d.style.height=d.style.width=Math.max(o.offsetHeight,o.offsetWidth)+"px";var c=window.getComputedStyle(d.parentElement),p=parseInt(c.borderLeftWidth)||0,h=parseInt(c.borderTopWidth)||0,f=o.getBoundingClientRect(),v=n-(f.left+window.pageXOffset)-d.offsetWidth/2-p,m=r-(f.top+window.pageYOffset)-d.offsetHeight/2-h;d.style.left=v+"px",d.style.top=m+"px",d.classList.add("smart-animate"),d.addEventListener("animationend",(function e(){d.parentElement&&d.parentElement.removeChild(d),a&&a(),d.removeEventListener("animationend",e),d.removeEventListener("animationcancel",e)})),d.addEventListener("animationcancel",(function e(){d.parentElement&&d.parentElement.removeChild(d),a&&a(),d.removeEventListener("animationcancel",e),d.removeEventListener("animationend",e)}))}}}}]),e}(),v=function(){function e(){f(this,e)}return m(e,null,[{key:"easeInQuad",value:function(e,t,n,r){return n*(e/=r)*e+t}},{key:"easeOutQuad",value:function(e,t,n,r){return-n*(e/=r)*(e-2)+t}},{key:"easeInOutQuad",value:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},{key:"easeInCubic",value:function(e,t,n,r){return n*(e/=r)*e*e+t}},{key:"easeOutCubic",value:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}},{key:"easeInOutCubic",value:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}},{key:"easeInQuart",value:function(e,t,n,r){return n*(e/=r)*e*e*e+t}},{key:"easeOutQuart",value:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t}},{key:"easeInOutQuart",value:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t}},{key:"easeInQuint",value:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t}},{key:"easeOutQuint",value:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t}},{key:"easeInOutQuint",value:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t}},{key:"easeInSine",value:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}},{key:"easeOutSine",value:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t}},{key:"easeInOutSine",value:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t}},{key:"easeInExpo",value:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t}},{key:"easeOutExpo",value:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t}},{key:"easeInOutExpo",value:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t}},{key:"easeInCirc",value:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t}},{key:"easeOutCirc",value:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t}},{key:"easeInOutCirc",value:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t}},{key:"easeInElastic",value:function(e,t,n,r){var a=1.70158,o=0,i=n;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)+t)}},{key:"easeOutElastic",value:function(e,t,n,r){var a=1.70158,o=0,i=n;return 0===e?t:1==(e/=r)?t+n:(o||(o=.3*r),i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-a)*(2*Math.PI)/o)+n+t)}},{key:"easeInOutElastic",value:function(e,t,n,r){var a=1.70158,o=0,i=n;return 0===e?t:2==(e/=r/2)?t+n:(o||(o=r*(.3*1.5)),i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*-.5+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-a)*(2*Math.PI)/o)*.5+n+t)}},{key:"easeInBack",value:function(e,t,n,r,a){return void 0===a&&(a=1.70158),n*(e/=r)*e*((a+1)*e-a)+t}},{key:"easeOutBack",value:function(e,t,n,r,a){return void 0===a&&(a=1.70158),n*((e=e/r-1)*e*((a+1)*e+a)+1)+t}},{key:"easeInOutBack",value:function(e,t,n,r,a){return void 0===a&&(a=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(a*=1.525))*e-a))+t:n/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+t}},{key:"easeInBounce",value:function(e,t,n,r){return n-this.easeOutBounce(r-e,0,n,r)+t}},{key:"easeOutBounce",value:function(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}},{key:"easeInOutBounce",value:function(e,t,n,r){return e<r/2?.5*this.easeInBounce(2*e,0,n,r)+t:.5*this.easeOutBounce(2*e-r,0,n,r)+.5*n+t}}]),e}(),g=function(){function e(){f(this,e)}return m(e,null,[{key:"toCamelCase",value:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}},{key:"toDash",value:function(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"unescapeHTML",value:function(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}},{key:"escapeHTML",value:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))}},{key:"createGUID",value:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{key:"getScriptLocation",value:function(){return"./"!==window[t].BaseUrl?window[t].BaseUrl:function(){if(document.currentScript){var e=document.currentScript.src,t=e.lastIndexOf("/");return e=e.substring(0,t)}var n=new Error,r="(",a=")";if(Smart.Utilities.Core.Browser.Safari&&(r="@",a="\n"),n.fileName)return n.fileName.replace("/smart.element.js","");var o=n.stack.split(r);return(o=(o=(o=o[1]).split(a)[0]).split(":")).splice(-2,2),(o=o.join(":")).replace("/smart.element.js","")}()}},{key:"CSSVariablesSupport",value:function(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}},{key:"assign",value:function(e,t){var n=this,r=function(e){return e&&"object"==b(e)&&!Array.isArray(e)&&null!==e},a=Object.assign({},e);return r(e)&&r(t)&&Object.keys(t).forEach((function(o){var i,l,s;r(t[o])&&o in e?a[o]=n.assign(e[o],t[o]):Object.assign(a,(i={},l=o,s=t[o],l in i?Object.defineProperty(i,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[l]=s,i))})),a}},{key:"html",value:function(e,t){var n="",r=e.childNodes;if(!t){for(var a,o=0,i=r.length;o<i&&(a=r[o]);o++){if(a instanceof HTMLElement||a.tagName&&["strong"].indexOf(a.tagName.toLowerCase())>=0){for(var l,s=a.tagName.toLowerCase(),u=a.attributes,d="<"+s,c=0;l=u[c];c++)d+=" "+l.name+'="'+l.value.replace(/[&\u00A0"]/g,B.Core.escapeHTML)+'"';d+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][s]&&(n+=d),n=n+d+this.html(a)+"</"+s+">"}else{if(8===a.nodeType)continue;n+=a.textContent.replace(/[&\u00A0<>]/g,B.Core.escapeHTML)}}return n}e.innerHTML=t.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")}},{key:"isMobile",get:function(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())||["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}},{key:"Browser",get:function(){var e,t=function(t){var n=t.indexOf(e);if(-1!==n){var r=t.indexOf("rv:");return"Trident"===e&&-1!==r?parseFloat(t.substring(r+3)):parseFloat(t.substring(n+e.length+1))}},n={};return n[function(){for(var t=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}],n=0;n<t.length;n++){var r=t[n].string;if(e=t[n].subString,-1!==r.indexOf(t[n].subString))return t[n].identity}return"Other"}()]=!0,n.version=t(navigator.userAgent)||t(navigator.appVersion)||"Unknown",n}}]),e}(),y=[],w=function(){function e(){f(this,e)}return m(e,null,[{key:"watch",value:function(t){y.push(t),e.interval&&clearInterval(e.interval),e.interval=setInterval((function(){e.observe()}),100)}},{key:"observeElement",value:function(t){var n=t;if("test"!==window.Smart.Mode){var r=t._computedStyle||"resize"!==n.hasStyleObserver?document.defaultView.getComputedStyle(n,null):{},a=!0,o="resize"!==n.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[];if(t.styleProperties&&(o=o.concat(t.styleProperties)),t.observableStyleProperties&&(o=t.observableStyleProperties),n._styleInfo){if(t.isHidden||"none"!==r.display&&(0!==t.offsetWidth&&0!==t.offsetHeight||(t.isHidden=!0)),t.isHidden){if(t.visibilityChangedHandler(),t.isHidden)return;a=!1}for(var i=[],l=0;l<o.length;l++){var s=o[l],u=s.startsWith("--")?r.getPropertyValue(s):r[s];n._styleInfo[s]!==u&&(i[s]={oldValue:n._styleInfo[s],value:u},i.length++),n._styleInfo[s]=u}i.length>0&&(n.$.fireEvent("styleChanged",{styleProperties:i},{bubbles:!1,cancelable:!0}),i.display&&a&&n.$.fireEvent("resize",n,{bubbles:!1,cancelable:!0}))}else{n._styleInfo=[];for(var d=0;d<o.length;d++){var c=o[d],p=c.startsWith("--")?r.getPropertyValue(c):r[c];n._styleInfo[c]=p}}}else e.interval&&clearInterval(e.interval)}},{key:"observe",value:function(){for(var e=0;e<y.length;e++){var t=y[e];this.observeElement(t)}}},{key:"unwatch",value:function(t){e.interval&&clearInterval(e.interval);var n=y.indexOf(t);-1!==n&&y.splice(n,1),y.length>0&&(e.interval=setInterval((function(){e.observe()}),100))}}]),e}(),_=[],C=[],S=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"],k=function(){function e(t){f(this,e);var n=this;n.target=t,n.$target=new D(t),n.$document=t.$document?t.$document:new D(document),n.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();var r={handlers:{},boundEventTypes:[],listen:n.listen.bind(n),unlisten:n.unlisten.bind(n)};return n.tapHoldDelay=750,n.swipeMin=10,n.swipeMax=5e3,n.swipeDelay=1e3,n.tapHoldDelay=750,n.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],S.forEach((function(e){r[e]=function(t){r.handlers[e]=t},n[e]=function(e){if(!r.handlers[e.type]){if(("mousemove"===e.type||"pointermove"===e.type||"touchmove"===e.type)&&r.handlers.move){var t=n.createEvent(e,"move");r.handlers.move(t)}return!0}return r.handlers[e.type](e)}})),n.listen(),n.handlers=r.handlers,r}return m(e,[{key:"listen",value:function(e){var n=this;if("resize"===e&&n.target!==document&&n.target!==window&&!1!==n.target.hasResizeObserver)if(Smart.Utilities.Core.Browser.Firefox){if(!n.target.resizeObserver){var r=!1,a=new ResizeObserver((function(){if(r){var e=new CustomEvent("resize",{bubbles:!1,cancelable:!0});n.resize(e)}else r=!0}));a.observe(n.target),n.target.resizeObserver=a}}else if(!n.target.resizeTrigger){var o=document.createElement("div");o.className="smart-resize-trigger-container",o.innerHTML='<div class="smart-resize-trigger-container"><div class="smart-resize-trigger"></div></div><div class="smart-resize-trigger-container"><div class="smart-resize-trigger-shrink"></div></div>',o.setAttribute("aria-hidden",!0),window[t].EnableShadowDOM&&n.target.shadowRoot?n.target.shadowRoot.appendChild(o):n.target.appendChild(o),n.target.resizeTrigger=o;var i,l,s,u,d=o.childNodes[0],c=d.childNodes[0],p=o.childNodes[1],h=function(){c.style.width="100000px",c.style.height="100000px",d.scrollLeft=1e5,d.scrollTop=1e5,p.scrollLeft=1e5,p.scrollTop=1e5},f=n.target.offsetWidth,v=n.target.offsetHeight;if(0===f||0===v){n.target.addEventListener("resize",(function e(){h(),n.target.removeEventListener("resize",e)})),h()}else h();n.target.resizeHandler=function(){l||(l=requestAnimationFrame((function(){if(l=0,s=n.target.offsetWidth,u=n.target.offsetHeight,i=s!==f||u!==v,n.target.requiresLayout&&(i=!0),i){f=s,v=u;var e=new CustomEvent("resize",{bubbles:!1,cancelable:!0});n.resize(e),n.target.requiresLayout=!1}}))),h()},d.addEventListener("scroll",n.target.resizeHandler),p.addEventListener("scroll",n.target.resizeHandler)}n.isListening||(n.isListening=!0,n.isPressed=!1,n.isReleased=!1,n.isInBounds=!1,window.PointerEvent?(n.$target.listen("pointerdown.inputEvents"+n.id,n.pointerDown.bind(n)),n.$target.listen("pointerup.inputEvents"+n.id,n.pointerUp.bind(n)),n.$target.listen("pointermove.inputEvents"+n.id,n.pointerMove.bind(n)),n.$target.listen("pointercancel.inputEvents"+n.id,n.pointerCancel.bind(n))):("ontouchstart"in window&&(n.$target.listen("touchmove.inputEvents"+n.id,n.touchMove.bind(n)),n.$target.listen("touchstart.inputEvents"+n.id,n.touchStart.bind(n)),n.$target.listen("touchend.inputEvents"+n.id,n.touchEnd.bind(n)),n.$target.listen("touchcancel.inputEvents"+n.id,n.touchCancel.bind(n))),n.$target.listen("mousedown.inputEvents"+n.id,n.mouseDown.bind(n)),n.$target.listen("mouseup.inputEvents"+n.id,n.mouseUp.bind(n)),n.$target.listen("mousemove.inputEvents"+n.id,n.mouseMove.bind(n)),n.$target.listen("mouseleave.inputEvents"+n.id,n.mouseLeave.bind(n))),n.target._handleDocumentUp||(n.target._handleDocumentUp=n.handleDocumentUp.bind(n),n.target._handleDocumentUpId=n.id,n.$document.listen("mouseup.inputEvents"+n.target._handleDocumentUpId,n.target._handleDocumentUp)))}},{key:"unlisten",value:function(e){var t=this;if(t.isListening=!1,window.PointerEvent?(t.$target.unlisten("pointerdown.inputEvents"+t.id),t.$target.unlisten("pointerup.inputEvents"+t.id),t.$target.unlisten("pointermove.inputEvents"+t.id),t.$target.unlisten("pointercancel.inputEvents"+t.id)):("ontouchstart"in window&&(t.$target.unlisten("touchstart.inputEvents"+t.id),t.$target.unlisten("touchmove.inputEvents"+t.id),t.$target.unlisten("touchend.inputEvents"+t.id),t.$target.unlisten("touchcancel.inputEvents"+t.id)),t.$target.unlisten("mousedown.inputEvents"+t.id),t.$target.unlisten("mouseup.inputEvents"+t.id),t.$target.unlisten("mousemove.inputEvents"+t.id),t.$target.unlisten("mouseleave.inputEvents"+t.id)),t.target._handleDocumentUp&&(t.$document.unlisten("mouseup.inputEvents"+t.target._handleDocumentUpId,t.target._handleDocumentUp),delete t.target._handleDocumentUp,delete t.target._handleDocumentUpId),"resize"===e)if(Smart.Utilities.Core.Browser.Firefox)t.target.resizeObserver&&(t.target.resizeObserver.unobserve(t.target),delete t.target.resizeObserver);else if(t.target.resizeTrigger){var n=t.target.resizeTrigger,r=n.childNodes[0],a=n.childNodes[1];r.removeEventListener("scroll",t.target.resizeHandler),a.removeEventListener("scroll",t.target.resizeHandler),t.target.resizeHandler=null,n.parentNode.removeChild(n),delete t.target.resizeTrigger}}},{key:"handleDocumentUp",value:function(e){this.isPressed=!1,this.isReleased=!1,this.resetSwipe(e)}},{key:"createEvent",value:function(e,t){var n=this,r=e.touches,a=e.changedTouches,o=r&&r.length?r[0]:a&&a.length?a[0]:void 0,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:void 0!==n.$target.element.getRootNode().host});if(i.originalEvent=e,o){for(var l=0;l<n.inputEventProperties.length;l++){var s=n.inputEventProperties[l];i[s]=o[s]}return i}for(var u in e)u in i||(i[u]=e[u]);return i}},{key:"fireTap",value:function(e){if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){var t=this.createEvent(e,"tap");this.tap(t)}}},{key:"initTap",value:function(e){var t=this;t.isInBounds=!0,t.tapHoldFired=!1,t.tapHoldTimeout=setTimeout((function(){if(t.isInBounds){t.tapHoldFired=!0;var n=t.createEvent(e,"taphold");t.taphold(n)}}),t.tapHoldDelay)}},{key:"pointerDown",value:function(e){return this.handleDown(e)}},{key:"mouseDown",value:function(e){if(!(this.isPressed||this.touchStartTime&&new Date-this.touchStartTime<500))return this.handleDown(e)}},{key:"touchStart",value:function(e){return this.touchStartTime=new Date,this.isTouchMoved=!0,this.handleDown(e)}},{key:"mouseUp",value:function(e){if(!(this.isReleased||this.touchEndTime&&new Date-this.touchEndTime<500))return this.handleUp(e)}},{key:"handleDown",value:function(e){var t=this;t.isReleased=!1,t.isPressed=!0;var n=t.createEvent(e,"down");return(t.handlers.tap||t.handlers.taphold)&&t.initTap(n),(t.handlers.swipeleft||t.handlers.swiperight||t.handlers.swipetop||t.handlers.swipebottom)&&t.initSwipe(n),t.down(n)}},{key:"handleUp",value:function(e){var t=this;t.isReleased=!0,t.isPressed=!1;var n=t.createEvent(e,"up"),r=t.up(n);return(t.handlers.tap||t.handlers.taphold)&&t.fireTap(n),t.resetSwipe(n),r}},{key:"handleMove",value:function(e){var t=this,n=t.move(e);return t.isPressed&&(t._maxSwipeVerticalDistance=Math.max(t._maxSwipeVerticalDistance,Math.abs(t._startY-e.pageY)),t._maxSwipeHorizontalDistance=Math.max(t._maxSwipeHorizontalDistance,Math.abs(t._startX-e.pageX)),n=t.handleSwipeEvents(e)),n}},{key:"touchEnd",value:function(e){return this.touchEndTime=new Date,this.handleUp(e)}},{key:"pointerUp",value:function(e){return this.handleUp(e)}},{key:"pointerCancel",value:function(e){this.pointerUp(e)}},{key:"touchCancel",value:function(e){this.touchEnd(e)}},{key:"mouseLeave",value:function(){this.isInBounds=!1}},{key:"mouseMove",value:function(e){if(!this.isTouchMoved)return this.handleMove(e)}},{key:"pointerMove",value:function(e){return this.handleMove(e)}},{key:"touchMove",value:function(e){for(var t=this,n=e.touches,r=e.changedTouches,a=n&&n.length?n[0]:r&&r.length?r[0]:void 0,o=0;o<t.inputEventProperties.length;o++){var i=t.inputEventProperties[o];void 0===e[i]&&(e[i]=a[i])}return t.isTouchMoved=!0,t.handleMove(e)}},{key:"handleSwipeEvents",value:function(e){var t=!0;return(this.handlers.swipetop||this.handlers.swipebottom)&&(t=this.handleVerticalSwipeEvents(e)),!1===t||(this.handlers.swipeleft||this.handlers.swiperight)&&(t=this.handleHorizontalSwipeEvents(e)),t}},{key:"handleVerticalSwipeEvents",value:function(e){var t;return t=e.pageY-this._startY,this.swiped(e,t,"vertical")}},{key:"handleHorizontalSwipeEvents",value:function(e){var t;return t=e.pageX-this._startX,this.swiped(e,t,"horizontal")}},{key:"swiped",value:function(e,t,n){var r=this;if(n=n||0,Math.abs(t)>=r.swipeMin&&!r._swipeEvent&&!r._swipeLocked){var a=t<0?"swipeleft":"swiperight";if("horizontal"===n?r._swipeEvent=r.createEvent(e,a):(a=t<0?"swipetop":"swipebottom",r._swipeEvent=r.createEvent(e,t<0?"swipetop":"swipebottom")),r[a]&&(r[a](this._swipeEvent),Math.abs(t)<=this.swipeMax))return e.stopImmediatePropagation(),!1}return!0}},{key:"resetSwipe",value:function(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}},{key:"initSwipe",value:function(e){var t=this;t._maxSwipeVerticalDistance=0,t._maxSwipeHorizontalDistance=0,t._startX=e.pageX,t._startY=e.pageY,t._swipeLocked=!1,t._swipeEvent=null,t._swipeTimeout=setTimeout((function(){t._swipeLocked=!0}),t.swipeDelay)}}]),e}(),x=function(){function e(t,n,r){f(this,e),this.container=t,this.horizontalScrollBar=n,this.verticalScrollBar=r,this.disableSwipeScroll=!1,this.listen()}return m(e,[{key:"scrollWidth",get:function(){return this.horizontalScrollBar?this.horizontalScrollBar.max:-1},set:function(e){e<0&&(e=0),this.horizontalScrollBar&&(this.horizontalScrollBar.max=e)}},{key:"scrollHeight",get:function(){return this.verticalScrollBar?this.verticalScrollBar.max:-1},set:function(e){e<0&&(e=0),this.verticalScrollBar&&(this.verticalScrollBar.max=e)}},{key:"scrollLeft",get:function(){return this.horizontalScrollBar?this.horizontalScrollBar.value:-1},set:function(e){e<0&&(e=0),this.horizontalScrollBar&&(this.horizontalScrollBar.value=e)}},{key:"scrollTop",get:function(){return this.verticalScrollBar?this.verticalScrollBar.value:-1},set:function(e){e<0&&(e=0),this.verticalScrollBar&&(this.verticalScrollBar.value=e)}},{key:"vScrollBar",get:function(){return this.verticalScrollBar}},{key:"hScrollBar",get:function(){return this.horizontalScrollBar}}]),m(e,[{key:"listen",value:function(){var e,t,n,r,a,o,i,l,s=this,u=g.isMobile,d=s.horizontalScrollBar,c=s.verticalScrollBar;s.inputEvents=new k(s.container);var p,h=function(e){return{amplitude:0,delta:0,initialValue:0,min:0,max:e.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:e,value:0,velocity:0}},f=h(d),v=h(c),m=function(){var e=s.container.touchVelocityCoefficient||50;o=Date.now(),i=o-r,r=o;var t=function(t){t.delta=t.value-t.previousValue,t.previousValue=t.value;var n=e*t.delta/(1+i);t.velocity=.8*n+.2*t.velocity};t(v),t(f)},b=function(e){return l.value=e>l.max?l.max:e<l.min?l.min:e,l.scrollBar.value=l.value,e>l.max?"max":e<l.min?"min":"value"};function y(){var e,n;l.amplitude&&(s.container.$.fireEvent("kineticScroll"),e=Date.now()-r,(n=-l.amplitude*Math.exp(-e/500))>5||n<-5?(b(l.targetValue+n),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(y)):b(l.targetValue))}s.inputEvents.down((function(t){if(u){var o=t.originalEvent.target,i=o&&o.closest?o.closest("smart-scroll-bar"):void 0;if(i!==s.horizontalScrollBar&&i!==s.verticalScrollBar){n=!0,e=!1;var l=function(e,t){e.amplitude=0,e.pointerPosition=t,e.previousValue=e.value,e.value=e.scrollBar.value,e.initialValue=e.value,e.max=e.scrollBar.max};l(v,t.clientY),l(f,t.clientX),r=Date.now(),clearInterval(a),a=setInterval(m,500)}}})),s.inputEvents.up((function(){if(!n)return!0;if(clearInterval(a),s.disableSwipeScroll)n=!1;else{var e=function(e){l=e,e.amplitude=.8*e.velocity,e.targetValue=Math.round(e.value+e.amplitude),r=Date.now(),cancelAnimationFrame(t),t=requestAnimationFrame(y),e.velocity=0};v.velocity>10||v.velocity<-10?e(v):(f.velocity>10||f.velocity<-10)&&e(f),n=!1}})),s.inputEvents.move((function(t){if(!n)return!0;if(!s.disableSwipeScroll&&(e&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()),f.visible=s.scrollWidth>0,v.visible=s.scrollHeight>0,n&&(f.visible||v.visible))){var r,a,o=s.container.touchScrollRatio,i=s.container;o&&("number"==typeof o?(r=-o,a=-o):"function"==typeof o&&(r=o(v.max,i.offsetHeight),a=o(f.max,i.offsetWidth))),v.ratio=r||-v.max/i.offsetHeight,v.delta=(t.clientY-v.pointerPosition)*v.ratio,f.ratio=a||-f.max/i.offsetWidth,f.delta=(t.clientX-f.pointerPosition)*f.ratio;var u="value",d=function(t,n,r){return t.delta>5||t.delta<-5?(l=t,"min"===(u=t.initialValue+t.delta>l.max?"max":t.initialValue+t.delta<l.min?"min":"value")&&0===t.initialValue||"max"===u&&t.initialValue===t.max||!t.visible||(s.container.$.fireEvent("kineticScroll"),b(t.initialValue+t.delta),m(),r.originalEvent.preventDefault(),r.originalEvent.stopPropagation(),e=!0,!1)):null},c=d(v,t.clientY,t);if(null!==c)return c;var p=d(f,t.clientX,t);return null!==p?p:void 0}})),s.scrollTo=function(e,n){var a=!1===n?f:v,o=!1;r||(r=Date.now()),p||(p=Date.now()),Math.abs(Date.now()-p)>375?r=Date.now():o=!0,p=Date.now(),a.value=a.scrollBar.value,a.delta=e-a.value,a.max=a.scrollBar.max,e<=a.min&&(e=a.min),e>=a.max&&(e=a.max),a.targetValue=e;var i=e,l=a.value;a.velocity=100*a.delta/(1+a.max),a.from=l;var u=function(e){return a.value=e>a.max?a.max:e<a.min?a.min:e,a.scrollBar.value=a.value,e>a.max?"max":e<a.min?"min":"value"};cancelAnimationFrame(t),t=requestAnimationFrame((function n(){var d,c=Date.now()-p,h=Math.min(1e3,Date.now()-r),f=a.velocity*Math.exp(h/175);if(o)(f<0&&a.value<=e||f>0&&a.value>=e)&&(f=0),(a.value+f<=a.min||a.value+f>=a.max)&&(f=0),f>.5||f<-.5?(u(a.value+f),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(n)):u(a.targetValue);else{if(c>=175)return cancelAnimationFrame(t),s.container.$.fireEvent("kineticScroll"),void(t=0);d=B.Animation.Easings.easeInSine(c,l,i-l,175),u(d),cancelAnimationFrame(t),t=0,t=requestAnimationFrame(n)}}))},s.inputEvents.listen()}},{key:"unlisten",value:function(){var e=this;e.inputEvents&&e.inputEvents.unlisten(),delete e.inputEvents}}]),e}(),D=function(){function e(t){f(this,e),this.events={},this.handlers={},this.element=t}return m(e,[{key:"hasClass",value:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)if(!this.element.classList.contains(t[n]))return!1;return!0}},{key:"addClass",value:function(e){var t=this;if(!t.hasClass(e)){for(var n=e.split(" "),r=0;r<n.length;r++)t.element.classList.add(n[r]);t.isNativeElement||w.observeElement(t.element)}}},{key:"removeClass",value:function(e){var t=this;if(0!==arguments.length){for(var n=e.split(" "),r=0;r<n.length;r++)t.element.classList.remove(n[r]);""===t.element.className&&t.element.removeAttribute("class"),t.isNativeElement||w.observeElement(t.element)}else t.element.removeAttribute("class")}},{key:"dispatch",value:function(e){var t=this.events[e.type],n=!1;if(t.length>1)for(var r=0;r<t.length;r++){var a=t[r];if(a.namespace&&a.namespace.indexOf("_")>=0){n=!0;break}}n&&t.sort((function(e,t){var n=e.namespace,r=t.namespace;return(n=-1===n.indexOf("_")?0:parseInt(n.substring(n.indexOf("_")+1)))<(r=-1===r.indexOf("_")?0:parseInt(r.substring(r.indexOf("_")+1)))?-1:n>r?1:0}));for(var o=0;o<t.length;o++){var i=t[o];if(e.namespace=i.namespace,e.context=i.context,e.defaultPrevented)break;var l=i.handler.apply(this.element,[e]);if(void 0!==l&&(e.result=l,!1===l)){e.preventDefault(),e.stopPropagation();break}}return e.result}},{key:"fireEvent",value:function(e,t,n){n||(n={bubbles:!0,cancelable:!0,composed:null!==this.element.getRootNode().host}),n.detail=t||{};var r=new CustomEvent(e,n);return r.originalStopPropagation=r.stopPropagation,r.stopPropagation=function(){return r.isPropagationStopped=!0,r.originalStopPropagation()},this.dispatchEvent(r),r}},{key:"dispatchEvent",value:function(e){var t=this,n=e.type,r=t.element.context,a=n.substring(0,1).toUpperCase()+n.substring(1);t.element.context=document,t.element["on"+a]?t.element["on"+a](e):t.element["on"+n.toLowerCase()]?t.element["on"+n.toLowerCase()](e):t.element.dispatchEvent(e),t.element.context=r}},{key:"listen",value:function(e,t){var n=this,r=e.split("."),a=r.slice(1).join("."),o=r[0];n.events[o]||(n.events[o]=[]);var i={type:o,handler:t,context:n.element,namespace:a};S.indexOf(o)>=0&&(n.inputEvents||(n.inputEvents=new k(n.element)),n.inputEvents[o]((function(e){n.dispatchEvent(e)})),n.inputEvents.boundEventTypes.push(o),n.inputEvents.listen(o)),0===n.events[o].length&&(n.handlers[o]=n.dispatch.bind(n),"wheel"===o?n.element.addEventListener("wheel",n.handlers[o],!!n.isPassiveSupported&&{passive:!1}):"touchmove"===o||"touchstart"===o||"touchend"===o?n.element.addEventListener(o,n.handlers[o],!!n.isPassiveSupported&&{passive:!1}):n.element.addEventListener(o,n.handlers[o],!1)),n.events[o].push(i)}},{key:"unlisten",value:function(e){var t=this,n=e.split("."),r=n.slice(1).join("."),a=n[0],o=t.events[a];if(t.inputEvents&&t.inputEvents.boundEventTypes.indexOf(a)>=0&&(t.inputEvents.boundEventTypes.splice(t.inputEvents.boundEventTypes.indexOf(a),1),0===t.inputEvents.boundEventTypes.length&&t.inputEvents.unlisten(a)),o){for(var i=0;i<o.length;i++){if(""!==r){var l=o.findIndex((function(e){return e.namespace===r}));o.splice(l,1);break}o=[]}0===o.length&&(t.element.removeEventListener(a,t.handlers[a]),t.events[a]=[],delete t.handlers[a])}}},{key:"getAttributeValue",value:function(e,t){var n=this,r=n.element.getAttribute(e);if(n.isNativeElement)return n.deserialize(r,t);var a=n.element.propertyByAttributeName[e];return void 0===a.deserialize?n.deserialize(r,t,a.nullable):n.element[a.deserialize](r)}},{key:"setAttributeValue",value:function(e,t,n){var r,a=this,o=!1;if(a.isNativeElement){if(r=a.serialize(t,n),"boolean"===n&&["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(e)>=0)return void(t?a.element.setAttribute(e,""):a.element.removeAttribute(e))}else{var i=a.element.propertyByAttributeName[e];o=!i||i.nullable,r=i&&i.serialize?a.element[i.serialize](t):a.serialize(t,n,o)}"array"!==n&&"object"!==n||"[]"!==r&&"{}"!==r?void 0===r?(a.element.removeAttribute(e),a.element.shadowRoot&&a.element.$.root&&a.element.$.root.removeAttribute(e)):(a.element.setAttribute(e,r),a.element.shadowRoot&&a.element.$.root&&a.element.$.root.setAttribute(e,r)):a.element.removeAttribute(e)}},{key:"serialize",value:function(e,t,n){if(void 0===t&&(t=B.Types.getType(e)),void 0!==e&&(n||null!==e)){if(n&&null===e)return"null";if("string"===t)return e;if("boolean"===t||"bool"===t){if(!0===e||"true"===e||1===e||"1"===e)return"";if(!1===e||"false"===e||0===e||"0"===e)return}return"array"===t?JSON.stringify(e):["string","number","int","integer","float","date","any","function"].indexOf(t)>=0?e.toString():"object"===t?JSON.stringify(e):void 0}}},{key:"deserialize",value:function(e,t,n){var r="null"===e;if(void 0!==e&&(!r||n)){if(r&&n)return null;if("boolean"===t||"bool"===t)return null!==e;if("number"===t||"float"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseFloat(e);if("int"===t||"integer"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseInt(e);if("string"===t)return e;if("any"===t)return e;if("date"===t)return new Date(e);if("function"===t){if("function"==typeof window[e])return window[e]}else if("array"===t||"object"===t)try{var a=JSON.parse(e);if(a)return a}catch(n){if(window[e]&&"object"==b(window[e]))return window[e];if("array"===t&&e.indexOf("[")>=0){if(e.indexOf("{")>=0){var o=e.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim();o=o.split("},");for(var i=0;i<o.length;i++){for(var l={},s=o[i].trim().split(","),u=0;u<s.length;u++){var d=s[u].split(":")[0].trim(),c=s[u].split(":")[1].trim();l[d]=c}o[i]=l}return o}return e.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}},{key:"isCustomElement",get:function(){return!!this.element.tagName.startsWith(t)||this.element instanceof window[t].BaseElement==1||"DIV"!==this.element.tagName&&"SPAN"!==this.element.tagName&&"BUTTON"!==this.element.tagName&&"INPUT"!==this.element.tagName&&"UL"!==this.element.tagName&&"LI"!==this.element.tagName&&document.createElement(this.element.nodeName)instanceof window[t].BaseElement==1}},{key:"isNativeElement",get:function(){return!this.isCustomElement}},{key:"isPassiveSupported",get:function(){var e=this;if(void 0!==e.supportsPassive)return e.supportsPassive;e.supportsPassive=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e.supportsPassive}}]),e}(),T=function(){function e(){f(this,e)}return m(e,null,[{key:"Ripple",get:function(){return p}},{key:"Easings",get:function(){return v}}]),e}(),B=function(){function e(){f(this,e)}return m(e,null,[{key:"Extend",value:function(e){return new D(e)}},{key:"Assign",value:function(t,n){if(t.indexOf(".")>=0){var r=t.split(".");return e[r[0]]||(e[r[0]]={}),void(e[r[0]][r[1]]=n)}e[t]=n}},{key:"Types",get:function(){return c}},{key:"Core",get:function(){return g}},{key:"Animation",get:function(){return T}},{key:"Scroll",get:function(){return x}},{key:"InputEvents",get:function(){return k}}]),e}(),$=B.Extend(document),A=function e(){f(this,e)};A.cache={};var E=function(n){s(a,n);var r=o(a);function a(){return f(this,a),r.apply(this,arguments)}return m(a,[{key:"getBindings",value:function(e,t){var n=this,r=0,a={},o=function(e){if(e instanceof HTMLElement)return n.parseAttributes(e);var t=n.parseProperty(e.data?e.data.trim():null,"textContent",e);return t?(n&&e.parentNode===n.$.content&&(t.value=""!==n.$.html?n.$.html:void 0,n.innerHTML=""),{textContent:t}):void 0}(e);o&&(a.data=o),t||(a.mapping=[],t=a),e.getAttribute&&(a.nodeId=e.getAttribute("smart-id"),t&&o&&(t.mapping[a.nodeId]=o)),a.node=e,e.firstChild&&(a.children={});for(var i=e.firstChild;i;i=i.nextSibling)a.children[r++]=n.getBindings(i,t);return a}},{key:"_addRemovePropertyBinding",value:function(e,t,n,r,a){if(e&&t&&n){var o=this,i=o.bindings,l=n.getAttribute("smart-id"),s=e.indexOf("{{")>=0,u=!1;(e=e.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(e=e.replace("!",""),u=!0);var d=o._properties[e],c={name:e,reflectToAttribute:d.reflectToAttribute,twoWay:s,type:d.type,not:u};if(a&&!r){var p={},h={name:e,targetPropertyName:t,reflectToAttribute:d.reflectToAttribute,twoWay:s,type:d.type,not:u};p[e]=h,i.mapping[l]=p}(function e(a){for(var i in a){var s=a[i];if(s.nodeId===l){s.data||(s.data={}),r?(s.data[t]=null,delete s.data[t]):s.data[t]=c;break}if(s.children)e(s.children);else if(s.node&&s.node.children&&s.node===n.parentElement){var u=s.node;if(!u.firstChild)continue;s.children={};for(var d=0,p=u.firstChild;p;p=p.nextSibling)s.children[d++]=o.getBindings(p);e(s.children)}}})(i.children),r?delete o.boundProperties[e]:o.boundProperties[e]=!0,o.updateBoundNodes(e)}}},{key:"addPropertyBinding",value:function(e,t,n,r){this._addRemovePropertyBinding(e,t,n,!1,r)}},{key:"removePropertyBinding",value:function(e,t,n,r){this._addRemovePropertyBinding(e,t,n,!0,r)}},{key:"parseAttributes",value:function(e){for(var t=this,n=void 0,r=0;r<e.attributes.length;r++){var a=e.attributes[r],o=a.name,i=a.value;A.cache["toCamelCase"+o]||(A.cache["toCamelCase"+o]=B.Core.toCamelCase(o));var l=A.cache["toCamelCase"+o];if(o.indexOf("(")>=0){var s=o.substring(1,o.length-1);if(t&&!t.dataContext){t.templateListeners[e.getAttribute("smart-id")+"."+s]=i,e.removeAttribute(o);continue}n||(n={});var u=i.substring(0,i.indexOf("("));n[l]={isEvent:!0,name:s,value:u}}else{var d=t.parseProperty(i,o,e);d&&(n||(n={}),n[l]=d)}}return n}},{key:"parseProperty",value:function(e,t){if(e&&e.length){for(var n,r=this,a=e.length,o=0,i=0,l=0,s=!0;i<a;){o=e.indexOf("{{",i);var u=e.indexOf("[[",i),d="}}";if(u>=0&&(o<0||u<o)&&(o=u,s=!1,d="]]"),(l=o<0?-1:e.indexOf(d,o+2))<0)return;n=n||{};var c=e.slice(o+2,l).trim();n.name=c,i=l+2}var p=n.name,h=r?r._properties[p]:null;return n.twoWay=s,n.ready=!1,r&&(p.indexOf("::")>=0?r.boundProperties[p.substring(0,p.indexOf("::"))]=!0:r.boundProperties[p]=!0),h?(n.type=h.type,n.reflectToAttribute=h.reflectToAttribute):(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(t)>=0?n.type="boolean":n.type="string",n.reflectToAttribute=!0),n}}},{key:"updateTextNodes",value:function(){this.updateTextNode(this.shadowRoot||this,this.bindings,this)}},{key:"updateTextNode",value:function(e,t,n){if(t){for(var r=0,a=e.firstChild;a&&t.children;a=a.nextSibling)this.updateTextNode(a,t.children[r++],n);if(t&&t.data)for(var o in t.data){var i=t.data[o],l=i.name;"textContent"===o&&i.twoWay&&!i.updating&&void 0!==i.value&&(n[l]=i.value)}}}},{key:"updateBoundProperty",value:function(e,t){if(!t.updating){t.updating=!0,this[e]=t.value,t.updating=!1}}},{key:"updateBoundNodes",value:function(e){var t=this;if(t.updateBoundNode(t.shadowRoot||t,t.bindings,t,e),t.detachedChildren.length>0)for(var n=function(n){var r=t.detachedChildren[n],a=r.getAttribute("smart-id"),o=function e(t){if(t.nodeId===a)return t;for(var n in t.children){var r=t.children[n];if((r.getAttribute?r.getAttribute("smart-id"):"")===a)return t;if(r.children){var o=e(r);if(o)return o}}return null}(t.bindings);if(o)t.updateBoundNode(r,o,t,e,!0);else if(r.getAttribute&&t.bindings.mapping){var i=t,l=t.bindings;if(l)for(var s in l.mapping){var u=i.querySelector('[smart-id="'+s+'"]');if(u){var d=l.mapping[s];t.updateBoundData(u,d,i,e)}}}},r=0;r<t.detachedChildren.length;r++)n(r)}},{key:"updateBoundMappedNodes",value:function(){var e=this,t=e.bindings,n=e;if(t.mapping)for(var r in t.mapping){var a=n.querySelector('[smart-id="'+r+'"]');if(n.shadowRoot&&((a=n.querySelector('[id="'+r+'"]'))||(a=n.shadowRoot.querySelector('[id="'+r+'"]')||n.shadowRoot.querySelector('[smart-id="'+r+'"]'))),a){var o=t.mapping[r];e.updateBoundData(a,o,n)}else if(n.getAttribute("aria-controls")){var i=document.getElementById(n.getAttribute("aria-controls"));if(!i&&n.shadowRoot&&(i=n.shadowRoot.getElementById(n.getAttribute("aria-controls"))),a=i.querySelector('[smart-id="'+r+'"]')){var l=t.mapping[r];e.updateBoundData(a,l,n)}}}}},{key:"updateBoundNode",value:function(e,t,n,r,a){var o=this;if(t){var i=0;if(a){if(a&&!t.data)for(var l=e.firstChild;l&&t.children;l=l.nextSibling)l.getAttribute?function(){var e=l.getAttribute("smart-id"),a=function(){for(var n in t.children)if(t.children[n].nodeId===e)return t.children[n]}();o.updateBoundNode(l,a,n,r),i++}():o.updateBoundNode(l,t.children[i++],n,r,a)}else for(var s=e.firstChild;s&&t.children;s=s.nextSibling)s.getAttribute?function(){var e=s.getAttribute("smart-id"),a=function(){for(var n in t.children)if(t.children[n].nodeId===e)return t.children[n]}();o.updateBoundNode(s,a,n,r),i++}():o.updateBoundNode(s,t.children[i++],n,r);if(t&&t.data){var u=t.data;o.updateBoundData(e,u,n,r)}}}},{key:"updateBoundData",value:function(e,t,n,r){var a=this,o=function(o){var i=t[o],l=i.name;if(!i.updating&&(l.indexOf("::")>=0&&(l=l.substring(0,l.indexOf("::"))),void 0===r||r===l)){if(l.indexOf("(")>=0){var s=l.substring(l.indexOf("(")),u=l.substring(0,l.indexOf("("));if((s=(s=(s=s.substring(1,s.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==s[0]){for(var d=[],c=0;c<s.length;c++)d.push(n[s[c]]);i.value=n[u].apply(n,d)}else i.value=n[u]();i.type=b(i.value)}else i.value=n[l];if("innerHTML"===l?e[o].toString().trim()!==n[l].toString().trim()&&(i.ready||n._properties[l].defaultValue!==i.value)&&(e[o]=i.value.toString().trim()):i.not?(e[o]=!i.value,i.targetPropertyName&&(e[i.targetPropertyName]=!i.value)):(e[o]=i.value,i.targetPropertyName&&(e[i.targetPropertyName]=i.value)),e.$&&e.$.isNativeElement){A.cache["toDash"+o]||(A.cache["toDash"+o]=B.Core.toDash(o));var p=A.cache["toDash"+o],h=e.$.getAttributeValue(p,i.type);!i.reflectToAttribute||h===i.value&&i.ready||e.$.setAttributeValue(p,i.value,i.type),i.reflectToAttribute||e.$.setAttributeValue(p,null,i.type)}if(!i.ready){if(e.$&&e.$.isCustomElement){A.cache["toDash"+o]||(A.cache["toDash"+o]=B.Core.toDash(o));var f=A.cache["toDash"+o];e._properties||(e._beforeCreatedProperties=e._properties=e.propertyByAttributeName=[]),e._properties[o]||(e._properties[o]={attributeName:f},e._beforeCreatedProperties&&(e._beforeCreatedProperties[o]=e._properties[o]),e.propertyByAttributeName[f]=e._properties[o]);var v=e._properties[o];v.isUpdating=!0,i.reflectToAttribute&&(i.not?e.$.setAttributeValue(v.attributeName,!i.value,i.type):e.$.setAttributeValue(v.attributeName,i.value,i.type)),i.reflectToAttribute||e.$.setAttributeValue(v.attributeName,null,i.type),v.isUpdating=!1}if(i.twoWay){var m=function(t){if(i.value=t,e.$&&e.$.isNativeElement){A.cache["toDash"+o]||(A.cache["toDash"+o]=B.Core.toDash(o));var n=A.cache["toDash"+o],r=e.$.getAttributeValue(n,i.type);i.reflectToAttribute&&r!==i.value&&e.$.setAttributeValue(n,i.value,i.type),i.reflectToAttribute||e.$.setAttributeValue(n,null,i.type)}};if(i.name.indexOf("::")>=0){var g=i.name.indexOf("::"),y=i.name.substring(g+2);a["$"+e.getAttribute("smart-id")].listen(y,(function(){m(e[o]);var t=i.name.substring(0,i.name.indexOf("::"));a.updateBoundProperty(t,i)}))}if(e.$&&e.$.isCustomElement){e._properties[o]&&(e._properties[o].notify=!0),A.cache["toDash"+o]||(A.cache["toDash"+o]=B.Core.toDash(o));var w=A.cache["toDash"+o];a["$"+e.getAttribute("smart-id")].listen(w+"-changed",(function(e){var t=e.detail;m(t.value);var n=a.context;e.context!==document&&(a.context=a),a.updateBoundProperty(i.name,i),a.context=n}))}}}i.ready=!0}};for(var i in t)o(i)}},{key:"addMessages",value:function(e,t){Object.assign(this.messages[e],t)}},{key:"localize",value:function(e,t){var n=this;if(n.messages&&n.messages[n.locale]){var r=n.messages[n.locale][e];if(""===r)return"";if(r){var a=r;for(var o in t){var i=t[o];r=r.replace(new RegExp("{{"+o+"}}","g"),i)}return n.localizeFormatFunction&&n.localizeFormatFunction(a,r,t),r}}}},{key:"log",value:function(e){this._logger("log",e)}},{key:"warn",value:function(e){this._logger("warn",e)}},{key:"error",value:function(e){this._logger("error",e)}},{key:"_logger",value:function(e,t){if(this.debugMode){var n=t instanceof Error?t.message:t.toString();console[e](n)}if(this.rethrowError&&"error"===e)throw t}},{key:"template",value:function(){return"<div></div>"}},{key:"registered",value:function(){this.onRegistered&&this.onRegistered()}},{key:"created",value:function(){var e=this;e.isReady=!1,e._initElement(e),e._setModuleState("created"),e.onCreated&&e.onCreated()}},{key:"completed",value:function(){var e=this;e.isCompleted=!0,e._onCompleted&&e._onCompleted(),e.onCompleted&&e.onCompleted()}},{key:"whenReady",value:function(e){var t=this;t.isCompleted?e():(t.whenReadyCallbacks||(t.whenReadyCallbacks=[]),t.whenReadyCallbacks.push(e))}},{key:"whenRendered",value:function(e){var t=this;t.isRendered?e():(t.whenRenderedCallbacks||(t.whenRenderedCallbacks=[]),t.whenRenderedCallbacks.push(e))}},{key:"addThemeClass",value:function(){var e=this;""!==e.theme&&e.classList.add("smart-"+e.theme)}},{key:"addDefaultClass",value:function(){this.classList.add(t.toLowerCase()+"-element"),this.classList.add(this.nodeName.toLowerCase())}},{key:"_renderShadowRoot",value:function(){var e=this;if(e.shadowRoot){e.$.root.classList.add(e.nodeName.toLowerCase());for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t];"class"===n.name||"id"===n.name||"style"===n.name||"tabindex"===n.name||n.name.indexOf("aria")>=0||e.$.root.setAttribute(n.name,n.value)}for(var r=0;r<e.classList.length;r++){var a=e.classList[r];"smart-element-init"!==a&&"smart-element"!==a&&"smart-hidden"!==a&&"smart-visibility-hidden"!==a&&e.$.root.classList.add(a)}}}},{key:"render",value:function(){var e=this;if(!e.isRendered&&(e.isRendered=!0,e.isRendering=!1,e.context=document,e._renderShadowRoot(),e.whenRenderedCallbacks)){for(var t=0;t<e.whenRenderedCallbacks.length;t++)e.whenRenderedCallbacks[t]();e.whenRenderedCallbacks=[]}e.onRender&&e.onRender(),e.disabled&&e.setAttribute("aria-disabled",!0),e.readonly&&-1!==["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(e.getAttribute("role"))&&e.setAttribute("aria-readonly",!0)}},{key:"ready",value:function(){var e=this;if(e._setId(),e.addThemeClass(),e.addDefaultClass(),"collapsed"===e.visibility?e.classList.add("smart-hidden"):"hidden"===e.visibility&&e.classList.add("smart-visibility-hidden"),e.dataContext&&e.applyDataContext(),e.onReady&&e.onReady(),e.shadowRoot&&Smart(e._selector)){if(Smart(e._selector).styleUrls)for(var t=Smart(e._selector).styleUrls,n=0;n<t.length;n++)e.importStyle(t[n]);if(Smart(e._selector).styles){var r=document.createElement("style");r.innerHTML=Smart(e._selector).styles,e.shadowRoot.insertBefore(r,e.shadowRoot.firstChild)}}Smart(e._selector)&&Smart(e._selector).ready&&Smart(e._selector).ready()}},{key:"_setId",value:function(){var e=this;if(!e.id){var t=e.elementName;e.id=t.slice(0,1).toLowerCase()+t.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}},{key:"checkLicense",value:function(){"Evaluation"===window[t].License&&-1===window.location.hostname.indexOf("htmlelements")&&(this.logWatermark(),this.logLicense(),window[t].License="")}},{key:"logWatermark",value:function(){var e=document.createElement("a");e.href="https://www.htmlelements.com/",e.innerHTML="https://www.htmlelements.com/",e.style.position="absolute",e.style.right="5px",e.style.bottom="5px",e.style.color="#fff",e.style.padding="20px",e.style.borderRadius="5px",e.style.background="#0C3D78",e.style.cursor="pointer",e.style.zIndex="999999",e.style.display="block",e.style.fontSize="24px",e.style.textDecoration="none",e.style.fontWeight="bold",e.style.opacity=0,e.style.transition="opacity .35s ease-in-out",e.id="watermark",document.getElementById("watermark")||setTimeout((function(){document.getElementById("watermark")||(document.body.appendChild(e),setTimeout((function(){e.style.opacity=1})),setTimeout((function(){e.style.opacity=0,setTimeout((function(){e.parentNode.removeChild(e)}),350)}),6e3))}),1e3)}},{key:"logLicense",value:function(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*jQWidgets License Key Not Found."),console.log("*This is an EVALUATION only Version, it is NOT Licensed for software projects intended for PRODUCTION."),console.log("*if you want to hide this message, please send an email to: sales@jqwidgets.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}},{key:"applyDataContext",value:function(e){var t=this,n="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext;if(e&&(n=e,t.dataContext=e),n){if(!n._uid){n._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),n._properties=[];var r=function(e){var r=n[e];"function"!=typeof r&&"_properties"!==e&&"_uid"!==e&&(n._properties[e]=r,Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:function(){return n._properties[e]},set:function(r){var a=n._properties[e];n._properties[e]=r;var o=[];o[e]={oldValue:a,value:r},o.length++,t.updatingDataContext=!0,$.fireEvent("dataContextPropertyChanged",{dataContext:n,properties:o},{bubbles:!1,cancelable:!0}),t.updatingDataContext=!1}}))};for(var a in n)r(a)}if(t.dataContextProperties=t.parseAttributes(t),t.dataContextPropertiesMap={},t.dataContextListeners={},t.dataContextProperties){for(var o in t.updatingDataContext=!0,t.dataContextProperties){var i=t.dataContextProperties[o],l=i.name;if(i.propertyName=o,t.dataContextPropertiesMap[l]=o,A.cache["toDash"+o]||(A.cache["toDash"+o]=B.Core.toDash(l)),i.isEvent&&function(){var e=i.value;t.dataContextListeners[l]&&t.removeEventListener(l,t.dataContextListeners[l]),t.dataContextListeners[l]=function(t){n[e](t)},t.addEventListener(l,t.dataContextListeners[l])}(),l.indexOf(".")>=0){for(var s=l.split("."),u=n[s[0]],d=1;d<s.length;d++)u=u[s[d]];void 0!==u&&(t[o]=u)}else t[o]=n[l]}t.dataContextPropertyChangedHandler=function(e){var n=e.detail.properties;if(e.detail.dataContext===("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext))for(var r in n){var a=t.dataContextPropertiesMap[r],o=t.context;a&&(t.context=document,t[a]=n[r].value,t.context=o)}},$.listen("dataContextPropertyChanged",t.dataContextPropertyChangedHandler),t.updatingDataContext=!1}else t.dataContextProperties=null}else{t.dataContextProperties=null;window.addEventListener("load",(function e(){("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext)&&(t.applyDataContext(),window.removeEventListener("load",e))}))}}},{key:"updateDataContextProperty",value:function(e){var t=this,n="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext,r=t.dataContextProperties[e];if(!t.updatingDataContext&&r.twoWay){var a=r.name;if(a.indexOf(".")>=0){for(var o=a.split("."),i=n[o[0]],l=1;l<o.length;l++)i=i[o[l]];void 0!==i&&(i=t[e],_[n._uid]&&(_[n._uid][e]=i))}else n[a]=t[e],_[n._uid]&&(_[n._uid][e]=n[a])}}},{key:"initProperties",value:function(){var e=this;if(Smart(e._selector)&&Smart(e._selector).properties&&(e._initProperties=Smart(e._selector).properties),e.hasAttribute("props")&&!e.props?e._initProperties=window[e.getAttribute("props")]:e.props&&(e._initProperties=e.props),e._initProperties)for(var t=Object.keys(e._initProperties),n=0;n<t.length;n++){var r=t[n],a=e._initProperties[r];if(a.constructor===Smart.ObservableArray||a instanceof Smart.ObservableArray)e[r]=a.toArray();else if(a.constructor===Smart.DataAdapter||"smartDataAdapter"===a.constructor.name||"object"==b(a)&&Smart.DataAdapter&&a instanceof Smart.DataAdapter||a instanceof Smart.Observable||a.constructor===Smart.Observable||"object"!=b(a)||B.Types.isArray(a)||a instanceof Date){if(void 0===e[r]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(r)){var o=e.localize("propertyUnknownName",{name:r});e.log(o)}e[r]=a}else"messages"!==r&&"dataSourceMap"!==r?"object"==b(a)&&function t(n,r){for(var a=Object.keys(n),o=0;o<a.length;o++){var i=a[o],l=n[i],s=e._properties[r+"_"+i];if(s&&null===s.value){if(void 0===e[r+"_"+i]){var u=e.localize("propertyUnknownName",{name:r+"_"+i});e.log(u)}e[r+"_"+i]=l}else if("object"==b(l)&&!B.Types.isArray(l)&&l&&l.constructor!==Date)t(l,r+"_"+i);else{if(void 0===e[r+"_"+i]){var d=e.localize("propertyUnknownName",{name:r+"_"+i});e.log(d)}e[r+"_"+i]=l}}}(a,r):e[r]=a}}},{key:"setup",value:function(){var e=this;if(e.context=this,!e.isReady||e.isCompleted){if(e.isReady)return e._setModuleState("attached"),e.isAttached=!0,e.attached(),e._handleListeners("listen"),void(e.context=document);e.ownerElement&&e.ownerElement.detachedChildren.indexOf(e)>=0&&e.ownerElement.detachedChildren.splice(e.ownerElement.detachedChildren.indexOf(e),1),e.isReady=!0,e.methods=e.getStaticMember("methods"),e.initProperties(),g.isMobile&&e.classList.add("smart-mobile");for(var n=0;n<e.attributes.length;n+=1){var r=e.propertyByAttributeName[e.attributes[n].name];if(r){var a=e.$.getAttributeValue(r.attributeName,r.type),o=a?a.toString():"";if(!(o.indexOf("{{")>=0||o.indexOf("[[")>=0||"object"!==r.type&&"array"!==r.type&&(e.attributes[n].value.indexOf("{{")>=0||e.attributes[n].value.indexOf("[[")>=0)||void 0===a||r.value===a)){var i=B.Types.getType(a),l=e.attributes[n].value;if(("any"===r.type||"object"===r.type)&&""+e[r.name]===a)continue;if("array"===r.type&&e[r.name]&&JSON.stringify(e[r.name])===a)continue;if("number"===i&&isNaN(a)&&"NaN"!==l&&"Infinity"!==l&&"-Infinity"!==l){var s=e.localize("propertyInvalidValueType",{name:r.name,actualType:"string",type:r.type});e.log(s)}r.isUpdatingFromAttribute=!0,e[r.name]=a,r.isUpdatingFromAttribute=!1}}}for(var u in e._properties){var d=e._properties[u];if("innerHTML"===u&&d.value===d.defaultValue&&(d.value=d.defaultValue=B.Core.html(e)),"boolean"!==d.type&&"bool"!==d.type||"false"===e.getAttribute(d.attributeName)&&(d.isUpdating=!0,e.setAttribute(d.attributeName,""),d.isUpdating=!1),d.defaultReflectToAttribute&&d.reflectToAttribute){if(d.defaultReflectToAttribute&&d.defaultReflectToAttributeConditions){for(var c=!0,p=0;p<d.defaultReflectToAttributeConditions.length;p++){var h=d.defaultReflectToAttributeConditions[p],f=void 0,v=void 0;for(var m in h)f=m,v=h[m];e._properties[f]&&e._properties[f].value!==v&&(c=!1)}if(!c)continue}d.isUpdating=!0,e.$.setAttributeValue(d.attributeName,d.value,d.type),d.isUpdating=!1}}var b=[];if(e.children.length>0)for(var y=0;y<e.children.length;y++){var w=e.children[y];B.Extend(w).isCustomElement&&b.push(w)}e.applyTemplate(),e.complete=function(){if(!e.templateBindingsReady){var t=function(e){e.templateBindingsReady||(e.templateBindingsReady=!0,e.updateTextNodes(),e.updateBoundNodes())};if(e.ownerElement){for(var n=e.ownerElement,r=[];n;)r.push(n),n=n.ownerElement;for(var a=r.length-1;a>=0;a--)t(r[a]);t(e)}else t(e)}var o=function(){if(e._setModuleState("ready"),e.ready(),"auto"!==e.renderMode||e.isRendered||e.render(),e.isAttached=!0,e._setModuleState("attached"),e.attached(),e._handleListeners("listen"),e.isHidden||0!==e.offsetWidth&&0!==e.offsetHeight||(e.isHidden=!0),e.completed(),e.isRendered&&(e.context=document),e.whenReadyCallbacks){for(var t=0;t<e.whenReadyCallbacks.length;t++)e.whenReadyCallbacks[t]();e.whenReadyCallbacks=[]}};if(e.wait)e.classList.add("smart-visibility-hidden");else if(e.classList.contains("smart-async"))requestAnimationFrame((function(){o()}));else{var i=e.shadowParent;e.shadowParent=null;var l=e.parents;if(e.shadowParent=i,0===l.length)return;var s=function(){for(var t=e.ownerElement,n=[];t;)n.push(t),t=t.ownerElement;for(var r=n.length-1;r>=0;r--)n[r].updateBoundMappedNodes()};e.ownerElement&&"HTML"!==l[l.length-1].nodeName?e.getRootNode().host?o():e.ownerElement&&"HTML"===e.ownerElement.parents[e.ownerElement.parents.length-1].nodeName?(s(),o()):e.checkIsInDomInterval=setInterval((function(){var t=e.parents;"HTML"===t[t.length-1].nodeName&&(clearInterval(e.checkIsInDomInterval),s(),o())}),100):o()}};var _=[].slice.call(e.querySelectorAll("[smart-id]")).concat(b);if(window[t].EnableShadowDOM&&!0!==e.isInShadowDOM&&(_=[].slice.call(e.shadowRoot.querySelectorAll("[smart-id]")).concat(b)),0===_.length)e.complete();else{e._completeListeners=0;for(var C=function(t){var n=_[t];if(B.Extend(n).isCustomElement){var r=function(){e._completeListeners--,0===e._completeListeners&&(e.complete(),delete e._completeListeners)}.bind(e);n.isCompleted||n.isUtilityElement||!0===n.wait||(e._completeListeners++,n._onCompleted||(n.completeHandlers=[],n._onCompleted=function(){for(var e=0;e<n.completeHandlers.length;e++)n.completeHandlers[e]()}),n.completeHandlers.push(r))}},S=0;S<_.length;S++)C(S);0===e._completeListeners&&e.complete()}}}},{key:"visibilityChangedHandler",value:function(){var e=this;e.isReady&&requestAnimationFrame((function(){0===e.offsetWidth||0===e.offsetHeight?e.isHidden=!0:(e.isHidden=!1,e.$.fireEvent("resize",e,{bubbles:!1,cancelable:!0}))}))}},{key:"attributeChangedCallback",value:function(e,t,n){var r=this,a=r.propertyByAttributeName[e];if("class"!==e&&"style"!==e||r.visibilityChangedHandler(),a||r.attributeChanged(e,t,n),r.onAttributeChanged&&r.onAttributeChanged(e,t,n),!(!a||a&&a.isUpdating)){var o=r.$.getAttributeValue(a.attributeName,a.type);void 0!==n&&r[a.name]!==o&&(a.isUpdatingFromAttribute=!0,r[a.name]=void 0!==o?o:r._properties[a.name].defaultValue,a.isUpdatingFromAttribute=!1)}}},{key:"attributeChanged",value:function(e,t,n){}},{key:"attached",value:function(){var e=this;e.hasStyleObserver&&w.watch(e),e.onAttached&&e.onAttached(),Smart(e._selector)&&Smart(e._selector).attached&&Smart(e._selector).attached()}},{key:"detached",value:function(){var e=this;e.hasStyleObserver&&w.unwatch(e),e._setModuleState("detached"),e.isAttached=!1,e.ownerElement&&-1===e.ownerElement.detachedChildren.indexOf(e)&&e.ownerElement.detachedChildren.push(e),e._handleListeners("unlisten"),e.onDetached&&e.onDetached(),Smart(e._selector)&&Smart(e._selector).detached&&Smart(e._selector).detached(),C&&C[e._selector]&&delete C[e._selector]}},{key:"propertyChangedHandler",value:function(e,t,n){var r=this;t!==n&&("theme"===e&&(""!==t&&r.classList.remove("smart-"+t),""!==n&&r.classList.add("smart-"+n)),"visibility"===e?("collapsed"===t?r.classList.remove("smart-hidden"):"hidden"===t&&r.classList.remove("smart-visibility-hidden"),"collapsed"===n?r.classList.add("smart-hidden"):"hidden"===n&&r.classList.add("smart-visibility-hidden")):("disabled"===e||"readonly"===e)&&r._ariaPropertyChangedHandler(e,n),r.propertyChanged&&r.propertyChanged(e,t,n))}},{key:"_ariaPropertyChangedHandler",value:function(e,t){var n=this;"readonly"===e&&-1===["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(n.getAttribute("role"))||(t?n.setAttribute("aria-"+e,!0):n.removeAttribute("aria-"+e))}},{key:"_handleListeners",value:function(e){var t=this,n=t.tagName.toLowerCase(),r=function(r){var a=function(a){var o=a.split("."),i=o[0],l=t.$;if(o[1])if(i=o[1],l=t["$"+o[0]],"document"===o[0]){var s=t.smartId;""===s&&(s=B.Core.toCamelCase(n)),i=i+"."+s}else t.smartId&&(i=i+"."+t.smartId+"_"+t.parents.length);else t.smartId&&(i=i+"."+t.smartId);var u=r[a];l&&l[e](i,(function(e){var n=t.context;t.context=t,t[u]&&t[u].apply(t,[e]),t.context=n}))};for(var o in r)a(o)};r(t.getStaticMember("listeners")),r(t.templateListeners),Smart(t._selector)&&Smart(t._selector).properties&&r(Smart(t._selector).listeners)}},{key:"parseTemplate",value:function(){var t=this,n=t.template(),r=document.createDocumentFragment();if(e[t.nodeName]&&!d)return e[t.nodeName].cloneNode(!0);if(""===n)return null;var a=document.createElement("div");r.appendChild(a),a.innerHTML=n;var o=a.childNodes;a.parentNode.removeChild(a);for(var i=0;i<o.length;i++)r.appendChild(o[i]);return e[t.nodeName]=r,d?r:r.cloneNode(!0)}},{key:"applyTemplate",value:function(){var e=this,t=e.parseTemplate();if(t&&t.hasChildNodes){var n=t.childNodes[0],r=function(t,n){e["$"+t]=n.$=B.Extend(n),e.$[t]=n,n.ownerElement=e},a=n;if(n.getElementsByTagName("content").length>0){var o=n.getElementsByTagName("content")[0];(a=o.parentNode).removeChild(o)}else{var i=t.querySelectorAll("[inner-h-t-m-l]");i&&i.length>0&&(a=i[0])}e.$.template="template"===n.nodeName.toLowerCase()?n:n.querySelector("template");var l=t.querySelectorAll("[id]");0===l.length&&(l=t.querySelectorAll("*")),r("root",n),r("content",a),e.$.html=e.innerHTML.toString().trim();for(var s=0;s<l.length;s+=1){var u=l[s];""===u.id&&(u.id="child"+s),r(u.id,u),u.setAttribute("smart-id",u.id),e.shadowRoot?u.shadowParent=e:u.removeAttribute("id")}for(!1!==e.hasTemplateBindings?e.bindings=e.getBindings(t):e.bindings=[],e.$root.addClass("smart-container");e.childNodes.length;)a.appendChild(e.firstChild);if(e.appendTemplate(t),e.$.template){var d=document.createElement("div");d.classList.add("smart-template-container"),e.$.templateContainer=d,e.$.template.parentNode.insertBefore(d,e.$.template),e.refreshTemplate()}}}},{key:"refreshTemplate",value:function(){var e=this;if(e.$.templateContainer){e.templateDetached(e.$.templateContainer);var t=e.$.template.content.cloneNode(!0);e.templateBindings=e.getBindings(t),e.templateProperties=[];var n=document.createDocumentFragment();(function t(n,r,a){for(var o in n){var i=n[o],l=i.node.cloneNode();r.appendChild(l);var s=[],u=!1;if(i.data)for(var d in i.data){var c=i.data[d],p=c.name;if(e.templateProperties[p]=!0,l.removeAttribute(B.Core.toDash(d)),"*items"===d)s=e[p],u=!0;else if(p.indexOf("item.")>=0&&void 0!==a)c.value=a[p.substring("item.".length)],l[d]=c.value;else if(p.indexOf("item")>=0&&void 0!==a)c.value=a,l[d]=c.value;else if("*if"===d)if(p.indexOf("(")>=0){var h=void 0,f=p.substring(p.indexOf("(")),v=p.substring(0,p.indexOf("("));if((f=(f=(f=f.substring(1,f.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==f[0]){for(var m=[],b=0;b<f.length;b++)m.push(e[f[b]]);h=e[v].apply(e,m)}else h=e[v]();!1===h&&r.removeChild(l)}else e[p]||r.removeChild(l);else e.updateBoundNode(l,i,e,p)}if(s.length>0||u){for(var g=0;g<s.length;g++)i.children&&t(i.children,l,s[g]);if("number"==typeof s)for(var y=0;y<s;y++)i.children&&t(i.children,l,y)}else i.children&&t(i.children,l,a)}})(e.templateBindings.children,n),e.$.templateContainer.innerHTML="",e.$.templateContainer.appendChild(n),e.templateAttached(e.$.templateContainer)}}},{key:"templateAttached",value:function(){}},{key:"templateDetached",value:function(){}},{key:"appendTemplate",value:function(e){this.appendChild(e)}},{key:"defineElementModules",value:function(){var e=this,t=e.constructor.prototype;if("BaseElement"===t.elementName){t.modules=e.constructor.modules;for(var n=t.modules,r=0;r<n.length;r+=1)e.addModule(n[r])}else{var a=t.modules;if(!a)return;for(var o=0;o<a.length;o+=1){var i=a[o],l=i.prototype;e.defineElementMethods(l.methodNames,l),e.defineElementProperties(i.properties)}}}},{key:"watch",value:function(e,t){this._watch=null!==e&&null!==t?{properties:e,propertyChangedCallback:t}:null}},{key:"unwatch",value:function(){this._watch=null}},{key:"set",value:function(e,t,n){var r=this,a=r.context;r.context=!0===n?document:r,r[e]=t,r.context=a}},{key:"get",value:function(e){return this[e]}},{key:"_setModuleState",value:function(e,t){for(var n="is"+e.substring(0,1).toUpperCase()+e.substring(1),r="on"+e.substring(0,1).toUpperCase()+e.substring(1),a=0;a<this.modulesList.length;a++){var o=this.modulesList[a];o[n]=!0,o[e]&&o[e](t),o[r]&&o[r](t)}}},{key:"addModule",value:function(e,t){var n=this;if(e){var r=n.modules.slice(0),a=e.prototype,o=Object.getPrototypeOf(e);if(o.name&&o.name!==e.name&&n.addModule(o),!e.moduleName&&e.name&&(e.moduleName=e.name),-1===r.findIndex((function(t){return e.moduleName===t.moduleName}))&&r.push(e),n.defineModule(e),n.defineElementMethods(a.methodNames,a),n.defineElementProperties(e.properties),n.constructor.prototype.modules=r,t)for(var i in Smart.Elements.tagNames){for(var l=Smart.Elements.tagNames[i],s=Object.getPrototypeOf(l),u=[];s!==HTMLElement;)u.push(s.prototype),s=Object.getPrototypeOf(s);u.indexOf(n)>=0&&l!==n&&l.prototype.addModule(e)}}}},{key:"defineModule",value:function(e){if(!e.isDefined){e.prototype._initModule=function(e){this.ownerElement=e};var t=e.properties||{},n=Object.keys(t),r=Object.getOwnPropertyNames(e.prototype);e.prototype.methodNames=r;for(var a=function(r){var a=n[r],o=t[a];Object.defineProperty(e.prototype,a,{configurable:!1,enumerable:!0,get:function(){return this.ownerElement?this.ownerElement[a]:o.value},set:function(e){this.ownerElement[a]=e}})},o=0;o<n.length;o+=1)a(o);e.isDefined=!0}}},{key:"getStaticMember",value:function(e,n){var r=window[t][this.elementName],a=r[e];n||(n="");for(var o="array"===n?[]:"string"===n?"":{},i=Object.getPrototypeOf(r),l=[];i[e];)l.push(i[e]),i=Object.getPrototypeOf(i);for(var s=l.length-1;s>=0;s--)if("array"===n)for(var u=0;u<l[s].length;u++)-1===o.indexOf(l[s][u])&&o.push(l[s][u]);else"string"===n?-1===o.indexOf(l[s])&&(o+=l[s]):o=B.Core.assign(o,l[s]);if("array"===n){for(var d=0;d<a.length;d++)-1===o.indexOf(a[d])&&o.push(a[d]);return o}return"string"===n?(-1===o.indexOf(a)&&(o+=a),o):B.Core.assign(o,a)}},{key:"defineElementHierarchicalProperties",value:function(e,t){var n=[];!function(e){for(var r=Object.keys(e),a=0;a<r.length;a++){var o=r[a];if("messages"!==o){var i=e[o],l=Object.keys(i),s=l.indexOf("value")>=0&&l.indexOf("type")>=0&&"object"==b(i.value);("propertyObject"===i.type||s)&&function e(r,a){if(r.value){var o=Object.keys(r.value),i=function(i){var l=o[i],s=r.value[l],u=a+"_"+l;if("object"!=b(s)||null===s)return"break";var d=Object.keys(s);if(!(d.indexOf("value")>=0&&d.indexOf("type")>=0))return"break";if("array"!==r.type&&(r.isHierarchicalProperty=!0),s.parentPropertyName=a,t){var c=t._properties[u];if(r.value.hasOwnProperty(l)){if(c.isDefined)return"continue";delete r.value[l]}c.isDefined=!0,Object.defineProperty(r.value,l,{configurable:!1,enumerable:!0,get:function(){return t._properties[u].value},set:function(e){t.updateProperty(t,t._properties[u],e)}})}n[u]||(n[u]=s,n.length++),("propertyObject"===s.type||"object"==b(s.value)&&"array"!==s.type)&&e(t?t._properties[u]:s,u)};e:for(var l=0;l<o.length;l++)switch(i(l)){case"break":break e;case"continue":continue}}}(i,o)}}}(e),n.length>0&&!t&&this.defineElementProperties(n)}},{key:"defineElement",value:function(){var e=this.constructor.prototype,t=this.getStaticMember("properties"),n=Object.getOwnPropertyNames(e);e.extendedProperties={},e.boundProperties={},e.templateListeners={},this.defineElementModules(),this.defineElementMethods(n,e),this.defineElementProperties(t),this.defineElementHierarchicalProperties(this.extendedProperties),e._initElement=function(){var t=this,n=e.extendedProperties,r=Object.keys(n),a=t.modules;t.$=B.Extend(t),t.$document=$,t.smartId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),t.isCreated||(t.modulesList=[],t._properties=[],t._beforeCreatedProperties&&(t._properties=t._beforeCreatedProperties,delete t._beforeCreatedProperties),t.detachedChildren=[],t.propertyByAttributeName=[]);for(var o=0;o<a.length;o+=1){var i=new(0,a[o]);i._initModule(t),t.modulesList.push(i)}for(var l=function(e){var a=r[e],o=n[a],i=o.value;if(t._properties[a]){if(void 0!==t._properties[a].notify)return"continue";delete t._properties[a]}if(P&&"innerHTML"===a&&delete t[a],-1===window.navigator.userAgent.indexOf("PhantomJS")&&t.hasOwnProperty(a)&&(i=t[a],delete t[a]),"array"===o.type&&null!=i&&(i=i.slice(0)),"object"===o.type&&null!=i&&(i=Array.isArray(i)?i.slice(0):Object.assign({},i)),t._properties[a]={name:a,notify:o.notify,allowedValues:o.allowedValues,type:o.type,nullable:o.nullable,reflectToAttribute:o.reflectToAttribute,defaultReflectToAttribute:o.defaultReflectToAttribute,defaultReflectToAttributeConditions:o.defaultReflectToAttributeConditions,value:i,readOnly:o.readOnly,defaultValue:i,attributeName:o.attributeName,observer:o.observer,inherit:o.inherit,extend:o.extend,validator:o.validator},t.propertyByAttributeName[o.attributeName]=t._properties[a],!o.hasOwnProperty("type")){var l=t.localize("propertyUnknownType",{name:a});t.log(l)}if("any"===o.type||"propertyObject"===o.type)return"continue";var s=B.Types.getType(i);if(null!=i&&o.type!==s&&!o.validator){if("object"===o.type&&"array"===s)return"continue";if("number"===s&&["integer","int","float"].findIndex((function(e){return e===o.type}))>=0)return"continue";var u=t.localize("propertyInvalidValueType",{name:a,actualType:s,type:o.type});t.log(u)}},s=0;s<r.length;s+=1)l(s);t.defineElementHierarchicalProperties(t._properties,t),t.isCreated=!0},e.registered()}},{key:"defineElementMethods",value:function(e,t){var n=this.constructor.prototype,r=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"],a=function(a){var o=e[a];o.startsWith("_")||void 0!==r.find((function(e){return e===o}))||n.extendedProperties[o]||B.Types.isFunction(t[o])&&(n[o]=function(e,t){var n=Array.prototype.slice.call(arguments,2),r=function(){if(!this.isReady&&"localize"!==t&&"localize"!==t&&"cloneNode"!==t&&"importStyle"!==t&&"log"!==t&&"parseAttributes"!==t){var r=this.localize("elementNotInDOM");this.log(r)}for(var a=this,o=0;o<this.modulesList.length;o++){var i=this.modulesList[o];if(t in i){a=i;break}}var l=this.context,s=n.concat(Array.prototype.slice.call(arguments)),u=null,d=function(e,t){return e===t||"number"===e&&("int"===t||"integer"===t||"float"===t)||"bool"===e&&"boolean"===t||"boolean"===e&&"bool"===t||"object"===e&&"any"===t||void 0};if(this.methods){var c=this.methods[t];if(c){var p=c.split(":");u=p[p.length-1].trim();for(var h=[],f=c.substring(1+c.indexOf("("),c.lastIndexOf(")")).split(","),v="",m=0;m<f.length;m++){var b=f[m];v+=b,b.indexOf(":")>=0?(h.push(v),v=""):v+=","}for(var g=h.length,y=0;y<h.length;y++){var w=h[y].trim().split(":"),_=w[0].split("=")[0].trim().indexOf("?")>=0,C=w[1].indexOf("?")>=0,S=w[1].replace(/\?/gi,"").trim(),k=S.split("|"),x=w[0].split("=")[1],D=B.Types.getType(s[y]);if(void 0===s[y]&&x){switch(x=x.trim(),S[0]){case"date":var T=x.substring(x.indexOf("(")+1,x.lastIndexOf(")"));x=0===(T=T.length>0?T.split(",").map((function(e){return parseInt(e)})):[]).length?new Date:new Date(T[0],T[1],T[2]);break;case"bool":case"boolean":x="true"===x||"1"===x;break;case"int":case"integer":x=parseInt(x);break;case"float":case"number":x=parseFloat(x);break;case"any":case"object":x=x.indexOf("{")>=0?JSON.parse(x):x}s.push(x)}else _&&g--;if(S!==D&&D){for(var $=!0,A=0;A<k.length;A++)if(d(D,k[A])){$=!1;break}if($&&(null!==s[y]||!C)){var E=this.localize("methodInvalidValueType",{name:t,actualType:D,type:S,argumentIndex:y});this.log(E)}}if(s.length<g){var L=this.localize("methodInvalidArgumentsCount",{name:t,actualArgumentsCount:s.length,argumentsCount:g});this.log(L)}}}}this.context=this;var I=e.apply(a,s);if(u){var O=void 0===B.Types.getType(I)?"void":B.Types.getType(I);if(!d(O,u)){var P=this.localize("methodInvalidReturnType",{name:t,actualType:O,type:u});this.log(P)}}return this.context=l,I};return r}(t[o],o))};for(var o in e)a(o)}},{key:"defineElementProperties",value:function(e){if(e){var t=this.constructor.prototype,n=Object.keys(e),r=this.getStaticMember("properties");Object.assign(t.extendedProperties,e),this.updateProperty=function(e,t,n){var r=e;if(t&&!t.readOnly){if(t.allowedValues){for(var a=!1,o=0;o<t.allowedValues.length;o++)if(t.allowedValues[o]===n){a=!0;break}if(!a){var i=JSON.stringify(t.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),l="'"+n+"'",s=r.localize("propertyInvalidValue",{name:t.name,actualValue:l,value:i});return void r.log(s)}}var u=t.name,d=r._properties[u].value;if(t.validator&&r[t.validator]){var c=r.context;r.context=r;var p=r[t.validator](d,n);void 0!==p&&(n=p),r.context=c}if(d!==n){if(r.propertyChanging){var h=r.propertyChanging(u,d,n);if(!1===h||null===h)return}if(!t.hasOwnProperty("type")){var f=r.localize("propertyUnknownType",{name:u});r.log(f)}if("array"!==t.type||JSON.stringify(d)!==JSON.stringify(n)){if(null!=n&&"any"!==t.type&&"propertyObject"!==t.type&&t.type!==B.Types.getType(n)&&!t.validator||null===n&&!t.nullable){var v=!0;if("object"===t.type&&"array"===B.Types.getType(n)&&(v=!1),"number"===B.Types.getType(n)&&["integer","int","float"].findIndex((function(e){return e===t.type}))>=0&&(v=!1),v){var m=r.localize("propertyInvalidValueType",{name:u,actualType:B.Types.getType(n),type:t.type});return void r.error(m)}}if(t.isUpdating=!0,t.isHierarchicalProperty){!function e(t,n){for(var a=Object.keys(t),o=0;o<a.length;o++){var i=a[o],l=t[i];"object"==b(l)&&!B.Types.isArray(l)&&l&&l.constructor!==Date?e(l,n+"_"+i):r[n+"_"+i]=l}}(n,u)}else r._properties[u].value=n;if(!t.isUpdatingFromAttribute&&t.reflectToAttribute&&r.$.setAttributeValue(t.attributeName,n,t.type),r.isReady&&(!r.ownerElement||r.ownerElement&&r.ownerElement.isReady)){if("wait"===u&&(n||!d||r.isCompleted||(r.classList.remove("smart-visibility-hidden"),r.ownerElement&&r.ownerElement.updateBoundMappedNodes(),r.updateBoundMappedNodes(),r.complete())),"renderMode"===u)return;if(r.context!==r&&!r.wait){var g=r.context;r.context=r,r.propertyChangedHandler(u,d,n),r.context=g,t.observer&&r[t.observer]&&(r.context=r,r[t.observer](d,n),r.context=document),r._watch&&r._watch.properties.indexOf(u)>=0&&r._watch.propertyChangedCallback(u,d,n)}var y=t.notify||r.boundProperties[u];y&&(r.$.fireEvent(t.attributeName+"-changed",{context:r.context,oldValue:d,value:r[u]}),r.boundProperties[u]&&r.updateBoundNodes(u)),y&&r.templateProperties&&r.templateProperties[u]&&r.refreshTemplate(),r.dataContextProperties&&("dataContext"===u?r.applyDataContext():r.dataContextProperties[u]&&r.updateDataContextProperty(u))}t.isUpdating=!1}}}};for(var a=function(a){var o=n[a],i=e[o],l=B.Core.toDash(o),s=i.type||"any",u=s.indexOf("?")>=0||"any"===s;u&&"any"!==s&&(i.type=s.substring(0,s.length-1)),i.nullable=u,i.attributeName=l.toLowerCase(),i.name=o,i.reflectToAttribute=void 0===i.reflectToAttribute||i.reflectToAttribute,i.inherit&&r[o]&&(i.value=r[o].value),i.extend&&r[o]&&B.Core.assign(i.value,r[o].value),t.hasOwnProperty(o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:function(){if(this._properties[o])return this._properties[o].value},set:function(e){this.updateProperty(this,this._properties[o],e)}})},o=0;o<n.length;o+=1)a(o)}}},{key:"classNamesMap",get:function(){return{animation:"smart-animate",rippleAnimation:"smart-ripple"}}},{key:"hasAnimation",get:function(){return"none"!==this.animation}},{key:"hasRippleAnimation",get:function(){return"none"!==this.animation&&"advanced"===this.animation}},{key:"properties",get:function(){var e=this;return e._properties||(e._properties=[]),e._properties}},{key:"parents",get:function(){for(var e=this,n=[],r=e.parentNode;r&&9!==r.nodeType;)r instanceof HTMLElement==1&&n.push(r),r=r.parentNode;var a=e.getRootNode();if(a.host){n=n.concat(function(e){for(var t=[e],n=e.parentNode;n&&9!==n.nodeType;)n instanceof HTMLElement==1&&t.push(n),n=n.parentNode;return t}(a.host))}return window[t].EnableShadowDOM&&e.isInShadowDOM&&e.shadowParent&&(n=n.concat(e.shadowParent.parents)),n}},{key:"focused",get:function(){return this.contains(document.activeElement)}},{key:"_selector",get:function(){var e=this;return e.id?"#"+e.id:e.classList.length>0?"."+e.classList[0]:""}},{key:"hasStyleObserver",set:function(e){var t=this;void 0===t._hasStyleObserver&&(t._hasStyleObserver=e),e?w.watch(t):w.unwatch(t)},get:function(){return void 0===this._hasStyleObserver||this._hasStyleObserver}}],[{key:"clearCache",value:function(){this.cache={}}},{key:"properties",get:function(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:void 0,type:"function",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[t].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}},{key:"requires",get:function(){return{}}},{key:"listeners",get:function(){return{"theme-changed":function(e){this.theme=e.detail.newValue}}}},{key:"methods",get:function(){return{}}},{key:"modules",get:function(){return window[t].Modules}},{key:"version",get:function(){return window[t].Version}}]),a}(u(HTMLElement)),L=[],I=[],O=[],P=!1,M=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);M&&parseInt(M[2],10)<=50&&(P=!0);var H=function(){function e(){f(this,e)}return m(e,null,[{key:"register",value:function(e,n){var r=n.prototype,a=g.toCamelCase(e).replace(/[a-z]+/,""),o=n.version||window[t].Version;if(!window.customElements.get(e)||window.customElements.get(e).version!==o){var i=e;for(o=o.split(".");window.customElements.get(e);)e=i+"-"+o.join("."),o[2]=parseInt(o[2])+1;if(!L[e]){if(e.startsWith(t.toLowerCase()))L[e]=window[t][a]=window[t.toLowerCase()+a]=n;else{var l=e.split("-")[0];l=l.substring(0,1).toUpperCase()+l.substring(1),window[t][l]||(window[t][l]={}),L[e]=window[t][l][a]=window[l.toLowerCase()+a]=n,window[t][a]&&(a=g.toCamelCase(e)),window[t][a]=n}r.elementName=a,r.defineElement(),I[e]&&I[e](r),window.customElements.define(e,n)}}}},{key:"registerElements",value:function(){var e=this;if(e.toRegister){e.isRegistering=!0;for(var t=0;t<e.toRegister.length;t++){var n=e.toRegister[t];e.register(n.tagName,n.element)}e.isRegistering=!1}}},{key:"get",value:function(e){if(L[e])return L[e]}},{key:"whenRegistered",value:function(e,t){if(!e)throw new Error("Syntax Error: Invalid tag name");var n=I[e],r=this.get(e),a=r?r.modules.length:3;try{n||r?!n&&r?(t(r.prototype),I[e]=void 0):n&&!r?I[e]=function(e){n(e),t(e)}:n&&r&&(r.proto&&(n(r.proto),t(r.proto)),I[e]=void 0):I[e]=function(e){try{t(e)}catch(e){var n=e instanceof Error?e.message:e.toString();console.log(n)}}}catch(e){var o=e instanceof Error?e.message:e.toString();console.log(o)}if(r&&a!==r.prototype.modules.length)for(var i=document.querySelectorAll(e),l=0;l<i.length;l++){var s=i[l];s.isCreated&&s._initElement()}}}]),e}();H.lazyRegister=!1,H.tagNames=[];var N=function(){function e(){f(this,e);var t=this;t.name="observableArray",t.observables=arguments.length<3?null:arguments[2];var n=new Proxy(t,{deleteProperty:function(e,t){return delete e[t],!0},apply:function(e,t,n){return e.apply(t,n)},get:function(e,n){return e[n]||isNaN(parseInt(n))?e[n]:t.getItem(parseInt(n))},set:function(e,n,r){return e[n]||isNaN(parseInt(n))?(e[n]=r,!0):(t.setItem(parseInt(n),r),!0)}});if(t._addArgs={eventName:"change",object:n,action:"add",index:null,removed:new Array,addedCount:1},t._removeArgs={eventName:"change",object:n,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){t._array=[];for(var r=arguments[0],a=0,o=r.length;a<o;a++){var i=t._getItem(t._array.length,r[a]);t._array.push(i)}}else t._array=Array.apply(null,arguments);return 2===arguments.length&&(t.notifyFn=arguments[1]),n}return m(e,[{key:"_notify",value:function(e){var t=this;t.canNotify&&t.notifyFn&&t.notifyFn(e)}},{key:"notify",value:function(e){e&&(this.notifyFn=e)}},{key:"toArray",value:function(){return this._array}},{key:"_getItem",value:function(e,t){var n=this;return"string"==typeof t||"number"==typeof t||void 0===t?t:new Proxy(t,{deleteProperty:function(e,t){return delete e[t],!0},set:function(t,r,a){var o=t[r];return t[r]=a,!n._canNotify||!1===t.canNotify||(n.observables&&!n.observables[r]||n._notify({eventName:"change",object:n,target:t,action:"update",index:e,path:e+"."+r,oldValue:o,newValue:a,propertyName:r}),!0)}})}},{key:"getItem",value:function(e){return this._array[e]}},{key:"setItem",value:function(e,t){var n=this._array[e];this._array[e]=this._getItem(e,t),this._notify({eventName:"change",object:this._array,action:"update",index:e,removed:[n],addedCount:1})}},{key:"toString",value:function(){return this._array.toString()}},{key:"toLocaleString",value:function(){return this._array.toLocaleString()}},{key:"concat",value:function(){this._addArgs.index=this._array.length;var e=this._array.concat.apply(this._array,arguments);return new Smart.ObservableArray(e)}},{key:"join",value:function(e){return this._array.join(e)}},{key:"pop",value:function(){this._removeArgs.index=this._array.length-1,delete this[this._array.length-1];var e=this._array.pop();return this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}},{key:"push",value:function(){var e=this;if(e._addArgs.index=e._array.length,1===arguments.length&&Array.isArray(arguments[0]))for(var t=arguments[0],n=0,r=t.length;n<r;n++){var a=e._getItem(e._array.length,t[n]);e._array.push(a)}else{var o=e._getItem(e._addArgs.index,arguments[0]);e._array.push.apply(e._array,[o])}return e._addArgs.addedCount=e._array.length-e._addArgs.index,e._notify(e._addArgs),e._notifyLengthChange(),e._array.length}},{key:"_notifyLengthChange",value:function(){if(this.canNotify){var e=this._createPropertyChangeData("length",this._array.length);this._notify(e)}}},{key:"_createPropertyChangeData",value:function(e,t,n){return{eventName:"change",object:this,action:e,value:t,oldValue:n}}},{key:"reverse",value:function(){return this._array.reverse()}},{key:"shift",value:function(){var e=this._array.shift();return this._removeArgs.index=0,this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}},{key:"slice",value:function(e,t){return this._array.slice(e,t)}},{key:"sort",value:function(e){return this._array.sort(e)}},{key:"splice",value:function(e,t,n){var r,a=this,o=a._array.length;if(n&&n.length)for(var i=0;i<n.length;i++)r=a._array.splice(e+i,t,n[i]);else r=a._array.splice.apply(a._array,arguments);if(n){var l=a.canNotify;if(a.canNotify=!1,n.length)for(var s=0;s<n.length;s++)a.setItem(e+s,n[s]);else a.setItem(e,n);a.canNotify=l,a._notify({eventName:"change",object:this,action:"add",index:e,added:r,addedCount:a._array.length>o?a._array.length-o:0})}else a._notify({eventName:"change",object:this,action:"remove",index:e,removed:r,addedCount:a._array.length>o?a._array.length-o:0});return a._array.length!==o&&a._notifyLengthChange(),r}},{key:"unshift",value:function(){var e=this._array.length,t=this._array.unshift.apply(this._array,arguments);return this._addArgs.index=0,this._addArgs.addedCount=t-e,this._notify(this._addArgs),this._notifyLengthChange(),t}},{key:"indexOf",value:function(e,t){for(var n=t||0,r=this._array.length;n<r;n++)if(this._array[n]===e)return n;return-1}},{key:"lastIndexOf",value:function(e,t){for(var n=t||this._array.length-1;n>=0;n--)if(this._array[n]===e)return n;return-1}},{key:"find",value:function(e,t){return this._array.find(e,t)}},{key:"findIndex",value:function(e,t){return this._array.findIndex(e,t)}},{key:"every",value:function(e,t){return this._array.every(e,t)}},{key:"some",value:function(e,t){return this._array.some(e,t)}},{key:"forEach",value:function(e,t){this._array.forEach(e,t)}},{key:"map",value:function(e,t){return this._array.map(e,t)}},{key:"filter",value:function(e,t){return this._array.filter(e,t)}},{key:"reduce",value:function(e,t){return void 0!==t?this._array.reduce(e,t):this._array.reduce(e)}},{key:"reduceRight",value:function(e,t){return void 0!==t?this._array.reduceRight(e,t):this._array.reduceRight(e)}},{key:"move",value:function(e,t){this.splice(t,0,this.splice(e,1)[0])}},{key:"canNotify",get:function(){var e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify},set:function(e){this._canNotify=e}},{key:"length",get:function(){return this._array.length},set:function(e){var t=this;c.isNumber(e)&&t._array&&t._array.length!==e&&t.splice(e,t._array.length-e)}}]),e}(),R={};window[t]&&(R=window[t]),window[t]=function(e,n){var r=e;if(e){if(e.indexOf("#")>=0||e.indexOf(".")>=0)return C[e]?C[e]:n?(C[e]=new n,function(e,t){var n=t.properties;t._properties=[];(function n(r,a){for(var o=Object.keys(r),i=function(i){var l=o[i],s=r[l];t._properties[a+l]=s,Array.isArray(s)?t._properties[a+l]=new N(s,(function(t){var n=l+"."+t.path,r=t.newValue,a=document.querySelector(e);if(a){for(var o=n.split("."),i=a,s=0;s<o.length;s++)i=i[o[s]];i=r}})):(Object.defineProperty(r,l,{configurable:!1,enumerable:!0,get:function(){return t._properties[a+l]},set:function(e){t._properties[a+l]=e}}),s&&"DataAdapter"===s.constructor.name||s&&"object"==b(s)&&Smart.DataAdapter&&s instanceof Smart.DataAdapter||"object"==b(s)&&s&&Object.keys(s).length>0&&n(s,a+l+"."))},l=0;l<o.length;l++)i(l)})(n,""),Object.defineProperty(t,"properties",{configurable:!1,enumerable:!0,get:function(){return n}});var r=document.querySelector(e);if(r&&r.isReady)for(var a in n)r[a]=n[a];else if(r)for(var o in r.props={},n)r.props[o]=n[o]}(e,C[e]),C[e]):void 0;if(n){if(H.tagNames[e]=n,H.lazyRegister){H.toRegister||(H.toRegister=[]);var a=g.toCamelCase(r).replace(/[a-z]+/,"");return window[t][a]=n,void H.toRegister.push({tagName:r,element:n})}H.register(r,n)}}},window.addEventListener("load",(function(){var e=window[t].Elements.tagNames,n=[];for(var r in e){for(var a=e[r],o=document.querySelectorAll("["+r+"]"),i=0;i<o.length;i++){var l=o[i];l instanceof HTMLDivElement&&(l.__proto__=a.prototype,l.created(),l.connectedCallback()),l.classList.add("smart-element-ready")}var s=a.name;"Item"===s&&(s="ListItem"),o=document.querySelectorAll('[is="'+t.toLocaleLowerCase()+s+'"]');for(var u=0;u<o.length;u++)n.push(o[u])}if(n.length>0){var d=function(e){for(var t=[],n=e.parentNode;n&&9!==n.nodeType;)n instanceof HTMLElement==1&&t.push(n),n=n.parentNode;return t};n.sort((function(e,t){var n=d(e).length,r=d(t).length;return n<r?1:n>r?-1:0}));for(var c=0;c<n.length;c++){var p=n[c],h=p.getAttribute("is");("smartItem"===h?new window.smartListItem(p):new window[h](p)).removeAttribute("is")}}}));var V=function e(){if("complete"===document.readyState&&"manual"!==window[t].RenderMode){O.sort((function(e,t){var n=e.element.parents.length,r=t.element.parents.length;return n<r?-1:n>r?1:0}));for(var n=0;n<O.length;n++)window[t].RenderMode="",O[n].element.isLoading=!1,O[n].callback(),window[t].RenderMode="";O=[],document.removeEventListener("readystatechange",e)}};Object.assign(window[t],{Elements:H,Modules:[],BaseElement:function(e){s(u,e);var r=o(u);function u(e,t){var a;f(this,u);var o=l(a=r.call(this));if(e){t&&(o._initProperties=t);var s=function(e){if("string"==typeof e?document.querySelector(e):e){var r="string"==typeof e?document.querySelector(e):e;if(r instanceof HTMLDivElement){var a,i=document.createElement(o.tagName),l=n(r.attributes);try{for(l.s();!(a=l.n()).done;){var s=a.value;i.setAttribute(s.name,r.getAttribute(s.name))}}catch(e){l.e(e)}finally{l.f()}for(;r.childNodes.length;)i.appendChild(r.firstChild);return"string"==typeof e&&(i.id=e.substring(1)),i._initProperties=t,r.parentNode&&r.parentNode.replaceChild(i,r),i}if(t){var u=r.context;if(r._initProperties=t,r.isReady){r.context=r;var d={},c={};for(var p in t)d[p]=r[p],c[p]=t[p];Object.getOwnPropertyNames(t).length>0&&(r.initProperties(),r.propertyChangedHandler(t,d,c)),r.context=u}}return r}};if("string"==typeof e){var d=document.querySelectorAll(e),c=[];if(d.length>1){for(var p=0;p<d.length;p++){var h=s(d[p]);c.push(h)}return i(a,c)}}else if(e&&e.length>0){var v=e;if(v.length>1){for(var m=0;m<v.length;m++){var b=s(v[m]);L.push(b)}return i(a,L)}}return i(a,s(e))}return o._styleUrl="",o.isUtilityElement||o.created(),a}return m(u,[{key:"getShadowRootOrBody",value:function(){return this.isInShadowDOM?this.getRootNode().host.shadowRoot:document.body}},{key:"importStyle",value:function(e,t){this._importStyle(e,t)}},{key:"_importStyle",value:function(e,t){var n=this;if(n.shadowRoot&&e){var r=function(e){for(var r=n.shadowRoot.children,a=0;a<r.length;a++){var o=r[a];if(o instanceof HTMLLinkElement&&o.href===e)return t&&t(),null}var i=document.createElement("link");return i.rel="stylesheet",i.type="text/css",i.href=e,i.onload=t,i},a=function(){for(var e=n.shadowRoot.children,t=null,r=0;r<e.length;r++){var a=e[r];a instanceof HTMLLinkElement&&(t=a)}return t}(),o=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)};if(Array.isArray(e)){for(var i=document.createDocumentFragment(),l=0;l<e.length;l++){var s=r(e[l]);s&&i.appendChild(s)}a?o(i,a):n.shadowRoot.insertBefore(i,n.shadowRoot.firstChild)}else{var u=r(e);if(!u)return;a?o(u,a):n.shadowRoot.insertBefore(u,n.shadowRoot.firstChild)}}}},{key:"attributeChanged",value:function(e,t,n){"style-url"===e&&(this.styleUrl=n)}},{key:"attributeChangedCallback",value:function(e,t,n){this.isReady&&a(h(u.prototype),"attributeChangedCallback",this).call(this,e,t,n)}},{key:"styleUrl",get:function(){return this._styleUrl},set:function(e){this._styleUrl=e}},{key:"isInShadowDOM",get:function(){var e=this.getRootNode();return e!==document&&e!==this}},{key:"enableShadowDOM",get:function(){return window[t].EnableShadowDOM}}],[{key:"observedAttributes",get:function(){var e=["external-style"];for(var t in this.prototype.extendedProperties){var n=this.prototype.extendedProperties[t];e.push(n.attributeName)}return e}},{key:"styleUrls",get:function(){return[]}},{key:"styles",get:function(){return""}}]),m(u,[{key:"_getRootShadowParent",value:function(){for(var e=this.shadowParent;e;){if(!e.shadowParent)return e;e=e.shadowParent}return e||this.shadowParent}},{key:"_getStyleUrl",value:function(e){var n=B.Core.getScriptLocation()+window[t].StyleBaseUrl+e;return this.shadowParent&&(n=n.replace("scoped/","")),n}},{key:"_getStyleUrls",value:function(){var e=this;e.nodeName.startsWith(t);for(var n=e.getStaticMember("styleUrls","array"),r=[],a=0;a<n.length;a++){var o=n[a],i=e._getStyleUrl(o);r.push(i)}return r}},{key:"_setupShadowRoot",value:function(){var e=this;e.classList.add("smart-element-init");var n=function(n){n.$.root&&(n.$.root.classList.add(t.toLowerCase()+"-element"),n.$.root.classList.add(e.nodeName.toLowerCase())),n.setup(),n.classList.remove("smart-element-init")};if(document.adoptedStyleSheets)if(window[t].AdoptedStyleSheets)window[t].AdoptedStyleSheetsLoaded?(e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets,n(e)):(e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets,window[t].AdoptedStyleSheetsLoadedQueue||(window[t].AdoptedStyleSheetsLoadedQueue=[]),window[t].AdoptedStyleSheetsLoadedQueue.push(e));else{var r=new CSSStyleSheet,a=B.Core.getScriptLocation()+"/styles/smart.default.css";r.replace('@import url("'+a+'")').then((function(){if(n(e),window[t].AdoptedStyleSheetsLoaded=!0,window[t].AdoptedStyleSheetsLoadedQueue){for(var r=window[t].AdoptedStyleSheetsLoadedQueue,a=0;a<r.length;a++){var o=r[a];n(o)}delete window[t].AdoptedStyleSheetsLoadedQueue}})).catch((function(e){console.error("Failed to load:",e)})),window[t].AdoptedStyleSheets=[r],document.adoptedStyleSheets=[r],e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets}}},{key:"connect",value:function(){var e=this;window[t].EnableShadowDOM&&!e.shadowRoot&&!0!==e.isInShadowDOM&&(e.attachShadow({mode:"open"}),e.shadowRoot&&e.$.root&&(e.shadowRoot.appendChild(e.$.root),e.$.root.classList.add(e.nodeName.toLowerCase()))),e.shadowRoot||e.shadowParent?e.shadowRoot?e._setupShadowRoot():(e.shadowParent&&window[t].EnableShadowDOM,e.setup()):e.setup()}},{key:"connectedCallback",value:function(){var e=this;if(!e.isLoading&&!e.isUtilityElement){e.classList.add("smart-element-init");var n=function(){e.classList.remove("smart-element-init")};if("complete"===document.readyState&&(void 0===window[t].isAngular&&(window[t].isAngular=null!==document.body.querySelector("[ng-version]")),window[t].isAngular))for(var r=0;r<e.parents.length&&!e.parents[r].nodeName.toLowerCase().startsWith(t.toLowerCase()+"-");r++)if(e.parents[r].hasAttribute("ng-version")){window[t].RenderMode="manual";break}if("complete"===document.readyState&&"manual"!==window[t].RenderMode){var a=e.parents;a.length&&"HTML"===a[a.length-1].nodeName||e.getRootNode().host?(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),n(),e.connect()):(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),a.length>0&&(e.checkIsInDomTimer=setInterval((function(){var t=e.parents;0===t.length&&clearInterval(e.checkIsInDomTimer),t.length>0&&"HTML"===t[t.length-1].nodeName&&(clearInterval(e.checkIsInDomTimer),n(),e.connect())}),100)))}else e.isLoading=!0,O.push({element:this,callback:function(){this.isReady||(n(),this.connect())}.bind(e)})}}},{key:"disconnectedCallback",value:function(){var e=this;e.isAttached?(e.shadowParent=null,e.detached()):e._resetShadowParent()}},{key:"adoptedCallback",value:function(){this.setup()}},{key:"appendTemplate",value:function(e){var t=this;t.shadowRoot?t.shadowRoot.appendChild(e):t.appendChild(e)}},{key:"_resetShadowParent",value:function(){var e=this;if(window[t].EnableShadowDOM&&null!==e.shadowParent){for(var n=[],r=e.parentNode;r&&9!==r.nodeType;){if(r instanceof HTMLElement==1)n.push(r);else if(11===r.nodeType&&r.host){r=r.host;continue}r=r.parentNode}for(var a=0;a<n.length;a++)if(n[a]===e.shadowParent)return;n.length>0&&"HTML"===n[n.length-1].nodeName&&(e.shadowParent=null)}}}]),u}(E),Utilities:B,Import:function(e,t){var n=0,r=function(e,t){return new Promise((function(n){var r=document.createElement("script");r.src=e,r.onload=n;for(var a=0;a<document.head.children.length;a++){var o=document.head.children[a];if(o.src&&o.src.toString().indexOf(t)>=0)return void n()}document.head.appendChild(r)}))};return new Promise((function(a){var o=B.Core.getScriptLocation();if(t)for(var i=0;i<e.length;i++){var l=o+"/"+e[i];r(l,e[i]).then((function(){++n===e.length&&a()}))}else!function t(i){if(e[i]){var l=o+"/"+e[i];r(l,e[i]).then((function(){++n===e.length&&a(),t(i+1)}))}}(0)}))},ObservableArray:N,Observable:function(){function e(t,n){f(this,e);var r,a=this;return this.name="observable",t&&Object.assign(a,t),r=t,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){return"constructor"===e||!!e.startsWith("_")||void(a[e]=r[e])})),new Proxy(a,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){return e[t]},set:function(e,t,r){var o=e[t];return o===r||(e[t]=r,!("notifyFn"!==t&&!t.startsWith("_")&&"canNotify"!==t&&(!n||-1!==n.indexOf(t))&&a.canNotify&&(a._notify({target:e,propertyName:t,oldValue:o,newValue:r}),0)))}})}return m(e,[{key:"_notify",value:function(e){var t=this;if(t.canNotify&&t.notifyFn)for(var n=0;n<t.notifyFn.length;n++)t.notifyFn[n](e)}},{key:"notify",value:function(e){var t=this;e&&(t.notifyFn||(t.notifyFn=[]),t.notifyFn.push(e))}},{key:"canNotify",get:function(){var e=this;return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify},set:function(e){this._canNotify=e}}]),e}(),Component:function(){function e(t,n){f(this,e);var r=this.name,a=null;return t?a=new window[r](t,n):(a=new window[r])._initProperties=n,this._element=a,a}return m(e,[{key:"name",get:function(){return"Component"}},{key:"element",get:function(){return this._element}}]),e}(),Theme:R.Theme||"",EnableShadowDOM:R.ShadowDom||!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:"9.1.0",RenderMode:R.RenderMode||"auto",Render:function(){var e=function(){window[t].RenderMode="",V()};"complete"===document.readyState?e():(window.removeEventListener("load",e),window.addEventListener("load",e))},Data:C,Mode:R.Mode||"production",License:"Evaluation"});var z=window[t].Theme;"manual"!==window[t].RenderMode&&document.addEventListener("readystatechange",V),Object.defineProperty(window[t],"Theme",{configurable:!1,enumerable:!0,get:function(){return z},set:function(e){var t=z;z=e,$.fireEvent("theme-changed",{oldValue:t,newValue:e},{bubbles:!0,cancelable:!0})}}),window[t]("smart-base-element",window[t].BaseElement),window[t]("smart-content-element",function(e){s(n,e);var t=o(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"template",value:function(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}},{key:"ready",value:function(){a(h(n.prototype),"ready",this).call(this),this.applyContent()}},{key:"refresh",value:function(){}},{key:"clearContent",value:function(){for(var e=this;e.$.content.firstChild;)e.$.content.removeChild(e.$.content.firstChild)}},{key:"applyContent",value:function(){var e=this;if(void 0!==e.content)if(""!==e.content&&null!==e.content){if(e.content instanceof HTMLElement)return e.clearContent(),void e.$.content.appendChild(e.content);var t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),e.content instanceof HTMLElement?n.appendChild(e.content):n.innerHTML=e.content;var r=Array.from(n.childNodes);n.parentNode.removeChild(n);for(var a=0;a<r.length;a++)t.appendChild(r[a]);e.clearContent(),e.$.content.appendChild(t)}else e.clearContent();else e.content=e.$.content}},{key:"propertyChangedHandler",value:function(e,t,r){a(h(n.prototype),"propertyChangedHandler",this).call(this,e,t,r);var o=this;t!==r&&("innerHTML"===e&&(o.content=r,o.applyContent(),o.innerHTML=o.content=B.Core.html(o.$.content)),"content"===e&&o.applyContent())}}],[{key:"properties",get:function(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}}]),n}(window[t].BaseElement)),window[t]("smart-scroll-viewer",function(e){s(n,e);var t=o(n);function n(){return f(this,n),t.apply(this,arguments)}return m(n,[{key:"template",value:function(){return'<div id="container" class="smart-container" role="presentation">\n                        <div id="scrollViewerContainer" class="smart-scroll-viewer-container" role="presentation">\n                            <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="smart-scroll-viewer-content-container" role="presentation">\n                                <content></content>\n                            </div>\n                        </div>\n                        <smart-scroll-bar id="verticalScrollBar" theme="[[theme]]"  animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></smart-scroll-bar>\n                        <smart-scroll-bar id="horizontalScrollBar" theme="[[theme]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></smart-scroll-bar>\n                    </div>'}},{key:"appendChild",value:function(e){var t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.appendChild(e)}}},{key:"removeChild",value:function(e){var t=this;if(e){if(!t.isCompleted||e.classList&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.removeChild(e)}}},{key:"removeAll",value:function(){this.isCompleted&&(this.$.scrollViewerContentContainer.innerHTML="")}},{key:"_horizontalScrollbarHandler",value:function(e){var t=this;t.$.scrollViewerContentContainer.style.left=(t.rightToLeft?1:-1)*t.scrollLeft+"px",e.stopPropagation(),t.onHorizontalChange&&t.onHorizontalChange(e)}},{key:"_verticalScrollbarHandler",value:function(e){var t=this;t.$.scrollViewerContentContainer.style.top=-t.scrollTop+"px",e.stopPropagation(),t.onVerticalChange&&t.onVerticalChange(e)}},{key:"_touchmoveHandler",value:function(e){var t=this;if(t._touchmoveInside&&e.cancelable)return e.preventDefault(),void e.stopPropagation();var n=t.scrollHeight>0,r=t.scrollWidth>0,a=t._touchCoords;if((n||r)&&a){var o,i,l,s,u=e.touches[0];t._touchCoords=[u.pageX,u.pageY],n?(o=t.scrollTop,i=t.scrollHeight,l=u.pageY,s=a[1]):(o=t.scrollLeft,i=t.scrollWidth,l=u.pageX,s=a[0]);var d=parseFloat(l.toFixed(5)),c=parseFloat(s.toFixed(5));0===o&&d>=c||o===i&&d<=c||(l!==s&&(t._touchmoveInside=!0),e.cancelable&&(e.preventDefault(),e.stopPropagation()))}}},{key:"_touchstartHandler",value:function(e){var t=e.touches[0];this._touchCoords=[t.pageX,t.pageY]}},{key:"_mouseWheelHandler",value:function(e){var t=this;if(!t.disabled&&(t.computedHorizontalScrollBarVisibility||t.computedVerticalScrollBarVisibility)){if(e.shiftKey&&t.computedHorizontalScrollBarVisibility){var n=t.scrollLeft;if(0===n&&e.deltaX<0||n===t.scrollHeight&&e.deltaX>0)return;return e.stopPropagation(),e.preventDefault(),void(t.scrollWidth>0&&t.scrollTo(void 0,t.scrollLeft+t._getScrollCoefficient(e,t.offsetWidth)))}if(t.computedVerticalScrollBarVisibility){var r=t.scrollTop;if(0===r&&e.deltaY<0||r===t.scrollHeight&&e.deltaY>0)return;e.stopPropagation(),e.preventDefault(),t.scrollHeight>0&&t.scrollTo(t.scrollTop+t._getScrollCoefficient(e,t.offsetHeight))}}}},{key:"_overriddenHandler",value:function(){}},{key:"_upHandler",value:function(){delete this._touchCoords,delete this._touchmoveInside}},{key:"_getScrollCoefficient",value:function(e,t){var n,r=e.deltaMode,a=Math.abs(e.deltaY);return 0===r?n=a<100/3?a:t:1===r?n=a<1?a*(100/3):t:2===r&&(n=t),e.deltaY<0?-n:n}},{key:"applyContent",value:function(){a(h(n.prototype),"applyContent",this).call(this),this.refresh()}},{key:"scrollTo",value:function(e,t){var n=this;n._scrollView&&(void 0!==e&&n._scrollView.scrollTo(e),void 0!==t&&n._scrollView.scrollTo(t,!1))}},{key:"refreshScrollBarsVisibility",value:function(){var e=this;e._scrollView&&(e._scrollView.hScrollBar.disabled=e.disabled,e._scrollView.vScrollBar.disabled=e.disabled,"disabled"===e.horizontalScrollBarVisibility&&(e._scrollView.hScrollBar.disabled=!0),"disabled"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.disabled=!0),e.scrollWidth>0?e._scrollView.hScrollBar.$.removeClass("smart-hidden"):"visible"!==e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("smart-hidden"),e.scrollHeight>0?e._scrollView.vScrollBar.$.removeClass("smart-hidden"):"visible"!==e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("smart-hidden"),"hidden"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("smart-hidden"),"hidden"===e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("smart-hidden"),"visible"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.removeClass("smart-hidden"),"visible"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.$.removeClass("smart-hidden"),e.disabled||(e._scrollView.vScrollBar.disabled=e.scrollHeight<=0)),e.computedHorizontalScrollBarVisibility&&e.computedVerticalScrollBarVisibility?(e._scrollView.hScrollBar.$.addClass("bottom-corner"),e._scrollView.vScrollBar.$.addClass("bottom-corner")):(e._scrollView.hScrollBar.$.removeClass("bottom-corner"),e._scrollView.vScrollBar.$.removeClass("bottom-corner")))}},{key:"ready",value:function(){a(h(n.prototype),"ready",this).call(this);var e=this;e.$.verticalScrollBar.setAttribute("aria-controls",e.id),e.$.horizontalScrollBar.setAttribute("aria-controls",e.id),e._customScrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.refresh()}},{key:"refresh",value:function(){var e=this;function t(){var t=e.$.scrollViewerContainer.classList.contains("vscroll");e.$.scrollViewerContainer.classList.remove("vscroll");var n=e.$.scrollViewerContentContainer.offsetWidth-e.$.scrollViewerContainer.offsetWidth;return n>0&&"hidden"!==e.horizontalScrollBarVisibility||"visible"===e.horizontalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("hscroll"):e.$.scrollViewerContainer.classList.remove("hscroll"),t&&e.$.scrollViewerContainer.classList.add("vscroll"),n}function n(){var t,n=e.$.scrollViewerContainer.classList.contains("hscroll");if(e.$.scrollViewerContainer.classList.remove("hscroll"),Smart.Utilities.Core.Browser.Safari){var r=e.$.scrollViewerContentContainer.getBoundingClientRect().height,a=e.$.scrollViewerContainer.getBoundingClientRect().height;t=r&&a?parseInt(r)-parseInt(a):e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight}else t=e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight;return t>0&&"hidden"!==e.verticalScrollBarVisibility||"visible"===e.verticalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("vscroll"):e.$.scrollViewerContainer.classList.remove("vscroll"),n&&e.$.scrollViewerContainer.classList.add("hscroll"),t}if(e.$.scrollViewerContentContainer){var r=e.scrollWidth,a=e.scrollHeight;e.scrollWidth=t(),e.scrollHeight=n(),e.scrollHeight&&a===e.scrollHeight||(e.scrollWidth=t()),e.scrollWidth&&r===e.scrollWidth||(e.scrollHeight=n()),e.computedVerticalScrollBarVisibility&&(e.scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.computedHorizontalScrollBarVisibility&&(e.scrollWidth+=e._scrollView.vScrollBar.offsetWidth),0===e.scrollHeight&&e.scrollWidth>0&&e.$.container.offsetHeight-e.$.content.offsetHeight<5&&(e.$.container.style.paddingBottom=e._scrollView.hScrollBar.offsetHeight+"px")}}},{key:"attached",value:function(){var e=this;a(h(n.prototype),"attached",this).call(this),e._scrollView||e._customScrollView||(e._scrollView=new Smart.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar))}},{key:"detached",value:function(){var e=this;a(h(n.prototype),"detached",this).call(this),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}},{key:"propertyChangedHandler",value:function(e,t,r){a(h(n.prototype),"propertyChangedHandler",this).call(this,e,t,r),"animation"!==e&&"theme"!==e&&this.refresh()}},{key:"computedHorizontalScrollBarVisibility",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?!e._scrollView.hScrollBar.$.hasClass("smart-hidden"):null}},{key:"computedVerticalScrollBarVisibility",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?!e._scrollView.vScrollBar.$.hasClass("smart-hidden"):null}},{key:"scrollWidth",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?1===e._scrollView.hScrollBar.max&&"visible"===e.horizontalScrollBarVisibility?0:e._scrollView.hScrollBar.max:-1},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(0===e&&"visible"===t.horizontalScrollBarVisibility?t._scrollView.hScrollBar.max=0:t._scrollView.hScrollBar.max=e,t.refreshScrollBarsVisibility())}},{key:"scrollHeight",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?1===e._scrollView.vScrollBar.max&&"visible"===e.verticalScrollBarVisibility?0:e._scrollView.vScrollBar.max:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(0===e&&"visible"===t.verticalScrollBarVisibility?t._scrollView.vScrollBar.max=1:t._scrollView.vScrollBar.max=e,t.refreshScrollBarsVisibility())}},{key:"scrollLeft",get:function(){var e=this;return e._scrollView&&e._scrollView.hScrollBar?e._scrollView.hScrollBar.value:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(t._scrollView.hScrollBar.value=e)}},{key:"scrollTop",get:function(){var e=this;return e._scrollView&&e._scrollView.vScrollBar?e._scrollView.vScrollBar.value:0},set:function(e){var t=this;e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(t._scrollView.vScrollBar.value=e)}}],[{key:"properties",get:function(){return{horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}},{key:"listeners",get:function(){return{"horizontalScrollBar.change":"_horizontalScrollbarHandler","verticalScrollBar.change":"_verticalScrollbarHandler",touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}},{key:"styleUrls",get:function(){return["smart.scrollviewer.css"]}}]),n}(window[t].ContentElement)),window[t].Utilities.Assign("PositionDetection",function(){function e(t,n,r,a){if(f(this,e),n){var o="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1);n.id=o,t.setAttribute("aria-owns",o)}this.context=t,this.dropDown=n,this.defaultParent=r,this.closeMethod=a}return m(e,[{key:"handleAutoPositioning",value:function(){var e=this,t=e.context;if("auto"===t.dropDownPosition&&!t.disabled){var n,r=window.requestAnimationFrame,a=Date.now();return n=r((function o(){n=r(o),"auto"===t.dropDownPosition&&!t.disabled&&(t.isInShadowDOM?document.body.contains(t.shadowParent):document.body.contains(t))||cancelAnimationFrame(n),Date.now()-a>=200&&(e.scrollHandler(),a=Date.now())}))}}},{key:"checkBrowserBounds",value:function(e){var t=this.context;if("auto"===t.dropDownPosition&&!t.disabled)switch(e){case"vertically":this.checkBrowserBoundsVertically();break;case"horizontally":this.checkBrowserBoundsHorizontally();break;default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}},{key:"checkBrowserBoundsHorizontally",value:function(){var e,t=this.context,n=this.dropDown,r=0;g.isMobile||window.innerWidth===document.documentElement.clientWidth||(r=window.innerWidth-document.documentElement.clientWidth),null!==t._dropDownParent?e=!0:n.style.left="";var a=window.innerWidth-r,o=t.getBoundingClientRect().left;if(o<0&&(n.style.left=(e?0:Math.abs(o))+"px",o=parseFloat(n.style.left)),o+n.offsetWidth>a){var i=o-Math.abs(a-o-n.offsetWidth);e&&(i+=window.pageXOffset),n.style.left=(e?i:i-o)+"px",window.innerWidth===document.documentElement.clientWidth&&(n.style.left=parseFloat(n.style.left)+r+"px"),e&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}},{key:"checkBrowserBoundsVertically",value:function(e){var t=this.context,n=this.dropDown,r=t._dropDownListPosition;e||(e=t.getBoundingClientRect()),0!==e.height&&(document.documentElement.clientHeight-Math.abs(e.top+e.height+n.offsetHeight)>=0?t._dropDownListPosition="bottom":e.top-n.offsetHeight>=0?t._dropDownListPosition="top":t._dropDownListPosition="overlay-center",this.updatePositionAttribute(r,t._dropDownListPosition))}},{key:"scrollHandler",value:function(){var e=this.context;if(e.parentElement){var t=e.getBoundingClientRect();if(t.top!==e._positionTop){var n=e._dropDownListPosition;this.checkBrowserBoundsVertically(t),e._dropDownListPosition!==n&&this.positionDropDown(),e._positionTop=t.top}}}},{key:"getDropDownParent",value:function(e){var t=this.context,n=this.dropDown,r=t.dropDownAppendTo;t._positionedParent=null,null===r?t._dropDownParent=null:"body"===r||r===document.body?t.getRootNode().host?t._dropDownParent=t.getRootNode().host.shadowRoot:t._dropDownParent=document.body:r instanceof HTMLElement?t._dropDownParent=r:"string"==typeof r?(r=document.getElementById(r))instanceof HTMLElement?t._dropDownParent=r:(t.dropDownAppendTo=null,t._dropDownParent=null):(t.dropDownAppendTo=null,t._dropDownParent=null);var a=t._dropDownParent;if(null!==a){for(;a&&a instanceof HTMLElement&&"static"===window.getComputedStyle(a).position&&a!==t.getShadowRootOrBody();)a=a.parentElement;a===document.body?t._positionedParent=null:t._positionedParent=a,n&&(n.setAttribute("animation",t.animation),""!==t.theme&&n.$.addClass(t.theme),e&&(t._dropDownParent.appendChild(n),n.$.addClass("smart-drop-down-repositioned")),-1===t.detachedChildren.indexOf(n)&&t.detachedChildren.push(n))}}},{key:"dropDownAppendToChangedHandler",value:function(){var e=this.context,t=this.dropDown,n=e._dropDownParent;this.getDropDownParent(),e._dropDownParent!==n&&(e[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach((function(e){return t.style[e]=null})),null===e._dropDownParent?(this.defaultParent.appendChild(t),t.$.removeClass("smart-drop-down-repositioned")):(e._dropDownParent.appendChild(t),t.$.addClass("smart-drop-down-repositioned")))}},{key:"dropDownPositionChangedHandler",value:function(){this.dropDown.style.transition="none",this.context[this.closeMethod](),this.setDropDownPosition(),this.handleAutoPositioning()}},{key:"dropDownAttached",value:function(e){var t=this.context;null!==t._dropDownParent&&(t._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),e&&t[e]())}},{key:"dropDownDetached",value:function(){var e=this.context;null!==e._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(e._dropDownParent)&&e._dropDownParent.removeChild(this.dropDown)}},{key:"setDropDownPosition",value:function(){var e=this.context,t=e.dropDownPosition,n=e._dropDownListPosition;"auto"===t?this.checkBrowserBounds():e._dropDownListPosition=t,this.updatePositionAttribute(n,e._dropDownListPosition)}},{key:"updatePositionAttribute",value:function(e,t){var n=this.context,r=this.dropDown;n.$.dropDownButton&&!n.$.dropDownButton.hasAttribute(t)&&(n.$.dropDownButton.removeAttribute(e),n.$.dropDownButton.setAttribute(t,"")),r.hasAttribute(t)||(r.style.transition="none",r.removeAttribute(e),r.setAttribute(t,""),requestAnimationFrame((function(){r.style.transition=null})))}},{key:"positionDropDown",value:function(e){var t=this.context,n=this.dropDown;if(t.opened&&null!==t._dropDownParent){var r,a,o=t.getBoundingClientRect();if(this.customPositionDropDown){var i=this.customPositionDropDown(o);r=i.left,a=i.top}else switch(r=o.left,a=o.top,t._dropDownListPosition){case"bottom":a+=t.$.container.offsetHeight-1;break;case"center-bottom":a+=t.$.container.offsetHeight-1,r+=t.offsetWidth-n.offsetWidth/2;break;case"center-top":a-=n.offsetHeight-1,r+=t.offsetWidth-n.offsetWidth/2;break;case"top":a-=n.offsetHeight-1;break;case"overlay-bottom":break;case"overlay-center":a-=n.offsetHeight/2-t.offsetHeight/2;break;case"overlay-top":a-=n.offsetHeight-t.offsetHeight}var l=this.getDropDownOffset();n.style.top=a+l.y+"px",e||(n.style.left=r+l.x+"px")}}},{key:"getDropDownOffset",value:function(){var e,t,n=this.context._positionedParent;if(n){var r=n.getBoundingClientRect();e=-r.left,t=-r.top}else e=window.pageXOffset,t=window.pageYOffset;return{x:e,y:t}}},{key:"placeOverlay",value:function(){var e=this.context;if(e.dropDownOverlay&&!e._overlay){var t=document.createElement("div");t.classList.add("smart-drop-down-overlay"),t.style.width=document.documentElement.scrollWidth+"px",t.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(t),e._overlay=t}}},{key:"removeOverlay",value:function(e){var t=this,n=t.context;n._overlay&&(n.hasAnimation&&e?requestAnimationFrame((function e(){t.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(e):(document.body.removeChild(n._overlay),delete n._overlay)})):(document.body.removeChild(n._overlay),delete n._overlay))}}]),e}())}()}})},1:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function i(e){return function(){var t,n=u(e);if(s()){var r=u(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l(this,t)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==p(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}({5:function(e,t){Smart("smart-button",function(e){d(r,Smart.ContentElement);var t=i(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"template",value:function(){return"<button class=\"smart-button smart-unselectable\" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role=\"presentation\"></button>"}},{key:"refresh",value:function(){}},{key:"focus",value:function(){var e=this;e.$.button?e.$.button.focus():HTMLElement.prototype.focus.call(e)}},{key:"blur",value:function(){var e=this;e.$.button?e.$.button.blur():HTMLElement.prototype.blur.call(e)}},{key:"_upHandler",value:function(e){e.stopPropagation(),this.$.setAttributeValue("active",!1)}},{key:"_focusHandler",value:function(){this.$.setAttributeValue("focus",!0),this.$.fireEvent("focus")}},{key:"_blurHandler",value:function(){this.$.setAttributeValue("focus",!1),this.$.fireEvent("blur")}},{key:"_clickHandler",value:function(e){("release"!==this.clickMode&&"pressAndRelease"!==this.clickMode||this.readonly)&&(e.preventDefault(),e.stopPropagation())}},{key:"_downHandler",value:function(e){var t=this;if(!(t.disabled||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t.$.setAttributeValue("active",!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly))){var n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_mouseEnterHandler",value:function(e){var t=this;if(!t.readonly&&(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0),"hover"===t.clickMode)){var n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}},{key:"_touchEndHandler",value:function(){var e=this;setTimeout((function(){e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)}),300)}},{key:"_mouseLeaveHandler",value:function(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}},{key:"propertyChangedHandler",value:function(e,t,n){o(u(r.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;"disabled"===e?(a._setFocusable(),a.$button&&a.$button.setAttributeValue("hover",!1),a.$.setAttributeValue("hover",!1),a instanceof Smart.RepeatButton&&a._stopRepeat()):"unfocusable"===e&&a._setFocusable()}},{key:"_setFocusable",value:function(){var e=this.$.button?this.$.button:this;if(this.disabled||this.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1);e.tabIndex=this.tabIndex>0?this.tabIndex:0}},{key:"ready",value:function(){var e=this;o(u(r.prototype),"ready",this).call(this),e.setAttribute("role","button"),e._setFocusable(),e.enableShadowDOM&&e.$.hiddenInput&&e.appendChild(e.$.hiddenInput)}}],[{key:"properties",get:function(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}},{key:"styleUrls",get:function(){return["smart.button.css"]}},{key:"listeners",get:function(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}}]),r}()),Smart("smart-repeat-button",function(e){d(r,Smart.Button);var t=i(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"_clickHandler",value:function(e){var t=this;("release"!==t.clickMode||t.preventDefaultClick||t.readonly||t.disabled)&&(e.preventDefault(),e.stopPropagation(),t.preventDefaultClick=!1)}},{key:"_updateInBoundsFlag",value:function(e){var t=this;-1!==e.type.indexOf("leave")?(t._isPointerInBounds=!1,t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)):(t._isPointerInBounds=!0,t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0)),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}},{key:"_startRepeat",value:function(e){var t=this;t.setAttribute("active",""),t._initialTimer||t.readonly||(t._initialTimer=setTimeout((function(){t._repeatTimer=setInterval((function(){if(t._isPointerInBounds){var n="buttons"in e?e.buttons:e.which;t.$.fireEvent("click",{buttons:n,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),t.preventDefaultClick=!0}}),t.delay)}),t.initialDelay))}},{key:"_stopRepeat",value:function(e){var t=this;t.readonly||e&&("pointercancel"===e.type||e.originalEvent&&"pointercancel"===e.originalEvent.type)||(t.$.setAttributeValue("active",!1),t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null))}},{key:"_touchmoveHandler",value:function(e){this.preventDefaultClick&&e.cancelable&&(e.preventDefault(),e.stopPropagation())}},{key:"_overriddenHandler",value:function(){}}],[{key:"properties",get:function(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}},{key:"listeners",get:function(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}}]),r}()),Smart("smart-toggle-button",function(e){d(r,Smart.Button);var t=i(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"ready",value:function(){o(u(r.prototype),"ready",this).call(this),this._setAriaState()}},{key:"_setAriaState",value:function(){var e=this,t=e.checked;null!==t?e.setAttribute("aria-pressed",t):e.setAttribute("aria-pressed","mixed")}},{key:"_buttonClickHandler",value:function(){}},{key:"_buttonMouseLeaveHandler",value:function(){this.removeAttribute("hover")}},{key:"_buttonMouseEnterHandler",value:function(){this.setAttribute("hover",""),this.disabled||this.readonly||"hover"!==this.clickMode||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue())}},{key:"_documentUpHandler",value:function(e){this._pressed&&(this._pressed=!1,this.disabled||this.readonly||"press"===this.clickMode||"pointercancel"===e.originalEvent.type||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue()))}},{key:"_downHandler",value:function(e){var t=this;t.disabled||t.readonly||(t.hasRippleAnimation&&Smart.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t._updateHidenInputNameAndValue()),"press"===t.clickMode&&(e.preventDefault(),e.stopPropagation()))}},{key:"_dragStartHandler",value:function(e){e.preventDefault()}},{key:"_keyHandler",value:function(e){var t=this;if(!0!==t.disabled&&!t.readonly&&32===e.keyCode){if("keydown"===e.type)return void e.preventDefault();if("none"===t.switchMode)return;t._changeCheckState("keyboard"),t._updateHidenInputNameAndValue()}}},{key:"_changeCheckState",value:function(e){var t=this,n=null;null===t.checked?t.checked=!0:(n=t.checked,t.checked=!t.checked),t._handleTextSelection(),t.$.fireEvent("change",{value:t.checked,oldValue:n,changeType:e}),t.checked?t.$.fireEvent("checkValue",{changeType:e}):t.$.fireEvent("uncheckValue",{changeType:e}),t._setAriaState()}},{key:"_handleTextSelection",value:function(){var e=this;e.$.addClass("smart-unselectable"),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){return e.$.removeClass("smart-unselectable")}),500)}},{key:"propertyChangedHandler",value:function(e,t,n){o(u(r.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;if("checked"===e)return a.$.fireEvent("change",{value:n,oldValue:t,changeType:"api"}),void a._setAriaState();switch(e){case"trueTemplate":a._handleTemplate(!0);break;case"falseTemplate":a._handleTemplate(!1);break;case"indeterminateTemplate":a._handleTemplate()}}},{key:"_htmlBindOnInitialization",value:function(){this._bindContentProperty("trueContent","smart-true-content"),this._bindContentProperty("falseContent","smart-false-content"),this._bindContentProperty("indeterminateContent","smart-indeterminate-content")}},{key:"_bindContentProperty",value:function(e,t){var n=this;if(n.$[e+"Container"]){var r=document.createElement("div");r.innerHTML=n.innerHTML;var a,o=r.getElementsByClassName(t);if(o.length>0)for(var i=0;i<o.length;i++)a=o[i];""===n[e]&&(n[e]=void 0===a?"":a.outerHTML),n.$[e+"Container"].innerHTML=n[e]}}},{key:"_updateContentProperties",value:function(){var e=this;function t(t){e.$[t+"Container"]&&(e[t]=e.$[t+"Container"].innerHTML)}t("trueContent"),t("falseContent"),t("indeterminateContent")}},{key:"_updateHidenInputValue",value:function(){var e,t=this;t.$.hiddenInput&&(e=null===t.checked?"null":!1===t.checked?"off":t.value||"on",t.$.hiddenInput.setAttribute("value",e))}},{key:"_updateHidenInputName",value:function(){if(this.$.hiddenInput){var e=!1===this.checked?"":this.name||"";this.$.hiddenInput.setAttribute("name",e)}}},{key:"_updateHidenInputNameAndValue",value:function(){this._updateHidenInputName(),this._updateHidenInputValue()}},{key:"_handleTemplate",value:function(e,t){var n,r,a,o=this;if(!0===e?(n=o.trueTemplate,r=o.$.trueContentContainer,a=o.trueContent):!1===e?(n=o.falseTemplate,r=o.$.falseContentContainer,a=o.falseContent):(n=o.indeterminateTemplate,r=o.$.indeterminateContentContainer,a=o.indeterminateContent),t&&(r.innerHTML=a||""),null!==n&&n)if("function"!=typeof n)if("content"in document.createElement("template"))if(null!==(n=document.getElementById(n))&&"content"in n){for(var i,l=n.content,s=l.childNodes.length,u=/{{\w+}}/g,d=[],c=0;c<s;c++)for(i=u.exec(l.childNodes[c].innerHTML);i;)d.push({childNodeIndex:c,bindingString:i[0]}),i=u.exec(l.childNodes[c].innerHTML);for(var p,h,f=d.length,v=document.importNode(n.content,!0),m=0;m<f;m++){p=v.childNodes[d[m].childNodeIndex],h=d.length;for(var b=0;b<h;b++)p.innerHTML=p.innerHTML.replace(d[m].bindingString,a)}r.innerHTML="";for(var g=0;g<v.childNodes.length;g++)v.childNodes[g].outerHTML&&(r.innerHTML+=v.childNodes[g].outerHTML)}else o.error(o.localize("invalidTemplate",{elementType:o.nodeName.toLowerCase(),property:"template"}));else o.error(o.localize("htmlTemplateNotSuported",{elementType:o.nodeName.toLowerCase()}));else n(r,{value:a})}}],[{key:"properties",get:function(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}},{key:"listeners",get:function(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}}]),r}())}})},169:function(e,t,n){"use strict";n.r(t),n.d(t,"smartTabs",(function(){return h})),n.d(t,"smartTabItem",(function(){return f}));n(0),n(1),n(2),n(55);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function l(e){return function(){var t,n=d(e);if(u()){var r=d(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return s(this,t)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){c(n,Smart.Component);var t=l(n);function n(){return a(this,n),t.apply(this,arguments)}return i(n,[{key:"name",get:function(){return"smartTabs"}}]),n}(),f=function(e){c(n,Smart.Component);var t=l(n);function n(){return a(this,n),t.apply(this,arguments)}return i(n,[{key:"name",get:function(){return"smartTabItem"}}]),n}()},2:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function o(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==u(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=97)}({97:function(e,t){Smart("smart-scroll-bar",function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(h,Smart.BaseElement);var t,u,d,c,p=(t=h,function(){var e,n=l(t);if(i()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return o(this,e)});function h(){return n(this,h),p.apply(this,arguments)}return u=h,c=[{key:"properties",get:function(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}},{key:"styleUrls",get:function(){return["smart.scrollbar.css"]}},{key:"listeners",get:function(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}}],(d=[{key:"template",value:function(){return'<div id="container" class="smart-container" role="presentation">\n                    <div id="nearButton" class="smart-scroll-button smart-arrow-left" role="presentation" aria-hidden="true"></div>\n                    <div  id="track" class="smart-track" role="presentation">\n                        <div id="thumb" class="smart-thumb" role="presentation"></div>\n                    </div>\n                    <div id="farButton" class="smart-scroll-button smart-arrow-right" role="presentation" aria-hidden="true"></div>\n            </div>'}},{key:"_updateInBoundsFlag",value:function(e){var t=e.target;t._isPointerInBounds=!0,-1!==e.type.indexOf("leave")&&(t._isPointerInBounds=!1),1!==("buttons"in e?e.buttons:e.which)&&this._stopRepeat(e)}},{key:"_startRepeat",value:function(e){var t=this;if(!t.disabled){var n=e.target;n._initialTimer||(n._initialTimer=setTimeout((function(){n._repeatTimer=setInterval((function(){if(n._isPointerInBounds){var t="buttons"in e?e.buttons:e.which;n.$.fireEvent("click",{buttons:t,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}),t.clickRepeatDelay)}),3*t.clickRepeatDelay))}}},{key:"_stopRepeat",value:function(e){if(!this.disabled){var t=e.target;t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null)}}},{key:"_calculateThumbSize",value:function(e){var t=this,n=t.max-t.min,r="horizontal"===t.orientation?t.$.track.offsetWidth>10:t.$.track.offsetHeight>10,a=0;return n>=1&&r?(a=e/(n+e)*e,t.$.thumb.className.indexOf("smart-hidden")>=0&&t.$thumb.removeClass("smart-hidden")):t.$thumb.addClass("smart-hidden"),Math.max(10,Math.min(a,e))}},{key:"_dragStartHandler",value:function(e){this.disabled||(this.thumbCapture=!0,this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value,e.stopPropagation(),e.preventDefault())}},{key:"_dragHandler",value:function(e){if(!0===this.thumbCapture){this._isThumbDragged=!0;var t=(this.max-this.min)/(this.scrollBarSize-this.thumbSize),n="horizontal"===this.orientation?(e.clientX-this.dragStartX)*t:(e.clientY-this.dragStartY)*t,r=n;this.rightToLeft&&"horizontal"===this.orientation&&(r=-n),this._updateValue(this.dragStartValue+r),e.stopPropagation(),e.preventDefault(),e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}}},{key:"_dragEndHandler",value:function(e){var t=this;t._trackDownTimer&&(clearInterval(t._trackDownTimer),t._trackDownTimer=null),t.thumbCapture&&(t.thumbCapture=!1,t._isThumbDragged=!1,"switchWhenReleased"===t.mechanicalAction?t._updateValue(t.dragStartValue,t.value):"switchUntilReleased"===this.mechanicalAction&&t._updateValue(t.dragStartValue),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation())}},{key:"_farButtonClickHandler",value:function(){var e=this;if(!e.disabled){var t=e.value;e._updateValue(e.value+("horizontal"===e.orientation&&e.rightToLeft?-1:1)*e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}}},{key:"_nearButtonClickHandler",value:function(){var e=this;if(!e.disabled){var t=e.value;e._updateValue(e.value-("horizontal"===e.orientation&&e.rightToLeft?-1:1)*e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}}},{key:"propertyChangedHandler",value:function(e,t,n){a(l(h.prototype),"propertyChangedHandler",this).call(this,e,t,n);var r=this;switch(e){case"min":case"max":case"orientation":case"showButtons":r._layout(),"min"===e?r.setAttribute("aria-valuemin",n):"max"===e?r.setAttribute("aria-valuemax",n):"orientation"===e&&r.setAttribute("aria-orientation",n);break;case"value":r._updateValue(t,n);break;default:r._layout()}}},{key:"render",value:function(){this.setAttribute("role","scrollbar"),this.setAttribute("aria-orientation",this.orientation),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuenow",this.value),this._layout(),a(l(h.prototype),"render",this).call(this)}},{key:"_resizeHandler",value:function(){this._layout()}},{key:"refresh",value:function(){this._layout()}},{key:"_layout",value:function(){var e=this;e.scrollBarSize="horizontal"===e.orientation?e.$.track.offsetWidth:e.$.track.offsetHeight,e.thumbSize=e._calculateThumbSize(e.scrollBarSize),"horizontal"===e.orientation&&e.$.thumb.style.width!==e.thumbSize+"px"?e.$.thumb.style.width=e.thumbSize+"px":"vertical"===e.orientation&&e.$.thumb.style.height!==e.thumbSize+"px"&&(e.$.thumb.style.height=e.thumbSize+"px"),"horizontal"===e.orientation?(e.$.nearButton.classList.contains("smart-arrow-up")&&e.$.nearButton.classList.remove("smart-arrow-up"),e.$.farButton.classList.contains("smart-arrow-down")&&e.$.farButton.classList.remove("smart-arrow-down"),e.$.nearButton.classList.contains("smart-arrow-left")||e.$.nearButton.classList.add("smart-arrow-left"),e.$.farButton.classList.contains("smart-arrow-right")||e.$.farButton.classList.add("smart-arrow-right")):(e.$.nearButton.classList.contains("smart-arrow-left")&&e.$.nearButton.classList.remove("smart-arrow-left"),e.$.farButton.classList.contains("smart-arrow-right")&&e.$.farButton.classList.remove("smart-arrow-right"),e.$.nearButton.classList.contains("smart-arrow-up")||e.$.nearButton.classList.add("smart-arrow-up"),e.$.farButton.classList.contains("smart-arrow-down")||e.$.farButton.classList.add("smart-arrow-down")),e._updateThumbPosition(),(e.value>e.max||e.value<e.min)&&e._updateValue(e.value,e.value>e.max?e.max:e.min)}},{key:"_selectStartHandler",value:function(e){this.thumbCapture&&e.preventDefault()}},{key:"_trackDownHandler",value:function(e){var t=this;e.target===t.$.track&&(t._trackDownTimer&&clearInterval(t._trackDownTimer),t.thumbCapture||(t._trackDownTimer=setInterval((function(){t._trackClickHandler(e)}),t.clickRepeatDelay),e.stopPropagation(),e.preventDefault()))}},{key:"_trackClickHandler",value:function(e){var t=this;if(!t.disabled){if(t._isThumbDragged)return clearInterval(t._trackDownTimer),void(t._trackDownTimer=null);var n=t.$.thumb.getBoundingClientRect(),r=e.pageX-window.pageXOffset,a=e.pageY-window.pageYOffset,o=(t.rightToLeft?-1:1)*t.value;"horizontal"===t.orientation?r>(t._isThumbDragged?t.dragStartX:n.right)?t._updateValue(t.value+(t.rightToLeft?-1:1)*t.largeStep):r<(t._isThumbDragged?t.dragStartX:n.left)&&t._updateValue(t.value-(t.rightToLeft?-1:1)*t.largeStep):a>(t._isThumbDragged?t.dragStartY:n.bottom)?t._updateValue(t.value+t.largeStep):a<(t._isThumbDragged?t.dragStartY:n.top)&&t._updateValue(t.value-t.largeStep),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(o)}}},{key:"_trackMoveHandler",value:function(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}},{key:"_updateValue",value:function(e,t){var n=this;if(1===arguments.length&&(t=e,e=n.value),(void 0===t||isNaN(t))&&(t=n.min),t>n.max&&(t=n.max),t<n.min&&(t=n.min),n.value=t,e!==t){if(n.setAttribute("aria-valuenow",t),n._updateThumbPosition(),n.thumbCapture&&"switchWhenReleased"===n.mechanicalAction)return;if(n.onChange)return void n.onChange({value:n.value,oldValue:e,min:n.min,max:n.max});n.$.fireEvent("change",{value:n.value,oldValue:e,min:n.min,max:n.max})}}},{key:"_updateThumbPosition",value:function(){var e=this,t="horizontal"===e.orientation?e.$.track.offsetWidth:e.$.track.offsetHeight,n=e._calculateThumbSize(t),r=t-n,a=(t-n)/(e.max-e.min)*(e.value-e.min);e.rightToLeft&&"horizontal"===e.orientation&&(a=(t-n)/(e.max-e.min)*(e.max-e.value-e.min)),a=Math.min(r,Math.max(0,a)),"vertical"===e.orientation&&e.$.thumb.style.top!==a+"px"?e.$.thumb.style.top=a+"px":"horizontal"===e.orientation&&e.$.thumb.style.left!==a+"px"&&(e.$.thumb.style.left=a+"px")}}])&&r(u.prototype,d),c&&r(u,c),h}())}})},55:function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}function i(e){return function(){var t,n=u(e);if(s()){var r=u(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l(this,t)}}function l(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==p(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=104)}({104:function(e,t){Smart("smart-tab-item",function(e){d(r,Smart.ContentElement);var t=i(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"render",value:function(){this.setAttribute("role","tabpanel"),this.firstElementChild.setAttribute("role","presentation"),o(u(r.prototype),"render",this).call(this)}},{key:"attached",value:function(){o(u(r.prototype),"attached",this).call(this),this.isCompleted&&(this.$.removeClass("right"),this.$.removeClass("left"),this.$.removeClass("top"),this.$.removeClass("bottom"),this.$.removeClass("animate"))}},{key:"propertyChangedHandler",value:function(e,t,n){o(u(r.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;if(a._preventPropertyChangedHandler)delete a._preventPropertyChangedHandler;else switch(e){case"closeButtonHidden":a.$.fireEvent("closeButtonVisibilityChange",{hidden:n});break;case"index":a.$.fireEvent("indexChange",{newIndex:n,oldIndex:t,tabItem:a});break;case"label":var i=a.closest("smart-tabs");i?i._updateTabLabel(a,n):a.setAttribute("aria-label",n);break;case"selected":a.tabLabelContainer&&a.tabLabelContainer.setAttribute("aria-selected",n);break;case"labelSize":a.$.fireEvent("labelSizeChange",{size:n})}}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}t.firstElementChild.appendChild(e)}},{key:"_setIndex",value:function(e){var t=this.context;this.context=this,this.index=e,this.context=t}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{closeButtonHidden:{value:!1,type:"boolean"},index:{value:null,type:"number?"},selected:{value:!1,type:"boolean"},label:{value:"",type:"string"},labelSize:{value:null,type:"number?"}}}}]),r}()),Smart("smart-tab-items-group",function(e){d(r,Smart.ContentElement);var t=i(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"template",value:function(){return""}},{key:"propertyChangedHandler",value:function(e,t,n){o(u(r.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;if(a._preventPropertyChangedHandler)delete a._preventPropertyChangedHandler;else switch(e){case"label":var i=a.closest("smart-tabs");if(!i)return;var l=i._groups.indexOf(t),s=Array.from(i.$.tabStrip.querySelectorAll(".smart-tab-group-container")).find((function(e){return e.group===t}));Array.from(a.querySelectorAll("smart-tab-item")).forEach((function(e){return e.group=n})),s.querySelector(".smart-tab-label-text-container").innerHTML=n,s.setAttribute("aria-label",n),s.group=n,i._groups[l]=n;break;case"labelSize":this.$.fireEvent("labelSizeChange",{size:n})}}},{key:"enableShadowDOM",get:function(){return!1}}],[{key:"properties",get:function(){return{label:{value:"",type:"string"},labelSize:{value:null,type:"number?"}}}}]),r}()),Smart("smart-tabs",function(e){d(r,Smart.BaseElement);var t=i(r);function r(){return n(this,r),t.apply(this,arguments)}return a(r,[{key:"template",value:function(){return'<div id="container">\n                    <div id="tabsHeaderSection" class="smart-header smart-tabs-header-section">\n                        <div id="tabsHeaderItems" class="smart-tabs-header-items">\n                            <smart-repeat-button id="scrollButtonNear" class="smart-tabs-scroll-button smart-nav-button smart-spin-button smart-hidden" animation="[[animation]]" unfocusable>\n                                <div id="arrowNear" class="smart-arrow" aria-hidden="true"></div>\n                            </smart-repeat-button>\n                            <div id="tabStrip" class="smart-tab-strip"></div>\n                            <smart-repeat-button id="scrollButtonFar" class="smart-tabs-scroll-button smart-nav-button smart-spin-button smart-hidden" animation="[[animation]]" unfocusable>\n                                <div id="arrowFar" class="smart-arrow" aria-hidden="true"></div>\n                            </smart-repeat-button>\n                            <div id="dropDownButton" class="smart-drop-down-button" role="button" aria-expanded="false" aria-label="Open tab selection popup">\n                                <div id="dropDownButtonArrow" class="smart-drop-down-button-arrow smart-unselectable" aria-hidden="true"></div>\n                            </div>\n                            <span id="tabSelectionBar" class="smart-tabs-selection-bar" role="presentation"></span>\n                            <div id="resizeToken" class="smart-tabs-resize-token smart-hidden" role="presentation"></div>\n                        </div>\n                        <div id="tabHeaderControls" class="smart-tabs-header-controls"></div>\n                    </div>\n                    <div id="tabContentSection" class="smart-tabs-content-section">\n                       <content></content>\n                    </div>\n                    <div id="dropDownButtonDropDown" class="smart-drop-down-button-drop-down smart-hidden"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}},{key:"attached",value:function(){o(u(r.prototype),"attached",this).call(this),this.isCompleted&&this.isRendered&&this._applyTabOverflow()}},{key:"ready",value:function(){o(u(r.prototype),"ready",this).call(this),this._flexWritingModeNoFullSupport=!0}},{key:"render",value:function(){this._createElement(),o(u(r.prototype),"render",this).call(this)}},{key:"appendChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.appendChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e instanceof Smart.TabItem||t.error(t.localize("tabItemRequired",{method:"appendChild"})),t.isRendered?t.insert(t._tabs.length,{node:e}):t.whenRendered((function(){return t.insert(t._tabs.length,{node:e})}))}},{key:"collapse",value:function(){this.collapsible&&!this.collapsed&&(this.collapsed=!0)}},{key:"ensureVisible",value:function(e){var t=this;if(null!==e&&"wrap"!==t.tabLayout&&"shrink"!==t.tabLayout&&"hidden"!==t.tabPosition){t._validateIndex(e,"ensureVisible"),e=Math.max(0,Math.min(e,t._tabs.length-1));var n=t._tabs[e].group,r=t.$.tabStrip,a=r.getBoundingClientRect(),o=(null===n?t._tabLabelContainers[e]:t._groupLabels[t._groups.indexOf(n)]).getBoundingClientRect();"top"===t.tabPosition||"bottom"===t.tabPosition?a.left>o.left?r.scrollLeft+=Math.round(o.left-a.left):r.scrollLeft+=Math.round(o.right-a.right):"left"!==t.tabPosition&&"right"!==t.tabPosition||!(a.top>o.top||a.bottom<o.bottom)?(r.scrollLeft=t._getScrollLeft(0),t.$.tabStrip.scrollTop=0):r.scrollTop+=Math.round(o.bottom-r.offsetHeight-a.top),t._updateScrollButtonVisibility(),t.resize&&t._getTabCoordinates()}}},{key:"expand",value:function(){this.collapsible&&this.collapsed&&(this.collapsed=!1)}},{key:"getOffsetFromEdgeOfElement",value:function(e){var t=this;t._validateIndex(e,"getOffsetFromEdgeOfElement"),e=Math.max(0,Math.min(e,t._tabs.length-1));var n=t._tabs[e],r=t.tabPosition;return"hidden"!==r?Math.abs(n.getBoundingClientRect()[r]-t.getBoundingClientRect()[r]):n.getBoundingClientRect().top-t.getBoundingClientRect().top}},{key:"insert",value:function(e,t){var n,r,a=this;if(a._validateIndex(e,"insert"),(void 0===t||void 0===t.label&&void 0===t.content&&void 0===t.node)&&a.error(a.localize("detailsObjectRequired")),void 0===t.node)n=t.group,(r=document.createElement("smart-tab-item")).label=void 0!==t.label?t.label:"",r.labelSize=void 0!==t.labelSize?t.labelSize:null,r.content=t.content;else if(void 0!==(r=t.node).index&&null!==r.index){var o=r.context;r.context=r,r.index=null,r.context=o}r.$.addClass("smart-visibility-hidden"),r.group=null;var i=a._addTabLabelContainer(r),l=i.tabLabelContainer,s=i.dropDownLabelContainer;l.tab=r,r.tabLabelContainer=l;var u={index:e,tab:r,tabLabelContainer:l,dropDownLabelContainer:s};if(a._setAriaRelations(r,l,s),0===a._groups.length&&void 0===n)a._insertNoGrouping(u);else if(null!=n){u.group=n;var d=a.$.tabContentSection.querySelector('smart-tab-items-group[label="'+n+'"]');null!==d?(u.smartTabItemsGroup=d,a._insertIntoExistingGroup(u)):a._insertIntoNewGroup(u)}else a._insertNearAGroup(u);a._getReorderItems(),null===a.selectedIndex&&!a.allowToggle&&a._tabs.length&&a._select(0,!0),null!==r.group&&null!==r.labelSize&&"shrink"!==a.tabLayout&&l.style.removeProperty([a._orientationSettings.dimension]),a._applyTabOverflow()}},{key:"insertBefore",value:function(e,t){var n,r=this;if(!r.isCompleted){var a=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.insertBefore.apply(r,a.concat(Array.prototype.slice.call(arguments)))}e instanceof Smart.TabItem&&(null==t||t instanceof Smart.TabItem)||r.error(r.localize("tabItemRequired",{method:"insertBefore"})),r.contains(e)&&(e.selected&&(n=!0),r.removeAt(e.index)),null!=t?(r.contains(t)||r.error(r.localize("referenceNodeNotChild",{argument:"referenceNode"})),r.insert(t.index,{node:e})):r.insert(r._tabs.length,{node:e}),n&&r._select(e.index,!1)}},{key:"refreshTabHeader",value:function(){var e=this;"scroll"===e.tabLayout&&e._checkOverflowScroll(),e._positionTabSelectionBar(e._tabLabelContainers?e._tabLabelContainers[e.selectedIndex]:void 0,!0)}},{key:"removeAt",value:function(e){var t=this,n=t._tabs.length;if(0!==n){t._validateIndex(e,"remove"),e=Math.max(0,Math.min(e,n-1));var r=t._tabs[e],a=t._tabLabelContainers[e];if(a._lazyRemove?a.classList.add("smart-hidden"):a.parentElement.removeChild(a),r.parentElement.removeChild(r),null!==r.group){var o=t.$.tabContentSection.querySelector('smart-tab-items-group[label="'+r.group+'"]');if(0===o.childElementCount){var i=t._groups.indexOf(r.group);t.$.tabStrip.removeChild(t._groupLabels[i]),t._groups.splice(i,1),t.$.container.removeChild(t._groupLabels[0].dropDown),t._groupLabels.splice(i,1),t.$.tabContentSection.removeChild(o)}}n>1?e<t.selectedIndex?t.selectedIndex--:e===t.selectedIndex&&(e===n-1?t._select(e-1,!1):(t._select(e+1,!1),t.selectedIndex--)):(t.selectedIndex=null,t.$.tabContentSection.innerHTML=""),t._tabLabelContainers.splice(e,1),t.$.dropDownButtonDropDown.removeChild(t.$.dropDownButtonDropDown.children[e]),t._tabs.splice(e,1),t._focusedItem===r&&(t._focusedItem=t._tabs[t._focusedItem.index]),t._updateTabIndexes(),t._getReorderItems(),t._applyTabOverflow(),t.ensureVisible(t.selectedIndex),t.$.hiddenInput.value=t.selectedIndex}}},{key:"removeChild",value:function(e){var t=this;if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("smart-resize-trigger-container")){var n=Array.prototype.slice.call(arguments,2);return HTMLElement.prototype.removeChild.apply(t,n.concat(Array.prototype.slice.call(arguments)))}e instanceof Smart.TabItem||t.error(t.localize("tabItemRequired",{method:"removeChild"})),t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.removeAt(e.index)}},{key:"select",value:function(e){0!==this._tabs.length&&(this._validateIndex(e,"select"),e=Math.max(0,Math.min(e,this._tabs.length-1)),this.ensureVisible(e),this._select(e,!0))}},{key:"_setFocusable",value:function(){var e=this;e.disabled||e.unfocusable?e.removeAttribute("tabindex"):(null===e.getAttribute("tabindex")||e.getAttribute("tabindex")<0)&&e.setAttribute("tabindex",0)}},{key:"update",value:function(e,t,n){var r=this;if(0!==r._tabs.length){r._validateIndex(e,"update"),e=Math.max(0,Math.min(e,r._tabs.length-1));var a=r._tabs[e];void 0!==t&&a.label!==t&&r._updateTabLabel(a,t),void 0!==n&&(a.content=n)}}},{key:"_createElement",value:function(){var e=this;e.$.dropDownButton.id||(e.$.dropDownButton.id=e.id+"DropDownButton"),e.$.dropDownButtonDropDown.id||(e.$.dropDownButtonDropDown.id=e.id+"DropDown"),e.setAttribute("role","tablist"),e.$.dropDownButton.setAttribute("role","button"),e.$.dropDownButton.setAttribute("aria-haspopup",!0),e.$.dropDownButton.setAttribute("aria-owns",e.$.dropDownButtonDropDown.id),e.$.dropDownButtonDropDown.setAttribute("role","menu"),e.disabled&&(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0),e.rightToLeft&&(e.$.tabsHeaderItems.removeChild(e.$.dropDownButton),"top"===e.tabPosition||"bottom"===e.tabPosition?e.$.tabsHeaderItems.insertBefore(e.$.dropDownButton,e.$.scrollButtonNear):e.$.tabsHeaderItems.insertBefore(e.$.dropDownButton,e.$.tabSelectionBar)),e._handlePosition(e.tabPosition),e._handleScrollButtonsPosition(e.scrollButtonsPosition,"both"),null!==e.dataSource&&e._processDataSource(),e._setFocusable(),e.collapsed&&!e.collapsible&&(e.collapsed=!1),e.collapsible&&e.allowToggle&&(e.allowToggle=!1),e._processHTML(),null===e.selectedIndex&&e.$.tabContentSection.setAttribute("show-placeholder",""),setTimeout((function(){return e.refreshTabHeader()}),300),e.$.hiddenInput.value=e.selectedIndex,e.enableShadowDOM&&HTMLElement.prototype.appendChild.apply(e,[e.$.hiddenInput])}},{key:"propertyChangedHandler",value:function(e,t,n){o(u(r.prototype),"propertyChangedHandler",this).call(this,e,t,n);var a=this;switch(e){case"addNewTab":n?a._insertAddNewTab():(a.$.tabStrip.removeChild(a._addNewTab),delete a._addNewTab),a._applyTabOverflow();break;case"allowToggle":n&&a.collapsible?(a.collapsed&&a._toggleCollapsedState(),a.collapsible=!1):n||null!==a.selectedIndex||(a.ensureVisible(a.selectedIndex=0),a._select(a.selectedIndex,!0,null));break;case"closeButtonMode":if("selected"===n){for(var i=0;i<a._tabs.length;i++)a._disableCloseButton(i);a._enableCloseButton(a.selectedIndex)}else{a._disableCloseButton(a.selectedIndex);for(var l=a._tabLabelContainers,s=0;s<l.length;s++){var d=l[s];d.closeButtonEnabled=!0!==a._tabs[s].closeButtonHidden,a._showCloseButton(d)}}a._applyTabOverflow();break;case"closeButtons":for(var c=a._tabLabelContainers,p=n?a._showCloseButton:a._hideCloseButton,h=0;h<c.length;h++)p(c[h]);a._applyTabOverflow();break;case"collapsed":if(!a.collapsible&&n)return void(a.collapsed=!1);break;case"collapsible":!n&&a.collapsed&&(a.collapsed=!1),a.allowToggle=!1,void 0===a.selectedIndex&&a.select(a._focusedItem.index);break;case"dataSource":a.selectedIndex=null;for(var f=0;f<a._groupLabels.length;f++)a.$.container.removeChild(a._groupLabels[f].dropDown);a.$.tabStrip.innerHTML="",a._processDataSource(),a._processHTML();break;case"disabled":a._setFocusable(),a.$.scrollButtonNear.disabled=n,a.$.scrollButtonFar.disabled=n,n||a._updateScrollButtonVisibility(),a._closeDropDownButtonDropDown();break;case"messages":case"scrollMode":case"selectionMode":case"readonly":case"reorder":break;case"overflow":if("scroll"!==a.tabLayout)return;a.$.tabStrip.scrollLeft=a._getScrollLeft(0),a.$.tabStrip.scrollTop=0,"hidden"===n?(a.$tabsHeaderSection.removeClass("scroll-buttons-shown"),a.$scrollButtonNear.addClass("smart-hidden"),a.$scrollButtonFar.addClass("smart-hidden")):a._checkOverflowScroll(),a._getTabCoordinates();break;case"tabPosition":a.$.tabSelectionBar.style.transition="none",a._tabPositionChanging=!0,a._closeGroupDropDown(),a._handlePosition(n,t),"shrink"!==a.tabLayout&&a._applyLabelSizes("tabPosition"),a.rightToLeft&&(a.$.tabsHeaderItems.removeChild(a.$.dropDownButton),"top"===a.tabPosition||"bottom"===a.tabPosition?a.$.tabsHeaderItems.insertBefore(a.$.dropDownButton,a.$.scrollButtonNear):a.$.tabsHeaderItems.insertBefore(a.$.dropDownButton,a.$.tabSelectionBar)),a._applyTabOverflow(),delete a._tabPositionChanging,requestAnimationFrame((function(){a.$.tabSelectionBar.style.transition=null}));break;case"resize":n&&a._getTabCoordinates();break;case"rightToLeft":a._positionTabSelectionBar(a._tabLabelContainers[a.selectedIndex],!0),a.$.tabsHeaderItems.removeChild(a.$.dropDownButton),!n||"top"!==a.tabPosition&&"bottom"!==a.tabPosition?a.$.tabsHeaderItems.insertBefore(a.$.dropDownButton,a.$.tabSelectionBar):a.$.tabsHeaderItems.insertBefore(a.$.dropDownButton,a.$.scrollButtonNear),a.ensureVisible(a.selectedIndex);break;case"scrollButtonsPosition":a._handleScrollButtonsPosition(n,t);break;case"selectedIndex":if(isNaN(n)&&(a.selectedIndex=n=t),!a.allowToggle&&null===n)return void(a.selectedIndex=t);var v=n;null!==n&&(v=Math.max(0,Math.min(n,a._tabs.length-1)),a.ensureVisible(v)),a._select(v,!0,t);break;case"tabLayout":"scroll"===t&&(a.$tabsHeaderSection.removeClass("scroll-buttons-shown"),a.$scrollButtonNear.addClass("smart-hidden"),a.$scrollButtonFar.addClass("smart-hidden")),"shrink"===n?a._applyLabelSizes("shrink",!0):"shrink"===t&&a._applyLabelSizes("shrink",!1),a._applyTabOverflow(),"scroll"===n&&a.disabled&&(a.$.scrollButtonNear.disabled=!0,a.$.scrollButtonFar.disabled=!0),a.ensureVisible(a.selectedIndex);break;case"tabTextOrientation":a._applyTabOverflow(),a.ensureVisible(a.selectedIndex);break;case"unfocusable":a._setFocusable()}}},{key:"_addGroupContainer",value:function(e,t){var n=this,r=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div");return r.className="smart-tab-group-container smart-unselectable",r.$=Smart.Utilities.Extend(r),r.setAttribute("role","group"),r.setAttribute("aria-expanded",!1),r.setAttribute("aria-haspopup",!0),r.setAttribute("aria-label",e),a.className="smart-tab-label-text-wrapper",a.setAttribute("role","presentation"),a.setAttribute("aria-hidden",!0),null!==t&&"shrink"!==n.tabLayout&&(r.style[n._orientationSettings.dimension]=parseInt(t,10)+"px"),o.className="smart-tab-label-text-container",o.innerHTML=e,i.className="smart-tab-group-arrow",l.className="smart-tab-group-drop-down smart-hidden",l.$=Smart.Utilities.Extend(l),l.id=n.id+"GroupDropDown"+e,l.setAttribute("role","tablist"),l.setAttribute("aria-orientation","vertical"),r.setAttribute("aria-owns",l.id),a.appendChild(o),a.appendChild(i),r.appendChild(a),n.$.container.appendChild(l),r.group=e,r.dropDown=l,l.groupContainer=r,{label:r,dropDown:l}}},{key:"_addGroupElements",value:function(e){var t,n=this,r=e.groups,a=e.groupLabels,o=e.group,i=r.indexOf(o),l=e.tabLabelContainer;if(-1!==i)(t=a[i]).dropDown.appendChild(l);else{r.push(o);var s=n._addGroupContainer(o,e.smartTabItemsGroup.labelSize),u=s.dropDown;t=s.label,u.appendChild(l),u.groupContainer=s.label,e.documentFragment.appendChild(t),a.push(t)}n.selectedIndex===e.i&&(n._selectedGroup=t,t.$.addClass("smart-tab-group-selected"))}},{key:"_addNewTabHandler",value:function(e,t,n){var r=this;r._swiping||(n?(e.removeAttribute("hover"),r.insert(r._tabs.length,{label:"New Tab",content:""}),r._select(r._tabs.length-1,!0)):r._reordering||r._swiping||("mouseover"===t?e.setAttribute("hover",""):"mouseout"===t&&e.removeAttribute("hover")))}},{key:"_addTabLabelContainer",value:function(e,t){var n,r=this,a=document.createElement("div"),o=document.createElement("div"),i=document.createElement("div"),l=document.createElement("div");return a.className="smart-tab-label-container smart-unselectable",o.className="smart-tab-label-text-wrapper",i.className="smart-tab-label-text-container",i.setAttribute("role","presentation"),l.className="smart-tab-close-button",l.setAttribute("role","button"),l.setAttribute("aria-label","Close"),void 0===t?(r.closeButtons?"default"===r.closeButtonMode&&e.closeButtonHidden||"selected"===r.closeButtonMode&&!e.selected?(l.classList.add("smart-hidden"),a.closeButtonEnabled=!1):(i.classList.add("smart-close-button-enabled"),a.closeButtonEnabled=!0):(l.classList.add("smart-hidden"),a.closeButtonEnabled=!0),(n=document.createElement("div")).className="smart-tab-label-container smart-unselectable",null===e.group&&null!==e.labelSize&&"shrink"!==r.tabLayout&&(a.style[r._orientationSettings.dimension]=parseInt(e.labelSize,10)+"px")):(l.classList.add("smart-hidden"),a.closeButtonEnabled=!1),r._setLabel(e?e.label:"+",i,n),i.$=Smart.Utilities.Extend(i),l.$=Smart.Utilities.Extend(l),o.appendChild(i),o.appendChild(l),a.appendChild(o),a.$=Smart.Utilities.Extend(a),{tabLabelContainer:a,dropDownLabelContainer:n}}},{key:"_animateSelection",value:function(e,t,n){var r=this,a="right",o="left";if(r.rightToLeft&&(a="left",a="right"),r._animatedTab=e,r._animatedOldTab=t,r._animatedTab&&r._animatedOldTab){"left"!==r.tabPosition&&"right"!==r.tabPosition||(a="top",o="bottom");for(var i=0;i<r._tabs.length;i++)r._tabs[i].$.removeClass(a),r._tabs[i].$.removeClass(o),r._tabs[i].$.removeClass("animate");if(e===t)return e.$.hasClass("smart-visibility-hidden")?e.$.removeClass("smart-visibility-hidden"):e.$.addClass("smart-visibility-hidden"),void(r._animatedOldTab.classToRemove=a);n?(e.$.addClass(a),e.$.removeClass("smart-visibility-hidden"),t.$.addClass("animate"),e.$.addClass("animate"),t.$.addClass(o),t.$.addClass("smart-visibility-hidden"),e.$.removeClass(a),r._animatedOldTab.classToRemove=o):(e.$.addClass(o),e.$.removeClass("smart-visibility-hidden"),t.$.addClass("animate"),e.$.addClass("animate"),t.$.addClass(a),t.$.addClass("smart-visibility-hidden"),e.$.removeClass(o),r._animatedOldTab.classToRemove=a)}}},{key:"_applyConditionalTabOverflow",value:function(){var e=this,t="left"===e.tabPosition||"right"===e.tabPosition,n=e.$.tabStrip;if("scroll"!==e.tabLayout){if(e._flexWritingModeNoFullSupport&&"shrink"===e.tabLayout&&t&&n.scrollHeight>n.offsetHeight){var r=n.children,a=100/r.length+"%";n.$.addClass("shrink-tabs-vertical");for(var o=0;o<r.length;o++)r[o].style.height=a,r[o].firstElementChild.firstElementChild.classList.add("smart-tab-label-text-container-full-height");e._inlineStyleTabStripChildren=!0}}else e._checkOverflowScroll()}},{key:"_applyLabelSizes",value:function(e,t){for(var n=this,r=n._orientationSettings.dimension,a="width"===r?"height":"width",o=0;o<n._reorderItems.length;o++){var i=n._reorderItems[o],l=n._getCorrespondingCustomElement(i);null!==l.labelSize&&("tabPosition"===e&&i.style.removeProperty(a),t?i.style.removeProperty(r):i.style[r]=parseInt(l.labelSize,10)+"px")}}},{key:"refresh",value:function(){this._applyTabOverflow()}},{key:"_applyTabOverflow",value:function(){var e=this;if(e._tabs)if(e._removeInlineStyle(),0!==e._tabs.length){var t=e.tabLayout,n=e.tabPosition,r="left"===n||"right"===n,a=e.$.tabStrip;switch(e._closeDropDownButtonDropDown(),t){case"scroll":case"dropDown":e._flexWritingModeNoFullSupport&&"vertical"===e.tabTextOrientation&&r&&e._fixTabStripNotChrome(a);break;case"wrap":if("vertical"===e.tabTextOrientation)if(e._flexWritingModeNoFullSupport)if(r)e._fixTabStripNotChrome(a);else{for(var o=a.children,i=o[0].offsetHeight,l=1;l<o.length;l++)i=Math.max(i,o[l].offsetHeight);for(var s=1;s<o.length;s++)o[s].style.height=i+"px";e._inlineStyleTabStripChildren=!0}else r||a.scrollHeight>a.offsetHeight&&(a.style.height=a.scrollHeight+"px",e._inlineStyleTabStrip=!0);else r&&a.scrollWidth>a.offsetWidth&&(a.style.width=a.scrollWidth+"px","right"===n&&(a.style.flexWrap="wrap-reverse"),e._inlineStyleTabStrip=!0);break;case"shrink":if(r){if(e._flexWritingModeNoFullSupport&&"vertical"===e.tabTextOrientation){for(var u=a.children,d=window.getComputedStyle(u[0].firstElementChild),c=parseInt(d.paddingLeft,10)+parseInt(d.paddingRight,10),p=0,h=0;h<u.length;h++)p=Math.max(p,u[h].firstElementChild.firstElementChild.offsetWidth);a.style.width=c+p+"px",e._inlineStyleTabStrip=!0;break}}else a.scrollWidth>a.offsetWidth&&a.$.addClass("shrink-tabs")}e._applyConditionalTabOverflow(),e._getTabCoordinates(),e._fixTabStripFlex(t),e._toggleNavigationElementsVisibility(),e._positionTabSelectionBar(e._tabLabelContainers[e.selectedIndex],!0)}else e._toggleNavigationElementsVisibility()}},{key:"_checkOverflowScroll",value:function(){var e=this,t=e.$tabsHeaderSection,n=e.$.tabStrip,r=e.overflow;if("hidden"!==r){var a,o,i;if("left"!==e.tabPosition&&"right"!==e.tabPosition){var l=Math.abs(e._getScrollLeft());a=Math.round(n.scrollWidth)>Math.round(n.offsetWidth),e.rightToLeft?(i=Math.round(l)>0,o=Math.round(n.offsetWidth+l)<Math.round(n.scrollWidth)):(o=Math.round(l)>0,i=Math.round(n.offsetWidth+l)<Math.round(n.scrollWidth))}else a=Math.round(n.scrollHeight)>Math.round(n.offsetHeight),o=Math.round(n.scrollTop)>0,i=Math.round(n.offsetHeight+n.scrollTop)<Math.round(n.scrollHeight);"scroll"===r&&(t.addClass("scroll-buttons-shown"),e.$scrollButtonNear.removeClass("smart-hidden"),e.$scrollButtonFar.removeClass("smart-hidden")),a?"auto"===r?(t.hasClass("scroll-buttons-shown")||t.addClass("scroll-buttons-shown"),o?e.$scrollButtonNear.removeClass("smart-hidden"):e.$scrollButtonNear.addClass("smart-hidden"),i?e.$scrollButtonFar.removeClass("smart-hidden"):e.$scrollButtonFar.addClass("smart-hidden"),!1===(o&&i)?t.addClass("one-button-shown"):t.removeClass("one-button-shown"),e.disabled||(e.$.scrollButtonNear.disabled=!1,e.$.scrollButtonFar.disabled=!1)):(t.removeClass("one-button-shown"),e.disabled?(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0):(e.$.scrollButtonNear.disabled=!o,e.$.scrollButtonFar.disabled=!i)):!a&&"auto"===r&&t.hasClass("scroll-buttons-shown")?(t.removeClass("scroll-buttons-shown"),t.removeClass("one-button-shown"),e.$scrollButtonNear.addClass("smart-hidden"),e.$scrollButtonFar.addClass("smart-hidden")):a||"scroll"!==r||(e.$.scrollButtonNear.disabled=!0,e.$.scrollButtonFar.disabled=!0)}}},{key:"_closeButtonVisibilityChangeHandler",value:function(e){var t=this,n=(Smart.EnableShadowDOM?e.composedPath()[0]:e.target).index;"selected"!==t.closeButtonMode?e.detail.hidden?t._disableCloseButton(n):t._enableCloseButton(n):t._tabLabelContainers[n].closeButtonEnabled=e.detail.hidden}},{key:"_closeDropDownButtonDropDown",value:function(){var e=this;e._dropDownButtonDropDownOpened&&(e.$.dropDownButton.setAttribute("aria-expanded",!1),e.$dropDownButtonDropDown.addClass("smart-hidden"),e._dropDownButtonDropDownOpened=!1)}},{key:"_closeGroupDropDown",value:function(){var e=this;if(e._openDropDown){var t=e._openDropDown.groupContainer;e._openDropDown.rippleInProgress?setTimeout((function(){e._openDropDown&&(t.setAttribute("aria-expanded",!1),e._openDropDown.$.addClass("smart-hidden"),delete e._openDropDown.rippleInProgress,e._openDropDown=void 0)}),450):(t.setAttribute("aria-expanded",!1),e._openDropDown.$.addClass("smart-hidden"),e._openDropDown=void 0)}}},{key:"_containerHandler",value:function(e){var t=this,n=e.type;if(!(t.disabled||t.readonly||t._resizing&&"mouseout"!==n)&&("down"!==n&&"up"!==n||1===e.which||Smart.Utilities.Core.isMobile)){var r=t.shadowRoot||t.isInShadowDOM?(e.originalEvent||e).composedPath()[0]:(e.originalEvent||e).target;t.$.tabContentSection.contains(r)||(t.$.dropDownButton.contains(r)?t._dropDownButtonHandler(r,e):t.$.dropDownButtonDropDown.contains(r)?t._dropDownButtonHandler(r,e,!0):t._tabStripHandler(r,e))}}},{key:"_disableCloseButton",value:function(e){var t=this,n=t._tabLabelContainers[e];n.closeButtonEnabled=!1,t.closeButtons&&t._hideCloseButton(n)}},{key:"_documentMoveHandler",value:function(e){var t=this,n=t._orientationSettings;if(t._reordering){t._reorderStartThrown||(t._fireDragEvent(e,"dragStart"),t._reorderStartThrown=!0);for(var r=e[n.coordinate],a="wrap"!==t.tabLayout?function(e){return r>=e[n.from]&&r<=e[n.to]}:function(t){return e.pageX>=t.fromX&&e.pageX<=t.toX&&e.pageY>=t.fromY&&e.pageY<=t.toY},o=!1,i=0;i<t._tabCoordinates.length;i++)if(a(t._tabCoordinates[i])){o=i;break}!0!==t._preventReorder&&!1!==o&&o!==t._draggedIndex&&(t._reorderTabs(t._draggedIndex,o),t._closeGroupDropDown(),t._draggedIndex=o,t._getReorderItems(),t._getTabCoordinates());var l=t._tabCoordinates[t._draggedIndex];"wrap"!==t.tabLayout&&(r<l[n.from]||r>l[n.to])||"wrap"===t.tabLayout&&(null!==e.originalEvent.target.closest(".smart-tab-label-container")||null!==e.originalEvent.target.closest(".smart-tab-group-container"))&&!(e.pageX>=l.fromX&&e.pageX<=l.toX&&e.pageY>=l.fromY&&e.pageY<=l.toY)?t._preventReorder=!0:t._preventReorder=!1}else t._resizing&&(t.$.resizeToken.style[n.edge]=e[n.coordinate]-t._tabsHeaderSectionCoordinate+"px",t.$resizeToken.removeClass("smart-hidden"))}},{key:"_documentUpHandler",value:function(e){var t=this,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target;t.$.container.contains(n)&&t._containerHandler(e),t._touchmoveInside?t._endSwiping(e,Date.now()):(delete t._dragStartDetails,delete t._swiping),delete t._touchCoords,delete t._touchmoveInside,!t._openDropDown||t._openDropDown.rippleInProgress||n!==document&&n.closest(".smart-tab-group-container")===t._openDropDown.groupContainer||"pointercancel"===e.originalEvent.type||t._closeGroupDropDown(),t.$.dropDownButton.contains(n)||"pointercancel"===e.originalEvent.type||t._closeDropDownButtonDropDown(),t._endReordering(e,n),t._resize(e),void 0!==t._tabToResize&&(t._tabToResize=void 0),delete t._downTarget}},{key:"_dropDownButtonHandler",value:function(e,t,n){var r=this,a=t.type;if(n){if(e.classList.contains("smart-tab-label-container"))switch(a){case"down":r._downTarget=e;break;case"mouseout":e.removeAttribute("hover");break;case"mouseover":e.setAttribute("hover","");break;case"up":e===r._downTarget&&t.originalEvent&&"pointercancel"!==t.originalEvent.type&&(r.select(Array.from(r.$.dropDownButtonDropDown.children).indexOf(e)),r._closeDropDownButtonDropDown())}}else if("down"===a)r._downTarget=r.$.dropDownButton;else if("up"===a&&r._downTarget===r.$.dropDownButton)if(r._dropDownButtonDropDownOpened)r._closeDropDownButtonDropDown();else{var o,i,l=r.tabPosition;switch(r.$.dropDownButton.setAttribute("aria-expanded",!0),l){case"top":o=r.$.dropDownButton.offsetLeft,i=r.$.tabsHeaderSection.offsetTop+r.$.dropDownButton.offsetHeight;break;case"bottom":o=r.$.dropDownButton.offsetLeft,i=r.$.tabsHeaderSection.offsetTop;break;case"left":o=r.$.dropDownButton.offsetWidth,i=r.$.dropDownButton.offsetTop;break;case"right":o=r.$.tabsHeaderSection.offsetLeft,i=r.$.dropDownButton.offsetTop}r.$.dropDownButtonDropDown.style.left=o+"px",r.$.dropDownButtonDropDown.style.top=i+"px",r.$dropDownButtonDropDown.removeClass("smart-hidden"),r._dropDownButtonDropDownOpened=!0}}},{key:"_enableCloseButton",value:function(e){var t=this,n=t._tabLabelContainers[e];n.closeButtonEnabled=!0,t.closeButtons&&t._showCloseButton(n)}},{key:"_endReordering",value:function(e,t){var n=this;n._reordering&&(n._draggedHoveredTab&&(n._draggedHoveredTab.contains(t)||n._draggedHoveredTab.removeAttribute("hover"),delete n._draggedHoveredTab),n._reorderedIndex=void 0,n._reordering=!1,n._reorderStartThrown=!1,n.removeAttribute("dragged"),e&&n._fireDragEvent(e,"dragEnd"))}},{key:"_endSwiping",value:function(e,t){var n=this;if(n._dragStartDetails){var r=n._orientationSettings,a=n.$.tabStrip,o=Math.abs(n._dragStartDetails.startTime-t),i=200/o,l=(n._dragStartDetails[r.startCoordinate]-e[r.coordinate])*i,s=Math.abs(l),u=function(){if(n.rightToLeft&&"scrollLeft"===r.scrollDirection){var e=Math.abs(n._getScrollLeft());if(l<0&&e===a[r.scrollSize]-a[r.size]||l>0&&0===e)return!1}else if(l>0&&a[r.scrollDirection]===a[r.scrollSize]-a[r.size]||l<0&&0===a[r.scrollDirection])return!1;return!0},d=.03*Math.abs(l)*i;n._scrollingAnimationFrame&&cancelAnimationFrame(n._scrollingAnimationFrame),o<500&&u()?n._scrollingAnimationFrame=window.requestAnimationFrame((function e(){if(d>5){var t=(s-d)/Math.abs(l);t<.1?d/=1.25:t<.15?d/=1.2:t<.2?d/=1.15:t<.25?d/=1.1:t<.3&&(d/=1.05)}d=Math.round(d);var o=a[r.scrollDirection];n.rightToLeft&&"scrollLeft"===r.scrollDirection?Smart.Utilities.Core.Browser.Chrome?a[r.scrollDirection]=l>0?Math.max(o+d,0):Math.min(o-d,a[r.scrollSize]-a[r.size]):a[r.scrollDirection]=l>0?Math.min(o+d,a[r.scrollSize]-a[r.size]):Math.min(o-d,0):a[r.scrollDirection]=l>0?Math.min(o+d,a[r.scrollSize]-a[r.size]):Math.max(o-d,0),s-=d,n._updateScrollButtonVisibility(!0);var i=u();s>0&&i?n._scrollingAnimationFrame=window.requestAnimationFrame(e):n._wheelInProgress=!1})):n._wheelInProgress=!1,delete n._dragStartDetails,n._swiping&&delete n._swiping}}},{key:"_fireDragEvent",value:function(e,t){var n,r,a,o=this.$.tabStrip.children[this._draggedIndex],i=o.tab;i?(n=i.selected,r=i.index,a=i.label):a=o.group,this.$.fireEvent(t,{position:{left:e.pageX,top:e.pageY},target:o,selected:n,index:r,label:a})}},{key:"_fixTabStripNotChrome",value:function(e){var t=this;function n(){for(var n=[].slice.call(e.children).filter((function(e){return!e._lazyRemove})),r=n[0].getBoundingClientRect(),a=r.left,o=a+n[0].offsetWidth,i=1;i<n.length;i++)r=n[i].getBoundingClientRect(),a=Math.min(a,r.left),o=Math.max(o,r.left+n[i].offsetWidth);e.style.width=o-a+"px",t._inlineStyleTabStrip=!0}0!==t._tabs.length&&(n(),Smart.Utilities.Core.Browser.Safari&&setTimeout((function(){e.parentElement.classList.add("smart-hidden"),setTimeout((function(){e.parentElement.classList.remove("smart-hidden"),n()}),10)}),10),t.$.fireEvent("tabStripResize"))}},{key:"_fixTabStripFlex",value:function(e){var t=this;t._flexWritingModeNoFullSupport||"vertical"!==t.tabTextOrientation||"left"!==t.tabPosition&&"right"!==t.tabPosition||setTimeout((function(){t.$tabsHeaderSection.addClass("smart-hidden"),setTimeout((function(){t.$tabsHeaderSection.removeClass("smart-hidden"),t._getTabCoordinates(),"scroll"===e&&t._checkOverflowScroll()}),10)}),10)}},{key:"_getCorrespondingCustomElement",value:function(e){return e.$.hasClass("smart-tab-label-container")?e.tab:this.$.tabContentSection.querySelector('smart-tab-items-group[label="'+e.group+'"]')}},{key:"_getReorderItems",value:function(){var e,t=this;0===t._groups.length?e=t._tabLabelContainers:(e=Array.from(t.$.tabStrip.children),t.addNewTab&&e.pop()),t._reorderItems=e}},{key:"_getTabCoordinates",value:function(){var e=this;if((e.reorder||e.resize)&&"hidden"!==e.tabPosition){for(var t=[],n=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset,a=0;a<e._reorderItems.length;a++){var o=e._reorderItems[a],i=o.getBoundingClientRect(),l=window.getComputedStyle(o),s=parseFloat(l.marginLeft),u=parseFloat(l.marginRight),d=parseFloat(l.marginTop),c=parseFloat(l.marginBottom);t.push({fromX:i.left-s+n,toX:i.right+u+n,fromY:i.top-d+r,toY:i.bottom+c+r})}e._tabCoordinates=t}}},{key:"_getTabs",value:function(){var e=this,t=e.shadowRoot?e.shadowRoot.querySelectorAll("smart-tab-item"):e.getElementsByTagName("smart-tab-item");null!==e.selectedIndex&&(0===t.length?e.selectedIndex=null:e.selectedIndex=Math.max(0,Math.min(e.selectedIndex,t.length-1))),e._tabs=Array.from(t),e.$.hiddenInput.value=e.selectedIndex}},{key:"_groupContainerHandler",value:function(e,t){var n=this,r=e.dropDown;if("down"===t)return n._downTarget=e,void(n.reorder&&n._reorderItems.length>1&&(n._getTabCoordinates(),n._reordering=!0,n.setAttribute("dragged",""),n._draggedIndex=Array.from(n.$.tabStrip.children).indexOf(e)));n._reordering||n._swiping||(r===n._openDropDown||"mouseover"!==t||e.classList.contains("smart-tab-group-selected")?"mouseout"===t&&e.removeAttribute("hover"):e.setAttribute("hover","")),"up"!==t||n._downTarget!==e||void 0!==n._reorderedIndex||n._swiping||(r===n._openDropDown?(n._closeGroupDropDown(),e.classList.contains("smart-tab-group-selected")||e.setAttribute("hover","")):n._openGroupDropDown(e))}},{key:"_handlePosition",value:function(e,t){var n=this;if(-1===[void 0,"top","left","hidden"].indexOf(t)||"bottom"!==e&&"right"!==e?"bottom"!==t&&"right"!==t||-1===["top","left","hidden"].indexOf(e)||n.$.container.insertBefore(n.$.tabsHeaderSection,n.$.tabContentSection):n.$.container.insertBefore(n.$.tabContentSection,n.$.tabsHeaderSection),"hidden"===e)return n._orientationSettings={coordinate:"pageY",dimension:"height",edge:"top",from:"fromY",size:"offsetHeight",to:"toY",scrollDirection:"scrollTop",scrollSize:"scrollHeight",startCoordinate:"startY",wheelOffset:35},n.removeAttribute("horizontal"),n.removeAttribute("vertical"),void n.setAttribute("aria-orientation","horizontal");"top"===e||"bottom"===e?(n._orientationSettings={coordinate:"pageX",dimension:"width",edge:"left",from:"fromX",size:"offsetWidth",to:"toX",scrollDirection:"scrollLeft",scrollSize:"scrollWidth",startCoordinate:"startX",wheelOffset:70},n.removeAttribute("vertical"),n.setAttribute("horizontal",""),n.$arrowNear.removeClass("smart-arrow-up"),n.$arrowNear.addClass("smart-arrow-left"),n.$arrowFar.removeClass("smart-arrow-down"),n.$arrowFar.addClass("smart-arrow-right"),n.setAttribute("aria-orientation","horizontal"),n.$.scrollButtonNear.setAttribute("aria-label","Scroll left"),n.$.scrollButtonFar.setAttribute("aria-label","Scroll right")):(n._orientationSettings={coordinate:"pageY",dimension:"height",edge:"top",from:"fromY",size:"offsetHeight",to:"toY",scrollDirection:"scrollTop",scrollSize:"scrollHeight",startCoordinate:"startY",wheelOffset:35},n.removeAttribute("horizontal"),n.setAttribute("vertical",""),n.$arrowNear.removeClass("smart-arrow-left"),n.$arrowNear.addClass("smart-arrow-up"),n.$arrowFar.removeClass("smart-arrow-right"),n.$arrowFar.addClass("smart-arrow-down"),n.setAttribute("aria-orientation","vertical"),n.$.scrollButtonNear.setAttribute("aria-label","Scroll up"),n.$.scrollButtonFar.setAttribute("aria-label","Scroll down"))}},{key:"_handleScrollButtonsPosition",value:function(e,t){var n=this,r=n.$.tabsHeaderItems;e!==t&&("both"===e?"near"===t?r.insertBefore(n.$.scrollButtonFar,n.$.dropDownButton):r.insertBefore(n.$.scrollButtonNear,n.$.tabStrip):"near"===e?("far"===t&&r.insertBefore(n.$.scrollButtonNear,n.$.tabStrip),r.insertBefore(n.$.scrollButtonFar,n.$.tabStrip)):("near"===t&&r.insertBefore(n.$.scrollButtonFar,n.$.dropDownButton),r.insertBefore(n.$.scrollButtonNear,n.$.scrollButtonFar)))}},{key:"_hideCloseButton",value:function(e){e.firstElementChild.children[0].$.removeClass("smart-close-button-enabled"),e.firstElementChild.children[1].$.addClass("smart-hidden")}},{key:"_indexChangeHandler",value:function(e){var t=this,n=e.detail.oldIndex,r=Math.max(0,Math.min(e.detail.newIndex,t._tabs.length-1));if(n!==r){if(0===t._groups.length)t._reorderTabs(n,r);else{var a=e.detail.tabItem;a._setIndex(n),t.removeAt(n),t.insert(r,{node:a}),t.selectedIndex===n&&t._select(r,!1)}t._reorderedIndex=void 0}}},{key:"_insertAddNewTab",value:function(){var e=this._addTabLabelContainer(void 0,!0).tabLabelContainer;e.$.addClass("smart-add-new-tab"),this.$.tabStrip.appendChild(e),this._addNewTab=e}},{key:"_insertIntoExistingGroup",value:function(e){var t=e.smartTabItemsGroup,n=e.tab,r=e.tabLabelContainer,a=e.group,o=this._groupLabels[this._groups.indexOf(a)].dropDown,i=e.index;i=Math.max(0,Math.min(i,t.childElementCount)),o.insertBefore(r,o.children[i]);var l,s=t.children[i];l=s?s.index:t.children[i-1].index+1,t.insertBefore(n,s),this._tabLabelContainers.splice(l,0,r),this.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,this.$.dropDownButtonDropDown.children[l]||null),this._tabs.splice(l,0,n),i=l,n.group=a,this._updateIndexes(i)}},{key:"_insertIntoNewGroup",value:function(e){var t=e.tab,n=e.tabLabelContainer,r=e.group,a=this._addGroupContainer(r),o=a.label;a.dropDown.appendChild(n),this._groups.push(r);var i=Math.max(0,Math.min(e.index,this.$.tabStrip.childElementCount)),l=i;this._addNewTab&&l===this.$.tabStrip.childElementCount&&l--,this.$.tabStrip.insertBefore(o,this.$.tabStrip.children[l]||null),this._groupLabels.push(o);var s=document.createElement("smart-tab-items-group");s.appendChild(t),this.$.tabContentSection.insertBefore(s,this.$.tabContentSection.children[i]),s.label=r;var u=s.previousElementSibling,d=0;u&&(u instanceof Smart.TabItem?d=u.index+1:u&&(d=u.lastElementChild.index+1)),this._tabLabelContainers.splice(d,0,n),this.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,this.$.dropDownButtonDropDown.children[d]||null),this._tabs.splice(d,0,t),i=d,t.group=r,this._updateIndexes(i)}},{key:"_insertNearAGroup",value:function(e){var t=this,n=e.tab,r=e.tabLabelContainer,a=e.index;a=Math.max(0,Math.min(a,t._tabs.length));var o=t._tabs[a-1],i=t._tabs[a],l=i?i.group:void 0;o&&null!==o.group&&i&&null!==l?(i.tabLabelContainer.parentElement.insertBefore(r,i.tabLabelContainer),i.parentElement.insertBefore(n,i),n.group=l):i?null!==l?(t.$.tabStrip.insertBefore(r,t._groupLabels[t._groups.indexOf(l)]),t.$.tabContentSection.insertBefore(n,t.$.tabContentSection.querySelector('smart-tab-items-group[label="'+l+'"]'))):(t.$.tabStrip.insertBefore(r,i.tabLabelContainer),t.$.tabContentSection.insertBefore(n,i)):(t.$.tabStrip.insertBefore(r,t._addNewTab||null),t.$.tabContentSection.appendChild(n)),t._tabLabelContainers.splice(a,0,r),t.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,t.$.dropDownButtonDropDown.children[a]||null),t._tabs.splice(a,0,n),t._updateIndexes(a)}},{key:"_insertNoGrouping",value:function(e){var t=Math.max(0,Math.min(e.index,this._tabs.length)),n=e.tab,r=e.tabLabelContainer;this.$.tabStrip.insertBefore(r,this._tabLabelContainers[t]||this._addNewTab||null),this.$.tabContentSection.insertBefore(n,this._tabs[t]||null),this._tabLabelContainers.splice(t,0,r),this.$.dropDownButtonDropDown.insertBefore(e.dropDownLabelContainer,this.$.dropDownButtonDropDown.children[t]||null),this._tabs.splice(t,0,n),this._updateIndexes(t)}},{key:"_keydownHandler",value:function(e){var t=this,n=e.key;if(!((t.isInShadowDOM?t.getRootNode().activeElement:document.activeElement)!==t||-1===["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home","Enter"," ","Escape"].indexOf(n)||t.disabled||t.readonly||"none"===t.selectionMode||!t.allowToggle&&null===t.selectedIndex||t._reordering||t._swiping)){e.preventDefault();var r,a,o,i,l=t._tabs.length-1,s=0;switch(t.rightToLeft?(o="ArrowRight",i="ArrowLeft"):(o="ArrowLeft",i="ArrowRight"),n){case o:case"ArrowUp":if(t.collapsible&&e.ctrlKey)return void(n===o?"right"===t.tabPosition?t.expand():"left"===t.tabPosition&&t.collapse():"ArrowUp"===n&&("bottom"===t.tabPosition?t.expand():"top"===t.tabPosition&&t.collapse()));if(s=-1,0===t.selectedIndex){a=!0;break}r=t.selectedIndex+s;break;case i:case"ArrowDown":if(t.collapsible&&e.ctrlKey)return void(n===i?"right"===t.tabPosition?t.collapse():"left"===t.tabPosition&&t.expand():"ArrowDown"===n&&("bottom"===t.tabPosition?t.collapse():"top"===t.tabPosition&&t.expand()));if(s=1,t.selectedIndex===l){a=!0;break}r=t.selectedIndex+s;break;case"End":if(t.selectedIndex===l){a=!0;break}r=l;break;case"Home":if(0===t.selectedIndex){a=!0;break}r=0;break;case"Enter":case" ":if(!t.allowToggle)return;if(t._focusedItem){t.select(t._focusedItem.index);var u=t._focusedItem.tabLabelContainer.closest(".smart-tab-group-drop-down");u&&t._openGroupDropDown(u.groupContainer)}return;case"Escape":return void(t._openDropDown&&t._closeGroupDropDown())}if(t.allowToggle&&t._tabs.length>0){t._focusedItem?t._focusedItem.tabLabelContainer.removeAttribute("focus"):t._focusedItem=t._focusedItem||t._tabs[t.selectedIndex]||t._tabs[0],t._focusedItem=t._tabs[Math.min(Math.max(0,t._focusedItem.index+s),l)],t._focusedItem.tabLabelContainer.setAttribute("focus",""),t.ensureVisible(t._focusedItem.index);var d=t._focusedItem.tabLabelContainer.closest(".smart-tab-group-drop-down");d&&d.groupContainer?(t._openDropDown&&t._openDropDown!==d.dropDown&&t._closeGroupDropDown(),t._openGroupDropDown(d.groupContainer)):t._openDropDown&&t._closeGroupDropDown()}else a||t.select(r)}}},{key:"_labelContainerHandler",value:function(e,t,n){var r=this,a="up"===n&&r._downTarget===e;if("down"===n&&(r._downTarget=e,"click"===r.selectionMode&&e!==r._addNewTab))if(Smart.Utilities.Core.isMobile&&null===e.tab.group){var o=r.$.tabStrip[r._orientationSettings.scrollDirection];setTimeout((function(){o===r.$.tabStrip[r._orientationSettings.scrollDirection]&&r._ripple(t,e)&&r._openDropDown&&r._openDropDown.contains(e)&&(r._openDropDown.rippleInProgress=!0)}),100)}else r._ripple(t,e)&&r._openDropDown&&r._openDropDown.contains(e)&&(r._openDropDown.rippleInProgress=!0);if(e!==r._addNewTab){var i=e.tab.index,l=!(r._reordering&&void 0!==r._reorderedIndex);a&&i===r.selectedIndex&&(r._closeGroupDropDown(),l&&null===e.tab.group&&r._toggleCollapsedState()),!r._swiping&&(l&&"click"===r.selectionMode&&a||!r._reordering&&(r.selectionMode===n||"mouseenter"===r.selectionMode&&"mouseover"===n))&&r._select(i,!0),r._reordering||r._swiping||"click"!==r.selectionMode&&"dblclick"!==r.selectionMode||("mouseover"!==n||e.hasAttribute("selected")?"mouseout"===n&&e.removeAttribute("hover"):e.setAttribute("hover","")),r.reorder&&"down"===n&&null===e.tab.group&&r._reorderItems.length>1&&(r._getTabCoordinates(),r._reordering=!0,r.setAttribute("dragged",""),e.hasAttribute("hover")&&(r._draggedHoveredTab=e),0===r._groups.length?r._draggedIndex=e.tab.index:r._draggedIndex=Array.from(r.$.tabStrip.children).indexOf(e))}else r._addNewTabHandler(e,n,a)}},{key:"_labelSizeChangeHandler",value:function(e){var t,n=this,r=e.detail.size;"shrink"!==n.tabLayout&&(t=e.target instanceof Smart.TabItem?e.target.tabLabelContainer:n._groupLabels[n._groups.indexOf(e.target.label)],null!==r?t.style[n._orientationSettings.dimension]=parseInt(r,10)+"px":t.style.removeProperty(n._orientationSettings.dimension),n._applyTabOverflow())}},{key:"_openGroupDropDown",value:function(e){var t=this;e&&(t._openDropDown&&t._openDropDown.$.addClass("smart-hidden"),e.dropDown.$.removeClass("smart-hidden"),t._positionGroupDropDown(e),t._openDropDown=e.dropDown,e.removeAttribute("hover"),e.setAttribute("aria-expanded",!0))}},{key:"_orderTabs",value:function(){var e=this,t=[],n=[],r=!0,a=!1;if(0===e.getElementsByTagName("smart-tab-items-group").length)for(var o=0;o<e._tabs.length;o++){var i=e._tabs[o],l=i.index;if(r&&null!==l&&(r=!1),-1!==t.indexOf(l||0)&&(a=!0,null!==l))break;t.push(l||0),n.push({tab:i,index:l})}if(!a){var s=t.slice(0).sort((function(e,t){return e-t}));JSON.stringify(t)===JSON.stringify(s)&&(r=!0)}if(r||a){r||e.warn(e.localize("ambiguousIndexes"));for(var u=0;u<e._tabs.length;u++)e._tabs[u]._setIndex(u)}else{n.sort((function(e,t){return e.index-t.index}));for(var d=0;d<n.length;d++){var c=n[d].tab;c._setIndex(d),e.$.tabContentSection.removeChild(c)}for(var p=0;p<n.length;p++){var h=n[p].tab;e.$.tabContentSection.appendChild(h),e._tabs[p]=h}}}},{key:"_populateTabStrip",value:function(){for(var e=this,t=document.createDocumentFragment(),n=[],r=[],a=[],o=null,i=0;i<e._tabs.length;i++){var l=e._tabs[i],s=l.parentElement,u=s instanceof Smart.TabItemsGroup?s.label:null;l.group=u;var d=e._addTabLabelContainer(l),c=d.tabLabelContainer,p=d.dropDownLabelContainer;e.selectedIndex===i&&(c.$.addClass("smart-tab-selected"),c.setAttribute("selected",""),o=c),l.tabLabelContainer=c,c.tab=l,n.push(c),e._setAriaRelations(l,c,p),null===u?t.appendChild(c):e._addGroupElements({documentFragment:t,groups:r,groupLabels:a,i:i,group:u,tabLabelContainer:c,smartTabItemsGroup:s}),e.$.dropDownButtonDropDown.appendChild(p)}e.$.tabStrip.appendChild(t),e._tabLabelContainers=n,e._groups=r,e._groupLabels=a,e._positionTabSelectionBar(o,!0)}},{key:"_setAriaRelations",value:function(e,t,n){var r=this.id;e.id||(e.id=r+"TabItem"+e.index),t.id||(t.id=r+"TabLabelContainer"+e.index),t.setAttribute("role","tab"),t.setAttribute("aria-controls",e.id),t.setAttribute("aria-label",e.label),t.setAttribute("aria-selected",e.selected),e.setAttribute("aria-label",e.label),n.setAttribute("role","menuitem"),n.setAttribute("aria-controls",e.id)}},{key:"_positionTabSelectionBar",value:function(e,t){var n=this;if(e){var r,a,o,i,l=n.tabPosition;if(t&&(n.$.tabSelectionBar.style.transition="none"),e.tab.group&&(e=n._groupLabels[n._groups.indexOf(e.tab.group)]),"top"===l||"bottom"===l){if("wrap"===n.tabLayout?(a=e.offsetTop,"top"===l&&(a+=e.offsetHeight-n.$.tabSelectionBar.offsetHeight),a+="px"):a=null,i=null,n.rightToLeft&&"horizontal"===n.tabTextOrientation)if(Smart.Utilities.Core.Browser.Chrome){var s=n.$.tabStrip;r=-(s.scrollLeft-(s.scrollWidth-s.offsetWidth))+e.offsetLeft+"px"}else r=-n.$.tabStrip.scrollLeft+e.offsetLeft+"px";else r=-n.$.tabStrip.scrollLeft+e.offsetLeft+"px";o=e.offsetWidth+"px"}else"left"!==l&&"right"!==l||("wrap"===n.tabLayout?(r=e.offsetLeft,"left"===l&&(r+=e.offsetWidth-n.$.tabSelectionBar.offsetWidth),r+="px"):r=null,o=null,a=-n.$.tabStrip.scrollTop+e.offsetTop+"px",i=e.offsetHeight+"px");Smart.Utilities.Core.isMobile&&n.hasAnimation&&!t?requestAnimationFrame((function(){requestAnimationFrame(u)})):u(),t&&!n._tabPositionChanging&&requestAnimationFrame((function(){return n.$.tabSelectionBar.style.transition=null}))}function u(){n.$.tabSelectionBar.style.top=a,n.$.tabSelectionBar.style.height=i,n.$.tabSelectionBar.style.left=r,n.$.tabSelectionBar.style.width=o}}},{key:"_positionGroupDropDown",value:function(e){var t=this,n=t.tabPosition,r=e.dropDown,a=window.getComputedStyle(t.$.tabsHeaderSection),o=parseFloat(a[t.rightToLeft?"paddingRight":"paddingLeft"]),i=parseFloat(a.paddingTop);if("top"===n||"bottom"===n){if(t.rightToLeft?r.style.left=e.offsetLeft-t._getScrollLeft()-o-r.offsetWidth+e.offsetWidth+"px":r.style.left=e.offsetLeft-t.$.tabStrip.scrollLeft+o+"px","top"===n)r.style.top=e.offsetTop+e.offsetHeight+i+"px";else{var l=e.getBoundingClientRect().top-t.$.container.getBoundingClientRect().top+i;r.style.top=l+"px"}}else r.style.top=e.offsetTop-t.$.tabStrip.scrollTop+i+"px",r.style.left="left"===n?e.offsetLeft+e.offsetWidth+o+"px":e.getBoundingClientRect().left-t.$.container.getBoundingClientRect().left+o+"px"}},{key:"_processDataSource",value:function(){var e=this,t=e.dataSource;function n(e,t){var r;if(Array.isArray(e.items)&&e.items.length>0){r=document.createElement("smart-tab-items-group");for(var a=0;a<e.items.length;a++)e.items[a].items||n(e.items[a],r)}else r=document.createElement("smart-tab-item"),!0===e.closeButtonHidden&&(r.closeButtonHidden=!0),void 0!==e.content&&(r.innerHTML=e.content),void 0!==e.index&&(r.index=e.index),!0===e.selected&&(r.selected=e.selected);void 0!==e.label&&(r.label=e.label),void 0!==e.labelSize&&(r.labelSize=e.labelSize),t.appendChild(r)}if(e.$.tabContentSection.innerHTML="",null!==t)for(var r=0;r<t.length;r++)n(t[r],e.$.tabContentSection)}},{key:"_processHTML",value:function(){var e=this;e._getTabs(),e._orderTabs(),e._validateInitialSelection(),e._populateTabStrip(),e.addNewTab&&e._insertAddNewTab(),e._getReorderItems(),e._applyTabOverflow(),e.ensureVisible(e.selectedIndex),e.$.hiddenInput.value=e.selectedIndex}},{key:"_removeInlineStyle",value:function(){var e=this,t=e.$.tabStrip;if(e._inlineStyleTabStripChildren){for(var n=t.children,r=0;r<n.length;r++)n[r].removeAttribute("style"),n[r].firstElementChild.firstElementChild.classList.remove("smart-tab-label-text-container-full-height");delete e._inlineStyleTabStripChildren}e._inlineStyleTabStrip&&(t.removeAttribute("style"),delete e._inlineStyleTabStrip),t.$.removeClass("shrink-tabs"),t.$.removeClass("shrink-tabs-vertical")}},{key:"_reorderTabs",value:function(e,t){function n(e,t,n){var r=e[t];e.splice(t,1),e.splice(n,0,r)}var r=this,a=r.$.tabStrip[r._orientationSettings.scrollDirection];if(0===r._groups.length){var o,i=r._tabs,l=r._tabLabelContainers,s=e>t?t:t+1;r.selectedIndex===e?r.selectedIndex=t:r.selectedIndex<=t&&r.selectedIndex>e?r.selectedIndex--:r.selectedIndex>=t&&r.selectedIndex<e&&r.selectedIndex++,o=l[s]?l[s]:r.addNewTab?r._addNewTab:null,r.$.tabStrip.insertBefore(l[e],o),r.$.dropDownButtonDropDown.insertBefore(r.$.dropDownButtonDropDown.children[e],r.$.dropDownButtonDropDown.children[s]||null),r.$.tabContentSection.insertBefore(i[e],i[s]||null),n(i,e,t),n(l,e,t),r._updateTabIndexes()}else r._reorderTabsGrouping(e,t);r.$.tabStrip[r._orientationSettings.scrollDirection]=a,r.$.fireEvent("reorder",{newIndex:t,originalIndex:e}),r._reorderedIndex=t,r._positionTabSelectionBar(r._tabLabelContainers[r.selectedIndex],!0),r.$.hiddenInput.value=r.selectedIndex}},{key:"_reorderTabsGrouping",value:function(e,t){var n=this,r=n.$.tabStrip.children,a=n.$.tabContentSection.children,o=e>t?t:t+1,i=n._tabs[n.selectedIndex];n.$.tabStrip.insertBefore(r[e],r[o]||null),n.$.tabContentSection.insertBefore(a[e],a[o]||null),n._groupLabels=Array.from(n.$.tabStrip.getElementsByClassName("smart-tab-group-container")),n._groups=[];for(var l=0;l<n._groupLabels.length;l++)n._groups.push(n._groupLabels[l].group);n._tabs=Array.from(n.$.tabContentSection.getElementsByTagName("smart-tab-item"));for(var s=document.createDocumentFragment(),u=[],d=0;d<n._tabs.length;d++)s.appendChild(n.$.dropDownButtonDropDown.children[n._tabs[d].index].cloneNode(!0));n.$.dropDownButtonDropDown.innerHTML="",n.$.dropDownButtonDropDown.appendChild(s);for(var c=0;c<n.$.tabStrip.childElementCount;c++){var p=n.$.tabStrip.children[c];p.$.hasClass("smart-tab-label-container")&&p!==n._addNewTab?u.push(p):p.$.hasClass("smart-tab-group-container")&&(u=u.concat(Array.from(p.dropDown.children)))}n._tabLabelContainers=u,n._updateTabIndexes(),i&&(n.selectedIndex=i.index)}},{key:"_resize",value:function(e){var t=this;if(t._resizing){var n,r=t._orientationSettings,a=e[r.coordinate]-t._resizeFrom,o=t._getCorrespondingCustomElement(t._tabToResize);n=null===o.labelSize?t._tabToResize[r.size]:o.labelSize;var i=Math.max(10,n+a);i!==n&&(o._preventPropertyChangedHandler=!0,o.labelSize=i,t._tabToResize.style[r.dimension]=parseInt(i,10)+"px"),t.$resizeToken.addClass("smart-hidden"),t._applyTabOverflow(),t._resizing=!1,t.removeAttribute("resizing")}}},{key:"_ripple",value:function(e,t){if(this.hasRippleAnimation){var n=document.createElement("div");return n.className="ripple-agent",t.firstElementChild.appendChild(n),setTimeout((function(){t.firstElementChild.removeChild(n)}),1e3),Smart.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),!0}}},{key:"_scrollButtonClickHandler",value:function(e){var t=this,n=t.$.tabStrip,r=e.target.closest("smart-repeat-button")===t.$.scrollButtonNear?-1:1;if("paging"===t.scrollMode){var a=t._orientationSettings,o={};return t._dragStartDetails={startX:0,startY:0,pageX:0,pageY:0,startTime:Date.now(),target:e.target},t._wheelInProgress=!0,o[a.coordinate]=-r*(n[a.size]/1.1428571428571428),void t._endSwiping(o,t._dragStartDetails.startTime+175)}t.hasAttribute("horizontal")?n.scrollLeft+=10*r:n.scrollTop+=10*r,t._updateScrollButtonVisibility(!0)}},{key:"_getScrollLeft",value:function(e){var t=this,n=t.$.tabStrip;return void 0===e?t.rightToLeft&&Smart.Utilities.Core.Browser.Chrome?n.scrollLeft-(n.scrollWidth-n.offsetWidth):n.scrollLeft:(!t.rightToLeft||"top"!==t.tabPosition&&"bottom"!==t.tabPosition||(Smart.Utilities.Core.Browser.Chrome?e=n.scrollWidth-n.offsetWidth-e:e*=-1),e)}},{key:"_select",value:function(e,t,n){var r=this,a=r.hasAnimation;if(void 0===n&&(n=r.selectedIndex),e!==n||r.allowToggle&&(!r.allowToggle||"mouseenter"!==r.selectionMode)){var o=r._tabs[e];if(r._focusedItem&&r._focusedItem.tabLabelContainer.removeAttribute("focus"),null!==n){var i=r._tabs[n];a?r._animateSelection(o,i,e>n):i.$.addClass("smart-visibility-hidden"),i.selected=!1,r._tabLabelContainers[n].$.removeClass("smart-tab-selected"),r._tabLabelContainers[n].removeAttribute("selected"),r.closeButtons&&"selected"===r.closeButtonMode&&r._disableCloseButton(n)}null!==e&&(r._tabLabelContainers[e].removeAttribute("hover"),r.closeButtons&&"selected"===r.closeButtonMode&&r._enableCloseButton(e)),!r.allowToggle||null!==e&&(void 0!==arguments[2]?n:r.selectedIndex)!==e?(o.selected=!0,r.$.tabContentSection.removeAttribute("show-placeholder"),null!==n&&a||o.$.removeClass("smart-visibility-hidden"),r.selectedIndex=e,r._focusedItem=r._tabs[e],r._focusedItem.tabLabelContainer.$.addClass("smart-tab-selected"),r._focusedItem.tabLabelContainer.setAttribute("selected",""),r._positionTabSelectionBar(r._focusedItem.tabLabelContainer,null===n)):(r.selectedIndex=null,r.$.tabContentSection.setAttribute("show-placeholder",""),r.allowToggle&&(r._focusedItem=r._tabs[null===e?n:e],r._focusedItem&&r._focusedItem.tabLabelContainer.setAttribute("focus",""))),t&&(r.$.hiddenInput.value=r.selectedIndex,r.$.fireEvent("change",{index:r.selectedIndex,oldIndex:n})),r._closeGroupDropDown(),o&&null!==o.group?(r._selectedGroup&&r._selectedGroup.$.removeClass("smart-tab-group-selected"),null!==r.selectedIndex&&(r._selectedGroup=r._groupLabels[r._groups.indexOf(o.group)],r._selectedGroup.$.addClass("smart-tab-group-selected"))):r._selectedGroup&&(r._selectedGroup.$.removeClass("smart-tab-group-selected"),delete r._selectedGroup),r.$.hiddenInput.value=r.selectedIndex}else r.$.hiddenInput.value=r.selectedIndex}},{key:"_selectStartHandler",value:function(e){(this._reordering||this._resizing)&&e.preventDefault()}},{key:"_setLabel",value:function(e,t,n){var r=e?document.getElementById(e):null;if(null!==r&&"template"===r.tagName.toLowerCase()){var a=document.importNode(r.content,!0);if(t.appendChild(a),n){var o=document.importNode(r.content,!0);n.appendChild(o)}}else""===e&&(e="&nbsp;"),t.innerHTML=e,n&&(n.innerHTML=e)}},{key:"_showCloseButton",value:function(e){e.closeButtonEnabled&&(e.firstElementChild.children[0].$.addClass("smart-close-button-enabled"),e.firstElementChild.children[1].$.removeClass("smart-hidden"))}},{key:"_tabContentSectionTransitionendHandler",value:function(e){var t=this,n=e.target;n instanceof Smart.TabItem&&(n===t._animatedOldTab?(n.$.addClass("smart-hidden"),n.$.removeClass("animate"),n.$.removeClass(t._animatedOldTab.classToRemove),n.$.removeClass("smart-hidden"),delete t._animatedOldTab):n===t._animatedTab&&(n.$.removeClass("animate"),delete t._animatedTab),n.classList.remove("left"),n.classList.remove("right"),n.classList.remove("top"),n.classList.remove("bottom"))}},{key:"_tabsHeaderItemsWheelHandler",value:function(e){if(this.enableMouseWheelAction&&!this.disabled){var t=this.$.tabStrip,n=this._orientationSettings,r=t[n.size],a=t[n.scrollSize],o=t[n.scrollDirection],i=e.deltaY;if(!(r===a||0===o&&i<0||o+r===a&&i>0||(e.preventDefault(),this._wheelInProgress))){this._dragStartDetails={startX:e.pageX,startY:e.pageY,pageX:e.pageX,pageY:e.pageY,startTime:Date.now(),target:e.target},this._wheelInProgress=!0;var l={};l[n.coordinate]=e[n.coordinate]+(e.deltaY>0?-1:1)*n.wheelOffset,this._endSwiping(l,this._dragStartDetails.startTime+100)}}}},{key:"_tabStripHandler",value:function(e,t){var n=this,r=t.type;if("down"===r&&void 0!==n._tabToResize)return n._resizing=!0,void(n._tabsHeaderSectionCoordinate=n.$.tabsHeaderSection.getBoundingClientRect()[n._orientationSettings.edge]);"down"===r&&Smart.Utilities.Core.isMobile&&(n._dragStartDetails={startX:t.pageX,startY:t.pageY,pageX:t.pageX,pageY:t.pageY,startTime:Date.now(),originalTime:Date.now(),target:t.originalEvent.target});var a=e.closest("smart-repeat-button");if("up"===r&&a)return n.focus(),void(n.resize&&n._getTabCoordinates());if(e.classList.contains("smart-tab-close-button"))if("up"===r){if(e===n._downTarget){var o=e.parentElement.parentElement.tab.index;return void(n.$.fireEvent("closing",{index:o}).defaultPrevented||(n.removeAt(o),n.$.fireEvent("close",{index:o})))}}else{if("down"===r)return void(n._downTarget=e);n._reordering||n._swiping||("mouseover"===r?e.setAttribute("hover",""):"mouseout"===r&&e.removeAttribute("hover"))}var i=e.closest(".smart-tab-label-container");if(null===i){var l=e.closest(".smart-tab-group-container");null!==l&&n._groupContainerHandler(l,r)}else t.originalEvent&&"pointercancel"===t.originalEvent.type?i.tab.group&&delete i.parentElement.rippleInProgress:n._labelContainerHandler(i,t,r)}},{key:"_tabStripMouseleaveHandler",value:function(){var e=this;e.resize&&!e._resizing&&e.hasAttribute("resizing")&&e.removeAttribute("resizing")}},{key:"_tabStripMoveHandler",value:function(e){var t=this;if(t._dragStartDetails&&!t._dragStartDetails.checked&&(Date.now()-t._dragStartDetails.originalTime<500?(t._endReordering(void 0,void 0),t._dragStartDetails.checked=!0):delete t._dragStartDetails),t._dragStartDetails&&(Math.abs(t._dragStartDetails.pageX-e.pageX)>=5||Math.abs(t._dragStartDetails.pageY-e.pageY)>=5)){var n=t._orientationSettings,r=t._dragStartDetails[n.coordinate]-e[n.coordinate],a=t.$.tabStrip[n.scrollDirection];return t.$.tabStrip[n.scrollDirection]+=r,a!==t.$.tabStrip[n.scrollDirection]&&t._updateScrollButtonVisibility(),t._dragStartDetails={startX:t._dragStartDetails.startX,startY:t._dragStartDetails.startY,pageX:e.pageX,pageY:e.pageY,startTime:t._dragStartDetails.startTime,originalTime:t._dragStartDetails.originalTime,target:e.originalEvent.target,checked:t._dragStartDetails.checked},void(t._swiping=!0)}if(t.resize&&!t._resizing&&!t._reordering&&"shrink"!==t.tabLayout){for(var o,i=t._orientationSettings,l=e[i.coordinate],s=t._tabCoordinates,u=0;u<s.length;u++){var d=s[u][i.to];if(l>=d-4&&l<=d+4){o=t._reorderItems[u],t._resizeFrom=l;break}}void 0!==o?(t._tabToResize=o,t.setAttribute("resizing","")):(t._tabToResize=void 0,t.removeAttribute("resizing"))}}},{key:"_tabStripTouchmoveHandler",value:function(e){var t=this;if(t._touchmoveInside&&e.cancelable)return e.preventDefault(),void e.stopPropagation();var n=t.$.tabStrip,r=t._orientationSettings,a=n[r.size],o=n[r.scrollSize],i=t._touchCoords;if(a!==o&&i){var l=e.touches[0],s=n[r.scrollDirection],u=l[r.coordinate],d=parseFloat(u.toFixed(5)),c=i["pageY"===r.coordinate?1:0],p=parseFloat(c.toFixed(5));t._touchCoords=[l.pageX,l.pageY],0===s&&d>=p||s+a===o&&d<=p||(u!==c&&(t._touchmoveInside=!0),e.cancelable&&(e.preventDefault(),e.stopPropagation()))}}},{key:"_tabStripTouchstartHandler",value:function(e){var t=e.touches[0];this._touchCoords=[t.pageX,t.pageY]}},{key:"_toggleCollapsedState",value:function(){var e=this;e.collapsible&&(e.collapsed?e.expand():e.collapse())}},{key:"_toggleNavigationElementsVisibility",value:function(){var e,t=this,n=t._tabs.length;if(0===n)e="addClass";else{if(1!==n)return;e="removeClass"}"scroll"===t.tabLayout&&"scroll"===t.overflow?(t.$scrollButtonNear[e]("smart-hidden"),t.$scrollButtonFar[e]("smart-hidden")):"dropDown"===t.tabLayout&&t.$dropDownButton[e]("smart-hidden")}},{key:"_updateIndexes",value:function(e){var t=this;null!==t.selectedIndex&&e<=t.selectedIndex&&t.selectedIndex++,t._updateTabIndexes()}},{key:"_updateScrollButtonVisibility",value:function(e){var t=this;if("scroll"===t.tabLayout&&"hidden"!==t.overflow){var n=t.$tabsHeaderSection,r=t.$.tabStrip,a=t._orientationSettings,o=!0,i=!0;if(t.rightToLeft&&"scrollLeft"===a.scrollDirection){var l=Math.abs(t._getScrollLeft());0===Math.round(l)&&(i=!1),Math.round(r[a.size]+l)>=Math.round(r[a.scrollSize])-1&&(o=!1)}else 0===Math.round(r[a.scrollDirection])&&(o=!1),Math.round(r[a.size]+r[a.scrollDirection])>=Math.round(r[a.scrollSize])-1&&(i=!1);if("auto"===t.overflow){if(o&&i)return t.$scrollButtonNear.removeClass("smart-hidden"),t.$scrollButtonFar.removeClass("smart-hidden"),n.removeClass("one-button-shown"),void(t._tabLabelContainers[t.selectedIndex]&&t._positionTabSelectionBar(t._tabLabelContainers[t.selectedIndex],e));o?t.$scrollButtonNear.removeClass("smart-hidden"):t.$scrollButtonNear.addClass("smart-hidden"),i?t.$scrollButtonFar.removeClass("smart-hidden"):t.$scrollButtonFar.addClass("smart-hidden"),n.addClass("one-button-shown"),t._getTabCoordinates()}else"scroll"!==t.overflow||t.disabled||(t.$.scrollButtonNear.disabled=!o,t.$.scrollButtonFar.disabled=!i);t._tabLabelContainers[t.selectedIndex]&&t._positionTabSelectionBar(t._tabLabelContainers[t.selectedIndex],e)}else t._positionTabSelectionBar(t._tabLabelContainers[t.selectedIndex],e)}},{key:"_updateTabIndexes",value:function(){var e=this;if(e._tabs.length>0)for(var t=0;t<e._tabs.length;t++)e._tabs[t]._setIndex(t);else e.selectedIndex=null;e.$.hiddenInput.value=e.selectedIndex}},{key:"_updateTabLabel",value:function(e,t){var n=e.index,r=this._tabLabelContainers[n].firstElementChild.children[0],a=this.$.dropDownButtonDropDown.children[n];e.set("label",t),r.innerHTML="",a.innerHTML="",this._setLabel(t,r,a),this._applyTabOverflow(),e.setAttribute("aria-label",t),e.tabLabelContainer&&e.tabLabelContainer.setAttribute("aria-label",t)}},{key:"_validateIndex",value:function(e,t){if(isNaN(parseInt(e,10))||"object"==p(e)){this.error(this.localize("invalidIndex",{method:t}))}}},{key:"_validateInitialSelection",value:function(){for(var e=this,t=e.selectedIndex,n=0;n<e._tabs.length;n++){var r=e._tabs[n];t===n?(r.selected=!0,r.$.removeClass("smart-visibility-hidden")):r.selected?null===t?(t=n,r.$.removeClass("smart-visibility-hidden")):(r.selected=!1,r.$.addClass("smart-visibility-hidden")):r.$.addClass("smart-visibility-hidden")}e._tabs.length>0&&null===t&&!e.allowToggle&&(t=0,e._tabs[0].selected=!0,e._tabs[0].$.removeClass("smart-visibility-hidden")),e.selectedIndex=t,null!==e.selectedIndex&&(e._focusedItem=e._tabs[e.selectedIndex])}}],[{key:"properties",get:function(){return{addNewTab:{value:!1,type:"boolean"},allowToggle:{value:!1,type:"boolean"},closeButtonMode:{value:"default",allowedValues:["default","selected"],type:"string"},closeButtons:{value:!1,type:"boolean"},collapsed:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},dataSource:{value:null,type:"array?",reflectToAttribute:!1},enableMouseWheelAction:{value:!1,type:"boolean"},messages:{value:{en:{ambiguousIndexes:"smart-tabs: Initially set smart-tab-item indexes are ambiguous and are ignored in favour of the HTML structure.",detailsObjectRequired:'smart-tabs: The method "insert" requires a details Object to be passed as a second argument.',invalidIndex:'smart-tabs: "{{method}}" method accepts an index of type number.',referenceNodeNotChild:"smart-tabs: Passed {{argument}} is not part of this smart-tabs element.",tabItemRequired:'smart-tabs: The method "{{method}}" requires a "smart-tab-item" element to be passed as an argument.'}},type:"object",extend:!0},name:{value:"",type:"string"},overflow:{value:"auto",allowedValues:["auto","hidden","scroll"],type:"string"},reorder:{value:!1,type:"boolean"},resize:{value:!1,type:"boolean"},scrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},scrollMode:{value:"paging",allowedValues:["paging","continuous"],type:"string"},selectedIndex:{value:null,type:"number?"},selectionMode:{value:"click",allowedValues:["click","dblclick","mouseenter","none"],type:"string"},tabLayout:{value:"scroll",allowedValues:["scroll","dropDown","wrap","shrink"],type:"string",defaultReflectToAttribute:!0},tabPosition:{value:"top",allowedValues:["top","bottom","left","right","hidden"],type:"string"},tabTextOrientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"}}}},{key:"listeners",get:function(){return{closeButtonVisibilityChange:"_closeButtonVisibilityChangeHandler",indexChange:"_indexChangeHandler",keydown:"_keydownHandler",labelSizeChange:"_labelSizeChangeHandler",resize:"_applyTabOverflow",styleChanged:"_applyTabOverflow","container.dblclick":"_containerHandler","container.down":"_containerHandler","container.mouseout":"_containerHandler","container.mouseover":"_containerHandler","scrollButtonFar.click":"_scrollButtonClickHandler","scrollButtonNear.click":"_scrollButtonClickHandler","tabContentSection.transitionend":"_tabContentSectionTransitionendHandler","tabsHeaderItems.wheel":"_tabsHeaderItemsWheelHandler","tabStrip.mouseleave":"_tabStripMouseleaveHandler","tabStrip.move":"_tabStripMoveHandler","tabStrip.touchmove":"_tabStripTouchmoveHandler","tabStrip.touchstart":"_tabStripTouchstartHandler","document.move":"_documentMoveHandler","document.selectstart":"_selectStartHandler","document.up":"_documentUpHandler"}}},{key:"requires",get:function(){return{"Smart.RepeatButton":"smart.button.js"}}},{key:"styleUrls",get:function(){return["smart.tabs.css"]}}]),r}())}})}});