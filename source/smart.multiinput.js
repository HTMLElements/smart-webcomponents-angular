
/* Smart UI v9.0.0 (2020-Dec) 
Copyright (c) 2011-2021 jQWidgets. 
License: https://htmlelements.com/license/ */ //

!function(e){var t={};function a(r){if(t[r])return t[r].exports;var l=t[r]={i:r,l:!1,exports:{}};return e[r].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(r,l,function(t){return e[t]}.bind(null,l));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=79)}({79:function(e,t){Smart("smart-multi-input",class extends Smart.Input{static get properties(){return{separator:{value:", ",type:"string"},selectedValues:{value:[],type:"array"}}}_performSelect(e){const t=this;if(!e)return void t.close();const a=e.target?e.target.closest("li"):e;if(!a)return;t._selectedItems||(t._selectedItems=[]),a.classList.toggle("active");const r=a.classList.contains("active"),l={label:a.getAttribute("data-label"),value:a.getAttribute("value")};if(r)t._selectedItems.push(l),a.setAttribute("aria-selected",!0),t._setActiveDescendant(a);else{const e=t._selectedItems.findIndex(e=>e.label===l.label&&e.value===l.value);e>-1&&t._selectedItems.splice(e,1),a.setAttribute("aria-selected",!1)}a.setAttribute("aria-selected",r);const n=t._selectedItems,i=t.value,s=t.$.input.dataValue;let[o,u]=[[],[]];for(let e=0;e<n.length;e++){const t=n[e];o.push(t.label),u.push(t.value)}t.set("selectedValues",n.map(e=>e.value)),o=o.join(t.separator),t.set("value",o),t.$.input.dataValue=u=u.join(t.separator),o===i&&u===s||t.$.fireEvent("change",{value:u,label:o,oldValue:s,oldLabel:i})}close(){const e=this;return!!e.opened&&(e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.$.scrollView.parentNode&&!e.opened&&(e.$.scrollView.remove(),e.removeAttribute("aria-owns"),e.readonly||e.$.input.removeAttribute("aria-controls"))}),1e3),e.$.scrollView.removeAttribute("open"),e.$.dropDownButton.removeAttribute("open"),e.$.input.removeAttribute("open"),e.removeAttribute("open"),e.opened=!1,e.setAttribute("aria-expanded",!1),e.$.input.focus(),!0)}open(){const e=this;let t;e.dropDownDataSource?(e.query="",t="function"==typeof e.dataSource?e.dataSource(e.query):e.dataSource):t="function"==typeof e.dropDownDataSource?e.dropDownDataSource(e.query):e.dropDownDataSource,e._process(t),e.ensureVisible(),e.$.input.focus(),setTimeout((function(){e.$.input.focus()}),25)}_render(e){const t=this,a=e.map((function(e){let a=e,r=e;"object"==typeof e&&(a=e.label,r=void 0!==e.value?e.value:a);const l=document.createElement("li"),n=document.createElement("a");return n.href="#",l.id=t.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),l.setAttribute("data-label",a),l.setAttribute("value",r),l.setAttribute("role","option"),l.setAttribute("aria-selected",!1),l.setAttribute("aria-label",a),n.innerHTML=t.highlighter?t.highlighter(a):t._highlighter(a),n.setAttribute("aria-hidden",!0),e.icon&&(n.classList.add("icon"),n.classList.add(e.icon)),l.appendChild(n),l}));t.$.menu.innerHTML="";let r=[],l=[],n=t._selectedItems;n||(n=t._selectedItems=[]);const i=n.length;n.length&&n.forEach(e=>{l.push(e.label),r.push(e.value)}),r=r.concat((t.$.input.dataValue||t.$.input.value).split(",").map(e=>e.trim())),l=l.concat(t.$.input.value.split(",").map(e=>e.trim()));for(let e=0;e<a.length;e++){const s=a[e],o=s.getAttribute("value"),u=s.getAttribute("data-label"),c=i?r.indexOf(o):l.indexOf(u);if(c>-1&&l[c]===u){s.classList.add("active"),s.setAttribute("aria-selected",!0),t._setActiveDescendant(s),n.findIndex(e=>e.label===u&&e.value===o)<0&&n.push({label:s.getAttribute("data-label"),value:s.getAttribute("value")})}t.$.menu.appendChild(s)}t.set("selectedValues",n.map(e=>e.value))}_next(){const e=this;let t=e._selectedItems?e._selectedItems[e._selectedItems.length-1]:void 0;t&&(t=e.$.menu.querySelector(`.active[data-label="${t.label}"][value="${t.value}"]`));const a=t||e.$.menu.querySelector(".active");if(!a){const t=e.$.menu.firstElementChild;return void e._performSelect(t)}e._selectedItems&&(e._selectedItems=[]);const r=e.$.menu.children;for(let e=0;e<r.length;e++)r[e].classList.remove("active"),r[e].setAttribute("aria-selected",!1);e._setActiveDescendant();let l=a.nextElementSibling;l||(l=e.$.menu.firstElementChild),e._performSelect(l),e.ensureVisible()}_prev(){const e=this;let t=e._selectedItems?e._selectedItems[e._selectedItems.length-1]:void 0;t&&(t=e.$.menu.querySelector(`.active[data-label="${t.label}"][value="${t.value}"]`));const a=t||e.$.menu.querySelector(".active");if(!a){const t=e.$.menu.firstElementChild;return void e._performSelect(t)}e._selectedItems&&(e._selectedItems=[]);const r=e.$.menu.children;for(let e=0;e<r.length;e++)r[e].classList.remove("active"),r[e].setAttribute("aria-selected",!1);e._setActiveDescendant();let l=a.previousElementSibling;l||(l=e.$.menu.lastElementChild),e._performSelect(l),e.ensureVisible()}_keyUpHandler(e){const t=this;if(!e.shiftKey)switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:40===e.keyCode&&e.altKey&&t.open(),38===e.keyCode&&e.altKey&&t.close();break;case 9:case 13:if(!t.opened)return;t._performSelect(),e.stopPropagation(),e.preventDefault();break;case 27:if(!t.opened)return;t.close(),e.stopPropagation(),e.preventDefault();break;default:t._lookup(e),!t.opened||e.ctrlKey||e.shiftKey||(e.stopPropagation(),e.preventDefault()),t.readonly||(t.$.input.dataValue=t.$.input.value)}}propertyChangedHandler(e,t,a){const r=this;if("value"===e){r.displayMember!==r.valueMember&&"string"!=typeof a?(r.value=a[r.displayMember],r.$.input.dataValue=a[r.valueMember]):r.$.input.dataValue=r.$.input.value=a,r._selectedItems=[],r.set("selectedValues",[]);const e=r.$.menu.children;for(let t=0;t<e.length;t++)e[t].classList.remove("active"),e[t].setAttribute("aria-selected",!1);r._setActiveDescendant()}else"separator"===e?(r.set("value",r.value.replace(new RegExp(t,"g"),a)),r.$.input.dataValue&&(r.$.input.dataValue=r.$.input.dataValue.replace(new RegExp(t,"g"),a))):super.propertyChangedHandler(e,t,a)}_createElement(){const e=this,t=document.createElement("ul"),a=document.createElement("smart-scroll-viewer");a.rightToLeft=e.rightToLeft,a.theme=e.theme,a.horizontalScrollBarVisibility="hidden",a.classList.add("smart-multi-input-drop-down-menu"),e.inverted?a.setAttribute("inverted",""):a.removeAttribute("inverted"),e.classList.add("smart-input"),t.setAttribute("aria-multiselectable",!0),e.$.scrollView=a,e.$.menu=t,e.$.menu.onclick=function(t){t.stopPropagation(),t.preventDefault(),e._performSelect(t),e.$.input.focus()}}_setActiveDescendant(e){const t=this;t.readonly||(e?t.setAttribute("aria-activedescendant",e.id):t.removeAttribute("aria-activedescendant"))}})}});