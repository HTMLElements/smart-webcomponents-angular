
/* Smart UI v9.0.0 (2020-Dec) 
Copyright (c) 2011-2021 jQWidgets. 
License: https://htmlelements.com/license/ */ //

!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=99)}({99:function(e,t){Smart("smart-sortable",class extends Smart.ContentElement{static get properties(){return{dragMode:{value:"item",allowedValues:["item","handle"],type:"string"},handlePosition:{value:"right",allowedValues:["right","left","top","bottom"],type:"string"},handleVisibility:{value:"hover",allowedValues:["hover","visible"],type:"string"},items:{value:null,type:"string?"},mode:{value:"vertical",allowedValues:["horizontal","vertical"],type:"string"}}}static get listeners(){return{contextmenu:"_preventDefault","container.down":"_containerDownHandler","container.move":"_containerMoveHandler","container.transitionend":"_containerTransitionendHandler","document.dragstart":"_preventDefault","document.move":"_documentMoveHandler","document.selectstart":"_preventDefault","document.up":"_documentUpHandler"}}static get styleUrls(){return["smart.sortable.css"]}template(){return'<div id="container" class="smart-sortable-container" role="presentation"><content></content></div>'}move(e,t){const o=this,n=o._items;if(isNaN(e)||isNaN(t)||e===t||e<0||e>=n.length||t<0||t>=n.length)return;const i=n[e],r=n[t];e>t?o._itemsParent.insertBefore(i,r):o._itemsParent.insertBefore(i,r.nextElementSibling),o._getItems(!1)}updateItems(){this._items.forEach(e=>e.classList.remove("smart-sortable-item")),this._getItems()}propertyChangedHandler(e,t,o){super.propertyChangedHandler(e,t,o);const n=this;switch(e){case"disabled":n._originallyDisabled=o,n._items.length<2&&(n.disabled=!0);break;case"items":n._itemsParent.classList.remove("smart-sortable-items-parent"),n.updateItems();break;case"mode":n._setSettingsObject()}}ready(){super.ready();this.setAttribute("role","group"),this._originallyDisabled=this.disabled,this._getItems(),this._setSettingsObject()}_getItems(e){const t=this;null===t.items?t._items=Array.from(t.$.container.children):t._items=Array.from((t.shadowRoot||t).querySelectorAll(".smart-sortable-container "+t.items)),!1!==e&&(t._items.forEach(e=>e.classList.add("smart-sortable-item")),t._items.length&&(t._itemsParent=t._items[0].parentElement,t._itemsParent.classList.add("smart-sortable-items-parent"),t._items.length<2?t.disabled=!0:t.disabled=t._originallyDisabled))}_setSettingsObject(){const e=this;"vertical"===e.mode?e._settings={coordinateName:"y",dimension:"height",offsetDimension:"offsetHeight",startOffset:"top",endOffset:"bottom"}:e._settings={coordinateName:"x",dimension:"width",offsetDimension:"offsetWidth",startOffset:"left",endOffset:"right"}}_preventDefault(e){this._draggedItem&&e.preventDefault()}_containerDownHandler(e){if(this.disabled||this._draggedItem)return;const t=(this.shadowRoot||this.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest(".smart-sortable-item");if(!t)return;const o=e.pageX-window.scrollX,n=e.pageY-window.scrollY,i=t.getBoundingClientRect(),r=getComputedStyle(t),s=parseFloat(r.marginLeft),a=parseFloat(r.marginTop);"handle"===this.dragMode&&(e.originalEvent.target!==document.elementFromPoint(e.clientX,e.clientY)||o>=i.left&&o<=i.right&&n>=i.top&&n<=i.bottom)||(window.getSelection().removeAllRanges(),this._draggedItem=t,this._positionPlaceholder(),this._getPositionedAncestorCoords(),t.style.width=t.offsetWidth+"px",t.style.height=t.offsetHeight+"px",t.style.left=i.left-s+(-this._positionedAncestorCoords.x||window.scrollX)+"px",t.style.top=i.top-a+(-this._positionedAncestorCoords.y||window.scrollY)+"px",t.classList.add("dragged"),this._clickOffset={x:e.pageX-i.left+s,y:e.pageY-i.top+a},this._prevCoords={x:o,y:n},this._getItemCoordinates())}_positionPlaceholder(){const e=this._draggedItem,t=getComputedStyle(e),o=document.createElement("div");o.className="smart-sortable-item placeholder smart-visibility-hidden",o.style.width=e.offsetWidth+"px",o.style.height=e.offsetHeight+"px",o.style.minHeight=e.offsetHeight+"px",o.style.marginBottom=t.marginBottom,o.style.marginLeft=t.marginLeft,o.style.marginRight=t.marginRight,o.style.marginTop=t.marginTop,this._itemsParent.insertBefore(o,e.nextElementSibling),this._placeholder=o}_getPositionedAncestorCoords(){const e=this,t=e.offsetParent;if(e._positionedAncestorCoords={x:0,y:0},t!==document.body){const o=t.getBoundingClientRect();e._positionedAncestorCoords={x:o.left,y:o.top}}}_getItemCoordinates(){const e=[];this._items.forEach((function(t){const o=t.getBoundingClientRect();e.push({left:o.left,top:o.top,right:o.right,bottom:o.bottom,width:o.width,height:o.height})})),this._coordinates=e}_containerMoveHandler(e){this._draggedItem&&"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_containerTransitionendHandler(e){const t=this;t._draggedItem&&e.target.classList.contains("smart-sortable-item")&&(e.target.classList.contains("returning")?t._resolveDragging():t._getItemCoordinates())}_documentMoveHandler(e){const t=this,o=t._draggedItem;if(!o)return;const n=t._settings,i={x:e.pageX-window.scrollX,y:e.pageY-window.scrollY},r=i[n.coordinateName];let s;if(t._prevCoords.x===i.x&&t._prevCoords.y===i.y)return;t.hasAttribute("dragged")||t.setAttribute("dragged",""),s=t._prevCoords[n.coordinateName]>r?"up":"down",t._prevCoords=i,o.style.top=e.pageY-t._clickOffset.y+(-t._positionedAncestorCoords.y||window.scrollY)+"px",o.style.left=e.pageX-t._clickOffset.x+(-t._positionedAncestorCoords.x||window.scrollX)+"px";const a=t._items.indexOf(o);let l;for(let e=0;e<t._coordinates.length;e++){const o=t._coordinates[e];if(a!==e){if("down"===s&&r>=o[n.startOffset]+o[n.dimension]/2&&r<=o[n.endOffset]){l=t._items[e];break}if("up"===s&&r>=o[n.startOffset]&&r<=o[n.startOffset]+o[n.dimension]/2){l=t._items[e];break}}}if(l){if(l!==t._prevOverItem){if(t._prevOverItem=l,l[s])return;const e=t._items.indexOf(l);if(t._overItem=l,l.up||l.down)l.style.transform=null,delete l.up,delete l.down;else{if("horizontal"===t.mode&&("up"===s&&(!t.rightToLeft&&e>a||t.rightToLeft&&e<a)||"down"===s&&(!t.rightToLeft&&e<a||t.rightToLeft&&e>a)))return;if("vertical"===t.mode&&("up"===s&&e>a||"down"===s&&e<a))return;const o=getComputedStyle(l);l.style.transform=`translate${n.coordinateName.toUpperCase()}(${("up"===s?1:-1)*(l[n.offsetDimension]+parseFloat(o["margin-"+n.startOffset])+parseFloat(o["margin-"+n.endOffset]))}px)`,l[s]=!0}}}else delete t._prevOverItem}_documentUpHandler(){const e=this,t=e._draggedItem;if(!t)return;let o=e._overItem;if(o){const n=e._items.indexOf(t),i=e._items.indexOf(o);n<i&&o[e.rightToLeft&&"horizontal"===e.mode?"up":"down"]||n>i&&!o.down&&!o.up?(e._insertBefore=o.nextElementSibling,o=e._insertBefore,o&&o.nextElementSibling===t&&(o=e._placeholder)):(n>i&&o[e.rightToLeft&&"horizontal"===e.mode?"down":"up"]||n<i&&!o.down&&!o.up)&&(e._insertBefore=o,n>i&&o[e.rightToLeft&&"horizontal"===e.mode?"down":"up"]||(o=o.previousElementSibling||o))}else o=e._placeholder;e._resolveDragging()}_resolveDragging(){const e=this,t=e._draggedItem,o=e._items.indexOf(t);let n=!1;t.classList.remove("dragged","returning"),e._removeInlineStyle(),void 0!==e._insertBefore&&e._items.indexOf(e._insertBefore)!==o&&e._insertBefore!==e._placeholder[e.rightToLeft&&"horizontal"===e.mode?"previousElementSibling":"nextElementSibling"]&&(e._itemsParent.insertBefore(t,e._insertBefore),delete e._insertBefore,n=!0),e._itemsParent.removeChild(e._placeholder),delete e._clickOffset,delete e._draggedItem,delete e._overItem,delete e._placeholder,delete e._prevCoords,e.removeAttribute("dragged"),n&&(e._getItems(!1),e.$.fireEvent("dragEnd",{oldIndex:o,newIndex:e._items.indexOf(t)}))}_removeInlineStyle(){const e=this;e._items.forEach((function(e){e.style=null,e.style.transition="none",delete e.up,delete e.down})),setTimeout((function(){e._items.forEach(e=>e.style.transition=null)}),50)}})}});